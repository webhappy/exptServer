var FeatureTrack=Lane.extend({init:function(a){this.items=[];this.chart=a;this.ctx=a.ctx;this.track=[];this.track.chart=a;this.tickers=[]},getTickerPositionX:function(a){return this.chart.convertNtsToPixels(a-this.chart.scale.min)},drawIndicatorLine:function(a,g,c,d,b,e,f){e||(e="#E0E0E0");b||(b=1);f||(f=[10,5]);b=new Kinetic.Line({points:[0,0,this.chart.width,0],stroke:e,dash:f,strokeWidth:b,offsetY:g});a.add(b);c&&(d||(d=20),c=new Kinetic.Text({text:c,fill:"black",x:d,y:0,offsetY:g}),c.setY(-c.height()/
2),a.add(new Kinetic.Rect({x:d-2,y:-c.height()/2,offsetY:g,fill:COLOR_BG,height:c.height(),width:8+c.width()})),a.add(c));return b},drawSmootherForStrand:function(a,g,c,d){function b(a){a=-1*RESULT_HEIGHT*(a-e)/(f-e);a<-RESULT_HEIGHT&&(a=-RESULT_HEIGHT);a>RESULT_HEIGHT&&(a=RESULT_HEIGHT);return a+RESULT_HEIGHT}for(var e=-4,f=4,k={},h={},l=[],m=0;m<g.length;m++)g[m].strand==c&&l.push(g[m]);for(m=0;m<l.length;m++){g=l[m];c=mean(g.yVals);var p=std(g.yVals)/Math.sqrt(g.yVals.length);k[g.left+10]=c+p;
h[g.left+10]=c-p}g=(this.chart.scale.max-this.chart.scale.min)/500;c=0;for(var p=l[0].left+10,s=k[p],r=h[p],q=b(s),u=b(r),v=this.getTickerPositionX(p),x=this.chart.scale.min;x<=this.chart.scale.max;x+=g){for(var z=0,m=0;m<l.length;m++)500>Math.abs(l[m].left+10-x)&&(z+=Math.exp(-Math.pow(l[m].left+10-x,2)/20));if(1E-5<z)if(c<l.length&&x>=l[c].left+10){var p=l[c].left+10,s=k[p],r=h[p],y=b(s),w=b(r),m=this.getTickerPositionX(x),z=0<c?new Kinetic.Line({closed:!0,strokeWidth:0,fill:d,opacity:z,stroke:"",
points:[v-2,q,v-2,u,m,w,m,y]}):new Kinetic.Line({closed:!0,strokeWidth:0,fill:d,opacity:z,stroke:"",points:[m-g,y,m-g,w,m,w,m,y]});a.add(z);v=m;q=y;u=w;c++}else 0==c||c>=l.length?(y=b(s),w=b(r),m=this.getTickerPositionX(x),z=new Kinetic.Line({closed:!0,strokeWidth:0,fill:d,opacity:z,stroke:"",points:[m-g,y,m-g,w,m,w,m,y]}),a.add(z)):(y=l[c].left+10,m=r+(x-p)*(h[y]-r)/(y-p),y=b(s+(x-p)*(k[y]-s)/(y-p)),w=b(m),m=this.getTickerPositionX(x),z=new Kinetic.Line({closed:!0,strokeWidth:0,fill:d,stroke:"",
opacity:z,points:[v-2,q,v-2,u,m,w,m,y]}),a.add(z),u=w,q=y,v=m)}},drawSmoother:function(a){var g=new Kinetic.Group,c=this.tickers;this.drawSmootherForStrand(g,c,"+","#B8A1B8");this.drawSmootherForStrand(g,c,"-","#889F9A");a.add(g)},drawExptResults:function(a){for(var g=[-3,-2,-1,1,2],c=0;c<g.length;c++){var d=g[c],b=d*this.chart.sd;this.drawIndicatorLine(a,1*RESULT_HEIGHT*(b- -4)/8-RESULT_HEIGHT,d+" SD="+b.toPrecision(4),40,1,"grey")}this.drawIndicatorLine(a,-RESULT_HEIGHT/2,"LR=0",10,2,"black",[15,
5]);g=Math.ceil(this.chart.convertNtsToPixels(20));for(c=0;c<this.tickers.length;c++)for(d=this.tickers[c],b=0;b<d.yVals.length;b++){var e=this.getTickerPositionX(d.left),e=new Kinetic.Group({offsetX:-e,offsetY:-RESULT_HEIGHT+1*RESULT_HEIGHT*(d.yVals[b]- -4)/8});"+"==d.strand?e.add(new Kinetic.Line({strokeWidth:2,points:[0,0,g,0,g-5,-5],stroke:this.chart.exptColors[b]})):e.add(new Kinetic.Line({strokeWidth:2,points:[g,0,0,0,5,5],stroke:this.chart.exptColors[b]}));e.msg="yVals @ "+d.left+"("+d.strand+
"), "+this.chart.exptNames[b]+": "+d.yVals[b];e.on("mouseover",function(){writeMessage(this.msg)});e.on("mouseout",function(){writeMessage("")});a.add(e)}},draw:function(a,g){for(var c=0;c<this.items.length;c++)this.items[c].feature.draw(a);this.drawExptResults(g)},getHeight:function(){return 0},addGene:function(a,g,c,d){d=d||"+";var b=Math.round(this.chart.convertPixelstoNts(15)),b=g<b?a+b:a+g,e=this.findLowestRow(a,b,0);g=new BlockArrow(this.chart,"gene",a,g,d,TFBS_HEIGHT*e);g.name=c;g.lane=this;
this.items.push({left:a,right:b,level:e,feature:g,height:2});return g},addTicker:function(a,g,c){this.tickers.push({left:a,strand:g,yVals:c,lane:this})},addSRNA:function(a,g,c,d){d=d||"+";var b=Math.round(this.chart.convertPixelstoNts(15)),b=g<b?a+b:a+g,e=this.findLowestRow(a,b,3);g=new sRNA("sRNA",a,g,d,TFBS_HEIGHT*e);g.name=c;g.lane=this;this.items.push({left:a,right:b,level:e,feature:g,height:1});return g},addPromoter:function(a,g,c,d){d=d||"+";var b=this.chart.convertPixelstoNts(100),b=g<b?a+
b:a+g,e=this.findLowestRow(a,b,3);g=new Promoter("promoter",a,g,d,TFBS_HEIGHT*e);g.name=c;g.lane=this;this.items.push({left:a,right:b,level:e,feature:g,height:1});return g},addTFBS:function(a,g,c,d){d=d||"+";var b=a+g,e=this.findLowestRow(a,b);g=new TFBS("TFBS",a,g,d,25*e);g.name=c;g.lane=this;this.items.push({left:a,right:b,level:e,feature:g,height:1});return g},findLowestRow:function(a,g,c){for(var d=[],b=0;b<this.items.length;b++)if(!(this.items[b].right<=a||this.items[b].left>=g))for(var e=0;e<
this.items[b].height;e++)d[this.items[b].level+e]=!0;for(a=c||0;;a++)if(!d[a])return a}});(function(){var a=!1,g=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var b=this.prototype;a=!0;var e=new this;a=!1;for(var f in c)e[f]="function"==typeof c[f]&&"function"==typeof b[f]&&g.test(c[f])?function(a,f){return function(){var e=this._super;this._super=b[a];var c=f.apply(this,arguments);this._super=e;return c}}(f,c[f]):c[f];d.prototype=e;d.constructor=d;d.extend=arguments.callee;return d}})();var MouseEventHandler=Class.extend({init:function(a){this.chart=a;this.mouseY=this.mouseX=null;this.eventElement=void 0;this.isEventDetected=!1;this.tooltip=new Tooltip("","above",-4)},addEvents:function(a){var g=this.chart,c=g.ctx,d=g.myMouseEventHandler;a.onMouseover&&!g.events.hasMouseover?(g.addMouseoverEventListener(g.myMouseEventHandler.handleMouseover),g.events.hasMouseover=!0):0<a.tooltips.length&&!g.events.hasMouseover?(g.addMouseoverEventListener(g.myMouseEventHandler.handleMouseover),g.events.hasMouseover=
!0):a.parent&&0<a.parent.tooltips.length&&!g.events.hasMouseover?(g.addMouseoverEventListener(g.myMouseEventHandler.handleMouseover),g.events.hasMouseover=!0):a.parent&&a.parent.onMouseover&&!g.events.hasMouseover&&(g.addMouseoverEventListener(g.myMouseEventHandler.handleMouseover),g.events.hasMouseover=!0);a.onClick&&!g.events.hasClick?(g.addClickEventListener(g.myMouseEventHandler.handleClick),g.addMouseoverEventListener(g.myMouseEventHandler.handleMouseStyle),g.events.hasClick=!0):a.parent&&a.parent.onClick&&
!g.events.hasClick&&(g.addClickEventListener(g.myMouseEventHandler.handleClick),g.addMouseoverEventListener(g.myMouseEventHandler.handleMouseStyle),g.events.hasClick=!0);!d.isEventDetected&&c.isPointInPath_mozilla(d.mouseX,d.mouseY)&&(d.eventElement=a,d.isEventDetected=!0)},setMousePosition:function(a){if(null!=a){var g=this.chart.canvas.getBoundingClientRect();this.mouseX=a.clientX-g.left;this.mouseY=a.clientY-g.top}},handleClick:function(a){a=a.myMouseEventHandler.eventElement;var g;void 0!=a&&
void 0!=a.onClick?g=a.onClick:a&&a.parent&&a.parent.onClick&&(g=a.parent.onClick);g&&("string"==typeof g?window.open(g):"function"==typeof g&&g(a))},handleMouseover:function(a){a=a.myMouseEventHandler;var g=a.eventElement;g&&void 0==g.onMouseover&&g.parent&&g.parent.onMouseover&&(g.onMouseover=g.parent.onMouseover);if(g&&g.onMouseover)if("string"==typeof g.onMouseover)a.tooltip.fire(g);else if("function"==typeof g.onMouseover)g.onMouseover(g);g&&0<g.tooltips.length&&g.fireTooltips()},handleMouseStyle:function(a){var g=
a.myMouseEventHandler.eventElement;a.ctx.canvas.style.cursor=g&&void 0!=g.onClick?"pointer":g&&g.parent&&void 0!=g.parent.onClick?"pointer":"auto"},reset:function(a){a=a.myMouseEventHandler;a.mouseX=null;a.mouseY=null;a.eventElement=void 0;a.isEventDetected=null;a.elementIndexCounter=0}});
CanvasRenderingContext2D.prototype.isPointInPath_mozilla=function(a,g){if(-1!=navigator.userAgent.indexOf("Firefox")){this.save();this.setTransform(1,0,0,1,0,0);var c=this.isPointInPath(a,g);this.restore()}else c=this.isPointInPath(a,g);return c};var Glyph=Class.extend({init:function(a,g,c,d,b){this.uid=_uniqueId("feature");this.position=g;this.length=c;this.strand=d;this.type=a;this.opts={};this.name="";this.borderColor="none";this.borderWidth=void 0;this.ntLevel=4;this.tooltips=[];this.hooks={};this.addDrawHook(function(a){if(void 0!=a.ntLevel&&a.seq&&a.lane.chart.convertPixelstoNts()<a.ntLevel){var b=new Seq(a.type,a.position,a.length,a.seq,a.opts);b.lane=a.lane;b.ctx=a.ctx;b._draw();return!0}return!1},"ntHook");this.text={};this.text.font=
void 0;this.text.size=void 0;this.text.color=void 0;this.onMouseover=this.onClick=this.text.align=void 0;for(var e in b)this[e]=b[e],this.opts[e]=b[e]},setColorGradient:function(){if(1==arguments.length)this.color=arguments[0];else{for(var a=this.lane.ctx.createLinearGradient(this.length/2,0,this.length/2,this.getHeight()),g,c=0;g=arguments[c],c<arguments.length;c++)a.addColorStop(c/(arguments.length-1),g);this.color=a}},getPixelLength:function(){return this.lane.chart.convertNtsToPixels(this.length)||
1},getPixelPositionX:function(){var a=parseInt(this.lane.track.chart.offset)||0;return Math.round(this.lane.track.chart.convertNtsToPixels(this.parent?this.position+this.parent.position-this.lane.track.chart.scale.min:this.position-this.lane.track.chart.scale.min)+a)},getPixelPositionY:function(){return this.lane.getPixelPositionY()},getEnd:function(){return this.position+this.length},clone:function(a){a=a||this.glyphType;if("Rect"==a||"Line"==a)this.strand=void 0;if(this.strand){a="new "+a+'("'+
this.type+'",'+this.position+","+this.length+',"'+this.strand+'",'+JSON.stringify(this.opts)+")";a=eval(a);var g=Object.keys(this),c=0}else a="new "+a+'("'+this.type+'",'+this.position+","+this.length+","+JSON.stringify(this.opts)+")",a=eval(a),g=Object.keys(this),c=0;for(;c<g.length;c++)a[g[c]]=this[g[c]];a.tooltips=this.tooltips;a.hooks=this.hooks;return a},getAttr:function(a){a=a.split("-");for(var g=this,c=0;c<a.length;c++)g=g[a[c]];if(g)return g;if(this.parent){g=this.parent;for(c=0;c<a.length;c++)g=
g[a[c]];if(g)return g}if(this.lane&&(g=this.lane.chart[this.type])){for(c=0;c<a.length;c++)g=g[a[c]];if(g)return g}if(this.lane){g=this.lane.chart.glyph;for(c=0;c<a.length;c++)g=g[a[c]];if(g)return g}},drawText:function(a){var g=this.lane.chart.ctx,c=this.getPixelLength(),d=this.getHeight(),b=this.getAttr("text-size"),e=this.getAttr("text-style");g.font=b+"px "+e;g.textBaseline="middle";g.fillStyle=this.getAttr("text-color");var f=void 0,k=this.getAttr("text-align");"start"==k?k="+"==this.strand?
"left":"right":"end"==k&&(k="+"==this.strand?"right":"left");g.textAlign=k;"left"==k?f=5:"center"==k?f=c/2:"right"==k&&(f=c-5);var h=g.measureText(a);if(a&&""!=a){for(;4>c-h.width;)if(b=/^\d+/.exec(g.font),b--,h=g.measureText(a),g.font=b+"px "+e,8>=b){a="";break}"Complex"==this.glyphType&&(c=0,b=/^\d+/.exec(g.font),"center"==k&&(c=-(g.measureText(a).width/2+2.5)),g.clearRect(f+c,d/2-b/2,g.measureText(a).width+5,b));g.fillText(a,f,d/2)}},calcRoundness:function(){var a=this.getHeight()*this.getAttr("roundness")/
100;return a=(2.5<=10*a%5?5*parseInt(10*a/5)+5:5*parseInt(10*a/5))/10},isContainedWithinRect:function(a,g,c,d){var b=this.getPixelPositionY(),e=this.getPixelPositionX(),f=this.getPixelPositionX()+this.getPixelLength(),k=b+this.getHeight();return e>=a&&f<=c&&b>=g&&k<=d},getHeight:function(){return this.lane.getHeight()},getFillStyle:function(){var a=this.getAttr("color");if(a instanceof Array){for(var g=this.lane.track.chart.ctx.createLinearGradient(this.length/2,0,this.length/2,this.getHeight()),
c,d=0;c=a[d],d<a.length;d++)g.addColorStop(d/(a.length-1),c);return g}return a instanceof Function?(g=this.lane.track.chart.ctx.createLinearGradient(this.length/2,0,this.length/2,this.getHeight()),a(g)):a},getStrokeStyle:function(){var a=this.getAttr("borderColor");if("object"==typeof a){for(var g=this.lane.ctx.createLinearGradient(this.length/2,0,this.length/2,this.getHeight()),c,d=0;c=a[d],d<a.length;d++)g.addColorStop(d/(a.length-1),c);return g}return a},isSubFeature:function(){return void 0!=
this.parent},erase:function(){this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.clearRect(this.getPixelPositionX(),this.getPixelPositionY(),this.getPixelLength(),this.getHeight());this.ctx.restore()},addDrawHook:function(a,g){var c=g||_uniqueId("drawHook");this.hooks[c]=a;return c},removeDrawHook:function(a){delete this.hooks[a]},addTooltip:function(a,g,c,d){a=new Tooltip(a,g,c,d);a.feature=this;this.tooltips.push(a)},fireTooltips:function(){for(var a=0;a<this.tooltips.length;a++)this.tooltips[a].fire()},
draw:function(a){},redraw:function(){this.lane.ctx.save();this.erase;var a=this.getPixelPositionY();this.lane.ctx.translate(0,a);this.draw();this.lane.ctx.restore()}});function writeMessage(a){chart1.text.setText(a);chart1.messageLayer.draw()}function replaceNumberWithCommas(a){a=a.toString().split(".");a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return a.join(".")}function mean(a){for(var g=0,c=0;c<a.length;c++)g+=a[c];return g/a.length}function std(a){for(var g=mean(a),c=0,d=0;d<a.length;d++)c+=Math.pow(a[d]-g,2);return Math.pow(c/a.length,0.5)}
var COLOR_1="#4A6395",COLOR_2="#C4D85F",COLOR_3="#8F4091",COLOR_BG="#E2D7C2",isDragging=!1,initCoords=0,currentCoords=0,initAdjXPos,actualOffset,dragDisplayLayer,dragDisplayRect,lastScrollTime=0;DRAWINGS_HEIGHT=300;TFBS_HEIGHT=25;GENE_HEIGHT=2*TFBS_HEIGHT;RESULT_HEIGHT=300;function adjustMouseX(a){return a-chart1.offset-$(".kineticjs-content").offset().left}
function getCoordsFromOrigMouseX(a){a=adjustMouseX(a);return Math.round(a*(chart1.scale.max-chart1.scale.min)/chart1.width+chart1.scale.min)}
function startDrag(a,g,c){1<c?(dragDisplayRect.setVisible(!1),dragDisplayLayer.draw(),isDragging=!1,chart1.text.setText("Aborting drag"),chart1.messageLayer.draw()):(isDragging=!0,initAdjXPos=g=adjustMouseX(a),initCoords=getCoordsFromOrigMouseX(a),chart1.text.setText("Drag to zoom"),chart1.messageLayer.draw(),dragDisplayRect.setVisible(!0),dragDisplayRect.setX(g),dragDisplayRect.setWidth(1),dragDisplayLayer.draw())}
function checkDrag(a,g){if(isDragging){var c=adjustMouseX(a),d=getCoordsFromOrigMouseX(a);chart1.text.setText("Zooming from "+chart1.getTickText(initCoords)+" to "+chart1.getTickText(d));chart1.messageLayer.draw();dragDisplayRect.setWidth(c-initAdjXPos);dragDisplayLayer.draw()}}
function stopDrag(a,g){if(isDragging){isDragging=!1;var c=adjustMouseX(a),d=getCoordsFromOrigMouseX(a);if(50>Math.abs(d-initCoords))chart1.text.setText("Canceling zoom (select wider region)"),chart1.messageLayer.draw(),dragDisplayRect.setVisible(!1),dragDisplayLayer.draw();else{chart1.text.setText("Zoomed from "+initCoords+" to "+d);chart1.messageLayer.draw();if(initAdjXPos>c){var b=initCoords;initCoords=d;d=b}dragDisplayRect.setWidth(c-initAdjXPos);dragDisplayLayer.draw();$('input[name="left"]').val(Math.round(initCoords));
$('input[name="right"]').val(Math.round(d));updateAjax()}}}
var Scribl=Class.extend({init:function(a){this.scrolled=!1;var g;a&&(g=a.getContext("2d"));this.width=window.innerWidth-80;this.uid=_uniqueId("chart");this.laneBuffer=5;this.trackBuffer=25;this.offset=void 0;this.canvas=a;this.ctx=g;this.featureTrack=new FeatureTrack(this,this.laneSizes);this.scale={};this.scale.pretty=!0;this.scale.max=void 0;this.scale.min=void 0;this.scale.auto=!1;this.scale.userControlled=!1;this.scale.positions=[0];this.scale.off=!1;this.scale.size=15;this.scale.font={};this.scale.font.size=
15;this.scale.font.color="black";this.scale.font.buffer=10;this.glyph={};this.glyph.roundness=6;this.glyph.borderWidth=1;this.glyph.color=["#99CCFF","rgb(63, 128, 205)"];this.glyph.text={};this.glyph.text.color="black";this.glyph.text.size="13";this.glyph.text.font="arial";this.glyph.text.align="center";this.tick={};this.tick.auto=!0;this.tick.major={};this.tick.major.size=10;this.tick.major.color="black";this.tick.minor={};this.tick.minor.size=1;this.tick.minor.color="rgb(55,55,55)";this.tick.halfColor=
"rgb(10,10,10)";this.drawStyle="expand"},getScaleHeight:function(){return this.scale.font.size+this.scale.size},getHeight:function(){var a=0;this.scale.off||(a+=this.getScaleHeight());for(var g=this.tracks.length,c=0;c<g;c++)a+=this.trackBuffer,a+=this.tracks[c].getHeight();return a},getFeatures:function(){for(var a=[],g=0;g<this.tracks.length;g++)for(var c=0;c<this.tracks[g].lanes.length;c++)a=a.concat(this.tracks[g].lanes[c].features);return a},setCanvas:function(a){this.canvas=a;this.ctx=a.getContext("2d")},
addScale:function(){this.scale.userControlled?this.scale.positions.push(this.tracks.length):(this.scale.positions=[this.tracks.length],this.scale.userControlled=!0)},addTrack:function(){var a=new Track(this);1==this.tracks.length&&void 0==this.tracks[0]&&(this.tracks=[]);this.tracks.push(a);return a},removeTrack:function(a){for(var g=0;g<this.tracks.length;g++)a.uid==this.tracks[g].uid&&this.tracks.splice(g,1);delete a},loadFeatures:function(a){for(var g=0;g<a.length;g++)this.addFeature(a[g])},addGene:function(a,
g,c,d){return this.featureTrack.addGene(a,g,d,c)},addFeature:function(a){(this.tracks[0]||this.addTrack()).addFeature(a);return a},addSRNA:function(a,g,c,d){return this.featureTrack.addSRNA(a,g,c,d)},addPromoter:function(a,g,c,d){return this.featureTrack.addPromoter(a,g,c,d)},addTFBS:function(a,g,c,d){return this.featureTrack.addTFBS(a,g,c,d||"+")},addTicker:function(a,g,c){return this.featureTrack.addTicker(a,g,c)},slice:function(a,g,c){c=c||"inclusive";var d=this.tracks.length,b=new Scribl(this.canvas,
this.width);b.scale.min=this.scale.min;b.scale.max=this.scale.max;b.offset=this.offset;b.scale.off=this.scale.off;b.scale.pretty=this.scale.pretty;b.laneSizes=this.laneSizes;b.drawStyle=this.drawStyle;b.glyph=this.glyph;b.glyphHooks=this.glyphHooks;b.trackHooks=this.trackHooks;b.previousDrawStyle=this.previousDrawStyle;for(var e=0;e<d;e++){var f=this.tracks[e],k=b.addTrack();k.drawStyle=f.drawStyle;for(var h=f.lanes.length,l=0;l<h;l++)for(var m=k.addLane(),p=f.lanes[l].features,s=0;s<p.length;s++){var r=
p[s].position+p[s].length,q=p[s].position;if("inclusive"==c)q>=a&&q<=g?m.addFeature(p[s].clone()):r>a&&r<g?m.addFeature(p[s].clone()):q<a&&r>g?m.addFeature(p[s].clone()):q>a&&r<g&&m.addFeature(p[s].clone());else if("strict"==c)if(q>=a&&q<=g)if(r>a&&r<g)m.addFeature(p[s].clone());else{var u="BlockArrow"==p[s].glyphType&&"+"==p[s].strand?p[s].clone("Rect"):p[s].clone();u.length=Math.abs(g-q);m.addFeature(u)}else r>a&&r<g?(u="BlockArrow"==p[s].glyphType&&"-"==p[s].strand?p[s].clone("Rect"):p[s].clone(),
u.position=a,u.length=Math.abs(r-a),m.addFeature(u)):q<a&&r>g&&(u="BlockArrow"==p[s].glyphType?p[s].clone("Rect"):p[s].clone(),u.position=a,u.length=Math.abs(g-a),m.addFeature(u));else"exclusive"==c&&q>=a&&q<=g&&r>a&&r<g&&m.addFeature(p[s].clone())}}return b},draw:function(){waitingToDraw=!0;this.width=window.innerWidth-80;this.stage=new Kinetic.Stage({container:"container",width:this.width,height:800});this.initScale();if(this.messageLayer)this.stage.add(this.messageLayer);else{var a=new Kinetic.Layer({});
this.messageLayer=a;this.text=new Kinetic.Text({x:70,y:10,fontFamily:"Calibri",fontSize:24,text:"",fill:"black"});a.add(this.text);this.stage.add(a)}this.scaleLayer=this.drawScale(new Kinetic.Layer({offsetY:-DRAWINGS_HEIGHT}));this.stage.add(this.scaleLayer);this.featuresLayer=new Kinetic.Layer({offsetY:-DRAWINGS_HEIGHT,scaleY:1});this.resultsLayer=new Kinetic.Layer({offsetX:-this.offset,offsetY:-DRAWINGS_HEIGHT-this.getScaleHeight()});this.featureTrack.draw(this.featuresLayer,this.resultsLayer);
this.stage.add(this.featuresLayer);this.stage.add(this.resultsLayer);dragDisplayLayer=new Kinetic.Layer({offsetX:-this.offset});dragDisplayRect=new Kinetic.Rect({visible:!1,height:DRAWINGS_HEIGHT+this.getScaleHeight()+RESULT_HEIGHT,y:50,width:1,x:0,stroke:"purple"});dragDisplayLayer.add(dragDisplayRect);this.stage.add(dragDisplayLayer);this.renderedAtMin=this.scale.min;waitingToDraw=!1},clear:function(){this.stage&&(this.stage.clear(),delete this.stage)},initScale:function(){this.scale.pretty&&(this.tick.auto&&
(this.tick.major.size=this.determineMajorTick(),this.tick.minor.size=Math.round(this.tick.major.size/10)),this.scale.auto&&(this.scale.min-=this.scale.min%this.tick.major.size,this.scale.max=Math.round(this.scale.max/this.tick.major.size+0.4)*this.tick.major.size))},drawScale:function(a){var g,c=this.scale.font.size+this.scale.size,d=this.scale.font.size+2,b=this.scale.font.size+0.66*this.scale.size,e=this.scale.font.size+0.33*this.scale.size;this.offset=(new Kinetic.Text({text:this.getTickText(this.scale.min)})).width()/
2;0==this.scale.min%this.tick.minor.size?g=this.scale.min:(g=this.scale.min-this.scale.min%this.tick.minor.size+this.tick.minor.size,this.scale.min=g);for(;g<=this.scale.max;g+=this.tick.minor.size){var f;f=this.convertNtsToPixels(g-this.scale.min)+this.offset;if(0==g%this.tick.major.size){var k=this.getTickText(g),k=new Kinetic.Text({text:k,x:f,y:0,fill:"black",offsetY:-c-5});a.add(k);k.offsetX(k.width()/2);f=new Kinetic.Line({points:[f,c,f,d],stroke:this.tick.major.color})}else f=0==g%(this.tick.major.size/
2)?new Kinetic.Line({points:[f,c,f,e],stroke:this.tick.halfColor}):new Kinetic.Line({points:[f,c,f,b],stroke:this.tick.minor.color});f.msg="Chromosome location: "+replaceNumberWithCommas(g);f.on("mouseover",function(){writeMessage(this.msg)});f.on("mouseout",function(){writeMessage("")});a.add(f)}return a},convertNtsToPixels:function(a){return void 0==a?this.width/(this.scale.max-this.scale.min):this.width/(this.scale.max-this.scale.min)*a},convertPixelstoNts:function(a){return void 0==a?1/this.convertNtsToPixels():
Math.round(1*a*(this.scale.max-this.scale.min)/this.width)},determineMajorTick:function(){this.ctx.font=this.scale.font.size+"px arial";var a=this.width/(this.ctx.measureText(this.getTickTextDecimalPlaces(this.scale.max)).width+this.scale.font.buffer),a=(this.scale.max-this.scale.min)/a,g=Math.pow(10,parseInt(a).toString().length-1);this.tick.major.size=Math.ceil(a/g)*g;a=Math.pow(10,(this.tick.major.size+"").length);g=this.tick.major.size/a;0.1<g&&0.5>=g?g=0.5:0.5<g&&(g=1);return g*a},getTickText:function(a){a=
Math.round(a);if(!this.tick.auto)return a;var g=a;1E6<=a?(a=Math.pow(10,5),g=Math.round(g/1E6*a)/a+"m"):1E3<=a&&(a=Math.pow(10,2),g=Math.round(g/1E3*a)/a+"k");return g},getTickTextDecimalPlaces:function(a){if(!this.tick.auto)return a;var g=a;1E6<=a?g=Math.round(g/(1E6/Math.pow(10,5)))+"m":1E3<=a&&(g=Math.round(g/(1E3/Math.pow(10,2)))+"k");return g},handleMouseEvent:function(a,g){this.myMouseEventHandler.setMousePosition(a);for(var c=this.myMouseEventHandler.mouseY,d,b=0;b<this.tracks.length;b++)for(var e=
0;e<this.tracks[b].lanes.length;e++){var f=this.tracks[b].lanes[e].getPixelPositionY(),k=f+this.tracks[b].lanes[e].getHeight();if(c>=f&&c<=k){d=this.tracks[b].lanes[e];break}}if(d){b=d.track.getDrawStyle();if("collapse"==b)this.redraw();else if("line"!=b){this.ctx.save();d.erase();this.ctx.translate(0,d.getPixelPositionY());for(d.draw();b=this.lastToolTips.pop();)this.ctx.putImageData(b.pixels,b.x,b.y);this.ctx.restore()}d="click"==g?this.events.clicks:this.events.mouseovers;for(b=0;b<d.length;b++)d[b](this);
this.myMouseEventHandler.reset(this)}},addClickEventListener:function(a){this.events.clicks.push(a)},addMouseoverEventListener:function(a){this.events.mouseovers.push(a)},removeEventListeners:function(a){"mouseover"==a?this.canvas.removeEventListener("mousemove",this.mouseHandler):"click"==a&&this.canvas.removeEventListener("click",this.clickHandler)},registerEventListeners:function(){var a=this;0<this.events.mouseovers.length&&(this.canvas.removeEventListener("mousemove",a.mouseHandler),this.canvas.addEventListener("mousemove",
a.mouseHandler,!1));0<this.events.clicks.length&&($(this.canvas).unbind("click"),$(this.canvas).bind("click",function(g){a.handleMouseEvent(g,"click")}));this.events.added=!0}}),SCRIBL={chars:{}};SCRIBL.chars.nt_color="white";SCRIBL.chars.nt_A_bg="red";SCRIBL.chars.nt_G_bg="blue";SCRIBL.chars.nt_C_bg="green";SCRIBL.chars.nt_T_bg="black";SCRIBL.chars.nt_N_bg="purple";SCRIBL.chars.nt_dash_bg="rgb(120,120,120)";SCRIBL.chars.heights=[];SCRIBL.chars.canvasHolder=document.createElement("canvas");var Lane=Class.extend({init:function(a,g){this.height=void 0;this.features=[];this.ctx=a;this.track=g;this.chart=g.chart;this.uid=_uniqueId("lane")},addGene:function(a,g,c,d){return this.addFeature(new BlockArrow("gene",a,g,c,d))},addProtein:function(a,g,c,d){return this.addFeature(new BlockArrow("protein",a,g,c,d))},addFeature:function(a){a.lane=this;this.features.push(a);this.chart[a.type]||(this.chart[a.type]={text:{}});return a},loadFeatures:function(a){for(var g=a.length,c=0;c<g;c++)this.addFeature(a[c])},
getHeight:function(){return void 0!=this.height?this.height:this.chart.laneSizes},getPixelPositionY:function(){for(var a=this.track.getPixelPositionY(),g=this.getHeight(),c=0;c<this.track.lanes.length&&this.uid!=this.track.lanes[c].uid;c++)a+=this.track.chart.laneBuffer,a+=g;return a},erase:function(){this.chart.ctx.clearRect(0,this.getPixelPositionY(),this.track.chart.canvas.width,this.getHeight())},draw:function(a){for(var g=this.track.chart.scale.min,c=this.track.chart.scale.max,d=!1,b=0;b<this.features.length;b++){var e=
this.features[b].position,f=this.features[b].getEnd();if(e>=g&&e<=c||f>=g&&f<=c)this.features[b].draw(a),d=!0}return d},filterFeaturesByPosition:function(a,g){for(var c=[],d=this.features.length,b=0;b<d;b++){var e=this.features[b].position,f=this.features[b].getEnd();(e>=a&&e<=g||f>=a&&f<=g)&&c.push(this.features[b])}return c}});var CanvasToSVG={idCounter:0,convert:function(a,g,c,d){var b=a.toDataURL(),e=document.createElementNS("http://www.w3.org/2000/svg","image");e.setAttribute("id","importedCanvas_"+this.idCounter++);e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);e.setAttribute("x",c?c:0);e.setAttribute("y",d?d:0);e.setAttribute("width",a.width);e.setAttribute("height",a.height);e.imageData=a.toDataURL();g.appendChild(e)}},toXml=function(a){return $("<p/>").text(a).html()},svgToString=function(a){for(;0<
removeUnusedDefElems(););pathActions.clear(!0);$.each(a.childNodes,function(c,b){c&&8==b.nodeType&&0<=b.data.indexOf("Created with")&&a.insertBefore(b,a.firstChild)});current_group&&(leaveContext(),selectOnly([current_group]));var g=[];$(a).find("g:data(gsvg)").each(function(){for(var a=this.attributes,b=a.length,e=0;e<b;e++)"id"!=a[e].nodeName&&"style"!=a[e].nodeName||b--;0>=b&&(a=this.firstChild,g.push(a),$(this).replaceWith(a))});var c=svgToString(a,0);g.length&&$(g).each(function(){groupSvgElem(this)});
return c},svgToString=function(a,g){var c=[];if(a){var d=a.attributes,b,e,f=a.childNodes;for(e=0;e<g;e++)c.push(" ");c.push("<");c.push(a.nodeName);if("svgcontent"==a.id){e=getResolution();c.push(' width="'+e.w+'" height="'+e.h+'" xmlns="'+svgns+'"');var k={};$(a).find("*").andSelf().each(function(){$.each(this.attributes,function(a,b){var f=b.namespaceURI;f&&!k[f]&&"xmlns"!==nsMap[f]&&"xml"!==nsMap[f]&&(k[f]=!0,c.push(" xmlns:"+nsMap[f]+'="'+f+'"'))})});for(e=d.length;e--;){b=d.item(e);var h=toXml(b.nodeValue);
0===b.nodeName.indexOf("xmlns:")||""==h||-1!="width height xmlns x y viewBox id overflow".split(" ").indexOf(b.localName)||b.namespaceURI&&!nsMap[b.namespaceURI]||(c.push(" "),c.push(b.nodeName),c.push('="'),c.push(h),c.push('"'))}}else for(e=d.length-1;0<=e;e--)b=d.item(e),h=toXml(b.nodeValue),0<=["-moz-math-font-style","_moz-math-font-style"].indexOf(b.localName)||""==h||0===h.indexOf("pointer-events")||"class"===b.localName&&0===h.indexOf("se_")||(c.push(" "),"d"===b.localName&&(h=pathActions.convertPath(a,
!0)),c.push(b.nodeName),c.push('="'),c.push(h),c.push('"'));if(a.hasChildNodes()){c.push(">");g++;d=!1;for(e=0;e<f.length;e++)switch(b=f.item(e),b.nodeType){case 1:c.push("\n");c.push(svgToString(f.item(e),g));break;case 3:b=b.nodeValue.replace(/^\s+|\s+$/g,"");""!=b&&(d=!0,c.push(toXml(b)+""));break;case 8:c.push("\n"),c.push(Array(g+1).join(" ")),c.push("\x3c!--"),c.push(b.data),c.push("--\x3e")}g--;if(!d)for(c.push("\n"),e=0;e<g;e++)c.push(" ");c.push("</");c.push(a.nodeName);c.push(">")}else c.push("/>")}return c.join("")};var Tooltip=Class.extend({init:function(a,g,c,d){this.text=a;this.placement=g||"above";this.verticalOffset=c||0;for(var b in d)this[b]=d[b];this.horizontalOffset=this.horizontalOffset||0;this.ntOffset=this.ntOffset||0},fire:function(a){a=a||this.feature;this.chart=a.lane.track.chart;this.ctx=this.chart.ctx;this.draw(a,1)},draw:function(a,g){this.ctx.globalAlpha=g;var c=this.chart.tooltips.roundness,d=this.chart.tooltips.text.font,b=this.chart.tooltips.text.size,e=this.text||a.onMouseover;this.ctx.save();
this.ctx.font=b+"px "+d;var f=this.ctx.measureText(e),d=[e],k=b+10,h=f.width+10,l,m,f=0;a.seq&&(f=a.getPixelLength(),f=f/a.length*this.ntOffset);var f=a.getPixelPositionX()+this.horizontalOffset+f,p;p="below"==this.placement?a.getPixelPositionY()+a.getHeight()-this.verticalOffset:a.getPixelPositionY()-k-this.verticalOffset;a.getPixelLength();200<h&&(d=this.ctx.measureText("s").width,d=parseInt(200/d),e=ScriblWrapLines(d,e),h=210,k=e[1]*b+10,d=e[0]);h+f>this.chart.width&&(f=this.chart.width-h);"light"==
this.chart.tooltips.style?(l=this.chart.ctx.createLinearGradient(f+h/2,p,f+h/2,p+k),l.addColorStop(0,"rgb(253, 248, 196)"),l.addColorStop(0.75,"rgb(253, 248, 196)"),l.addColorStop(1,"white"),m=this.chart.ctx.createLinearGradient(f+h/2,p,f+h/2,p+k),m.addColorStop(0,"black"),m.addColorStop(1,"rgb(64, 64, 64)"),this.chart.tooltips.text.color="black"):"dark"==this.chart.tooltips.style&&(l=this.chart.ctx.createLinearGradient(f+h/2,p,f+h/2,p+k),l.addColorStop(0,"rgb(64, 64, 64)"),l.addColorStop(1,"rgb(121, 121, 121)"),
m="white",this.chart.tooltips.text.color="white");this.chart.lastToolTips.push({pixels:this.ctx.getImageData(f-1,p-1,h+2,k+2),x:f-1,y:p-1});this.ctx.fillStyle=l;this.ctx.beginPath();tlc_ctrl_x=f;tlc_ctrl_y=p;tlc_lgth_x=f+c;tlc_lgth_y=p;tlc_wdth_x=f;tlc_wdth_y=p+c;blc_ctrl_x=f;blc_ctrl_y=p+k;blc_lgth_x=f+c;blc_lgth_y=p+k;blc_wdth_x=f;blc_wdth_y=p+k-c;brc_ctrl_x=f+h;brc_ctrl_y=p+k;brc_lgth_x=f+h-c;brc_lgth_y=p+k;brc_wdth_x=f+h;brc_wdth_y=p+k-c;trc_ctrl_x=f+h;trc_ctrl_y=p;trc_lgth_x=f+h-c;trc_lgth_y=
p;trc_wdth_x=f+h;trc_wdth_y=p+c;this.ctx.moveTo(tlc_lgth_x,tlc_lgth_y);this.ctx.quadraticCurveTo(tlc_ctrl_x,tlc_ctrl_y,tlc_wdth_x,tlc_wdth_y);this.ctx.lineTo(blc_wdth_x,blc_wdth_y);this.ctx.quadraticCurveTo(blc_ctrl_x,blc_ctrl_y,blc_lgth_x,blc_lgth_y);this.ctx.lineTo(brc_lgth_x,brc_lgth_y);this.ctx.quadraticCurveTo(brc_ctrl_x,brc_ctrl_y,brc_wdth_x,brc_wdth_y);this.ctx.lineTo(trc_wdth_x,trc_wdth_y);this.ctx.quadraticCurveTo(trc_ctrl_x,trc_ctrl_y,trc_lgth_x,trc_lgth_y);this.ctx.lineTo(tlc_lgth_x,tlc_lgth_y);
this.ctx.fill();this.ctx.lineWidth=this.chart.tooltips.borderWidth;this.ctx.strokeStyle=m;this.ctx.stroke();this.ctx.textBaseline="middle";this.ctx.fillStyle=this.chart.tooltips.text.color;for(c=0;c<d.length;c++)this.ctx.measureText(d[c]),this.ctx.fillText(d[c],f+5,p+b*(c+1));this.ctx.restore()}});var Track=Class.extend({init:function(a){this.chart=a;this.lanes=[];this.addLane();this.ctx=a.ctx;this.uid=_uniqueId("track");this.drawStyle=void 0;this.hide=!1;this.hooks={};for(var g=0;g<a.trackHooks.length;g++)this.addDrawHook(a.trackHooks[g]);this.coverageData=[];this.maxDepth=0},addLane:function(){var a=new Lane(this.ctx,this);this.lanes.push(a);return a},addGene:function(a,g,c,d){return this.addFeature(new BlockArrow("gene",a,g,c,d))},addProtein:function(a,g,c,d){return this.addFeature(new BlockArrow("protein",
a,g,c,d))},addFeature:function(a){var g;g=this.lanes[0];g.addFeature(a);return a},hide:function(){this.hide=!0},unhide:function(){this.hide=!1},getDrawStyle:function(){return this.drawStyle?this.drawStyle:this.chart.drawStyle},getHeight:function(){var a=0,g=this.lanes.length,c=this.chart.laneBuffer,d=this.getDrawStyle();if("line"==d||"collapse"==d)g=1;for(d=0;d<g;d++)a+=c,a+=this.lanes[d].getHeight();return a-c},getPixelPositionY:function(){var a;a=this.chart.scale.off?0:this.chart.getScaleHeight()+
this.chart.laneBuffer;for(var g=0;g<this.chart.tracks.length&&this.uid!=this.chart.tracks[g].uid;g++)a+=this.chart.trackBuffer,a+=this.chart.tracks[g].getHeight();return a},calcCoverageData:function(){for(var a=this.lanes,g=this.chart.scale.min,c=this.chart.scale.max,d=0;d<a.length;d++)for(var b=0;b<a[d].features.length;b++){var e=a[d].features[b],f=e.position,k=e.getEnd();if(f>=g&&f<=c||k>=g&&k<=c)for(f=Math.round(e.getPixelPositionX()),e=Math.round(f+e.getPixelLength());f<=e;f++)this.coverageData[f]=
this.coverageData[f]+1||1,this.maxDepth=Math.max(this.coverageData[f],this.maxDepth)}},erase:function(){this.chart.ctx.clearRect(0,this.getPixelPositionY(),this.chart.width,this.getHeight())},draw:function(a){this.lanes[0].draw(a)},addDrawHook:function(a,g){var c=g||_uniqueId("drawHook");this.hooks[c]=a;return c},removeDrawHook:function(a){delete this.hooks[a]}});function ScriblWrapLines(a,g){for(var c=[],d="",b=0,e=(""+g).split(" "),f=0;f<e.length;f++)e[f].length+d.length<=a?d+=" "+e[f]:""==d?(trunc1=e[f].slice(0,a-1),d+=" "+trunc1+"-",trunc2=e[f].slice(a,e[f].length),e.splice(f+1,0,trunc2),c.push(d),d="",b++):(f--,c.push(d),b++,d="");b++;c.push(d);return[c,b]}var idCounter=0;_uniqueId=function(a){var g=idCounter++;return a?a+g:g};Object.keys=Object.keys||function(a,g,c){c=[];for(g in a)c.hasOwnProperty.call(a,g)&&c.push(g);return c};
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(void 0===this||null===this)throw new TypeError;var g=Object(this),c=g.length>>>0;if(0===c)return-1;var d=0;0<arguments.length&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&Infinity!==d&&-Infinity!==d&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;for(d=0<=d?d:Math.max(c-Math.abs(d),0);d<c;d++)if(d in g&&g[d]===a)return d;return-1});var sliderNTWidth=1E4,waitingForAJAX=!1;lastDrawTime=(new Date).getTime();var waitingToDraw=!1;
function updateRanges(){var a=(new Date).getTime();if(!waitingToDraw&&10<a-lastDrawTime){var g=$("#slider").val();$('input[name="left"]').val(Math.round(chart1.ntOffset+Math.round(g[0])));$('input[name="right"]').val(Math.round(chart1.ntOffset+Math.round(g[1])));!waitingForAJAX&&250<a-lastScrollTime?(waitingForAJAX=!0,updateAjax(!0),lastScrollTime=a):!waitingForAJAX&&20<a-lastDrawTime&&(updateChartBoundaries(),chart1.clear(),chart1.draw(),lastDrawTime=a)}}function sliderBlocked(){}
function addJSONDataToChart(a,g){delete g.featureTrack;g.featureTrack=new FeatureTrack(g);var c=a[0],d=a[1],b=a[2],e=a[3],f=e.exptResults;g.sd=e.all_sd;g.exptNames=e.exptNames;g.exptColors=e.exptColors;for(var e=a[4],k=0;k<c.length;k++){var h=c[k],l=h[0],m=h[1],p=h[2],h=h[3];g.addGene(p,h,m,l)}for(k=0;k<d.length;k++)h=d[k],l=h[0],m=h[1],p=h[2],h=h[3],g.addPromoter(p,h,l,m);for(k=0;k<b.length;k++)h=b[k],l=h[0],p=h[1],h=h[2],g.addTFBS(p,h,l);for(k=0;k<e.length;k++)h=e[k],l=h[0],m=h[1],p=h[2],h=h[3],
g.addSRNA(p,h,l,m);for(var s in f){s=parseInt(s);m=f[s][0];for(k=1;k<f[s].length;k++)f[s][k]=parseFloat(f[s][k]);g.addTicker(s,m,f[s].slice(1))}}function updateChartBoundaries(){var a=parseInt($('input[name="right"]').val()),g=parseInt($('input[name="left"]').val());$('input[name="gene"]').val("");chart1.scale.max=a;chart1.scale.min=g;return{rightVal:a,leftVal:g}}
function updateAjax(a){$.ajax({url:"/getFeatures",data:{left:$('input[name="left"]').val(),right:$('input[name="right"]').val(),expt:$('select[name="expt"]').val()},type:"GET",dataType:"json",success:function(g){var c=updateChartBoundaries(),d=c.rightVal,c=c.leftVal;chart1.clear();addJSONDataToChart(g,chart1);a||(sliderNTWidth=Math.max(1E3,5*(d-c)),$("#slider").noUiSlider({range:[0,sliderNTWidth]},!0),chart1.ntOffset=Math.max(0,Math.round((c+d)/2)-sliderNTWidth/2),$("#slider").val([c-chart1.ntOffset,
d-chart1.ntOffset]));chart1.draw();waitingForAJAX=!1},error:function(a,c){alert("Error getting JSON!")}})}function getCoordsByAJAX(a){$.ajax({url:"/getGeneCoords",data:{gene:a},type:"GET",dataType:"json",success:function(g){var c=g[0];g=g[1];c-=200;g+=200;0>c?writeMessage("Coords for gene "+a+" could not be located."):($('input[name="left"]').val(c),$('input[name="right"]').val(g),updateAjax())},error:function(a,c){alert("Error getting JSON for gene coords")}})}var canvas=null;
function initializePage(a){canvas=document.getElementById(a);chart1=new Scribl(canvas,800);chart1.ntOffset=0;ntSlider=$("#slider").noUiSlider({range:[0,sliderNTWidth],start:[2250,2750],handles:2,connect:!0,behaviour:"drag",block:sliderBlocked,set:updateAjax,slide:updateRanges});$('input[name="gene"]').keypress(function(a){13==a.which&&(getCoordsByAJAX($('input[name="gene"]').val()),$("#geneInput").blur())});$('input[name="gene"]').blur(function(a){getCoordsByAJAX($('input[name="gene"]').val())});
updateAjax();$(window).resize(function(){chart1.draw()});$('select[name="expt"]').change(updateAjax);$("#container").mousedown(function(a){startDrag(a.pageX,a.pageY,a.which)});$("#container").mousemove(function(a){checkDrag(a.pageX,a.pageY)});$("#container").mouseup(function(a){stopDrag(a.pageX,a.pageY)});$('input[name="left"]').keypress(function(a){13==a.which&&(updateAjax(),$('input[name="left"]').blur())});$('input[name="right"]').keypress(function(a){13==a.which&&(updateAjax(),$('input[name="right"]').blur())});
$("#container").mousewheel(function(a,c){if(!(lastScrollTime&&150>(new Date).getTime()-lastScrollTime)){if(0<c)var d=Math.round(0.25*(chart1.scale.max-chart1.scale.min)),b=chart1.scale.min-d;else d=-1*Math.round(0.25*(chart1.scale.max-chart1.scale.min)),b=chart1.scale.min-d;d=chart1.scale.max+d;if(50>d-b)return!1;$('input[name="left"]').val(b);$('input[name="right"]').val(d);updateAjax();lastScrollTime=(new Date).getTime();return!1}})}$(function(){$("a#fetch").bind("click",updateAjax)});(function(a,g){"object"===typeof module&&"object"===typeof module.exports?module.exports=a.document?g(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return g(a)}:g(a)})("undefined"!==typeof window?window:this,function(a,g){function c(a){var b=a.length,f=n.type(a);return"function"===f||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===f||0===b||"number"===typeof b&&0<b&&b-1 in a}function d(a,b,f){if(n.isFunction(b))return n.grep(a,function(a,e){return!!b.call(a,
e,a)!==f});if(b.nodeType)return n.grep(a,function(a){return a===b!==f});if("string"===typeof b){if(ga.test(b))return n.filter(b,a,f);b=n.filter(b,a)}return n.grep(a,function(a){return 0<=Q.call(b,a)!==f})}function b(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function e(a){var b=Da[a]={};n.each(a.match(ja)||[],function(a,f){b[f]=!0});return b}function f(){V.removeEventListener("DOMContentLoaded",f,!1);a.removeEventListener("load",f,!1);n.ready()}function k(){Object.defineProperty(this.cache={},
0,{get:function(){return{}}});this.expando=n.expando+Math.random()}function h(a,b,f){if(void 0===f&&1===a.nodeType)if(f="data-"+b.replace(wa,"-$1").toLowerCase(),f=a.getAttribute(f),"string"===typeof f){try{f="true"===f?!0:"false"===f?!1:"null"===f?null:+f+""===f?+f:Ea.test(f)?n.parseJSON(f):f}catch(e){}ba.set(a,b,f)}else f=void 0;return f}function l(){return!0}function m(){return!1}function p(){try{return V.activeElement}catch(a){}}function s(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?
b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function r(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function q(a){var b=ta.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function u(a,b){for(var f=0,e=a.length;f<e;f++)M.set(a[f],"globalEval",!b||M.get(b[f],"globalEval"))}function v(a,b){var f,e,c,d;if(1===b.nodeType){if(M.hasData(a)&&(d=M.access(a),f=M.set(b,d),d=d.events))for(c in delete f.handle,
f.events={},d)for(f=0,e=d[c].length;f<e;f++)n.event.add(b,c,d[c][f]);ba.hasData(a)&&(c=ba.access(a),c=n.extend({},c),ba.set(b,c))}}function x(a,b){var f=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function z(b,f){var e=n(f.createElement(b)).appendTo(f.body),c=a.getDefaultComputedStyle?a.getDefaultComputedStyle(e[0]).display:n.css(e[0],"display");e.detach();return c}function y(a){var b=
V,f=xa[a];f||(f=z(a,b),"none"!==f&&f||(La=(La||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=La[0].contentDocument,b.write(),b.close(),f=z(a,b),La.detach()),xa[a]=f);return f}function w(a,b,f){var e,c,d=a.style;(f=f||Va(a))&&(c=f.getPropertyValue(b)||f[b]);f&&(""!==c||n.contains(a.ownerDocument,a)||(c=n.style(a,b)),ab.test(c)&&hb.test(b)&&(a=d.width,b=d.minWidth,e=d.maxWidth,d.minWidth=d.maxWidth=d.width=c,c=f.width,d.width=a,d.minWidth=b,d.maxWidth=e));return void 0!==
c?c+"":c}function A(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function E(a,b){if(b in a)return b;for(var f=b[0].toUpperCase()+b.slice(1),e=b,c=ib.length;c--;)if(b=ib[c]+f,b in a)return b;return e}function B(a,b,f){return(a=vb.exec(b))?Math.max(0,a[1]-(f||0))+(a[2]||"px"):b}function F(a,b,f,e,c){b=f===(e?"border":"content")?4:"width"===b?1:0;for(var d=0;4>b;b+=2)"margin"===f&&(d+=n.css(a,f+ka[b],!0,c)),e?("content"===f&&(d-=n.css(a,"padding"+
ka[b],!0,c)),"margin"!==f&&(d-=n.css(a,"border"+ka[b]+"Width",!0,c))):(d+=n.css(a,"padding"+ka[b],!0,c),"padding"!==f&&(d+=n.css(a,"border"+ka[b]+"Width",!0,c)));return d}function L(a,b,f){var e=!0,c="width"===b?a.offsetWidth:a.offsetHeight,d=Va(a),k="border-box"===n.css(a,"boxSizing",!1,d);if(0>=c||null==c){c=w(a,b,d);if(0>c||null==c)c=a.style[b];if(ab.test(c))return c;e=k&&(W.boxSizingReliable()||c===a.style[b]);c=parseFloat(c)||0}return c+F(a,b,f||(k?"border":"content"),e,d)+"px"}function H(a,
b){for(var f,e,c,d=[],k=0,g=a.length;k<g;k++)e=a[k],e.style&&(d[k]=M.get(e,"olddisplay"),f=e.style.display,b?(d[k]||"none"!==f||(e.style.display=""),""===e.style.display&&ya(e)&&(d[k]=M.access(e,"olddisplay",y(e.nodeName)))):d[k]||(c=ya(e),(f&&"none"!==f||!c)&&M.set(e,"olddisplay",c?f:n.css(e,"display"))));for(k=0;k<g;k++)e=a[k],!e.style||b&&"none"!==e.style.display&&""!==e.style.display||(e.style.display=b?d[k]||"":"none");return a}function G(a,b,f,e,c){return new G.prototype.init(a,b,f,e,c)}function D(){setTimeout(function(){Ma=
void 0});return Ma=n.now()}function T(a,b){var f,e=0,c={height:a};for(b=b?1:0;4>e;e+=2-b)f=ka[e],c["margin"+f]=c["padding"+f]=a;b&&(c.opacity=c.width=a);return c}function Z(a,b,f){for(var e,c=(Sa[b]||[]).concat(Sa["*"]),d=0,k=c.length;d<k;d++)if(e=c[d].call(f,b,a))return e}function X(a,b){var f,e,c,d,k;for(f in a)if(e=n.camelCase(f),c=b[e],d=a[f],n.isArray(d)&&(c=d[1],d=a[f]=d[0]),f!==e&&(a[e]=d,delete a[f]),(k=n.cssHooks[e])&&"expand"in k)for(f in d=k.expand(d),delete a[e],d)f in a||(a[f]=d[f],b[f]=
c);else b[e]=c}function R(a,b,f){var e,c=0,d=Wa.length,k=n.Deferred().always(function(){delete g.elem}),g=function(){if(e)return!1;for(var b=Ma||D(),b=Math.max(0,h.startTime+h.duration-b),f=1-(b/h.duration||0),c=0,d=h.tweens.length;c<d;c++)h.tweens[c].run(f);k.notifyWith(a,[h,f,b]);if(1>f&&d)return b;k.resolveWith(a,[h]);return!1},h=k.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},f),originalProperties:b,originalOptions:f,startTime:Ma||D(),duration:f.duration,tweens:[],createTween:function(b,
f){var e=n.Tween(a,h.opts,b,f,h.opts.specialEasing[b]||h.opts.easing);h.tweens.push(e);return e},stop:function(b){var f=0,c=b?h.tweens.length:0;if(e)return this;for(e=!0;f<c;f++)h.tweens[f].run(1);b?k.resolveWith(a,[h,b]):k.rejectWith(a,[h,b]);return this}});f=h.props;for(X(f,h.opts.specialEasing);c<d;c++)if(b=Wa[c].call(h,a,f,h.opts))return b;n.map(f,Z,h);n.isFunction(h.opts.start)&&h.opts.start.call(a,h);n.fx.timer(n.extend(g,{elem:a,anim:h,queue:h.opts.queue}));return h.progress(h.opts.progress).done(h.opts.done,
h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function P(a){return function(b,f){"string"!==typeof b&&(f=b,b="*");var e,c=0,d=b.toLowerCase().match(ja)||[];if(n.isFunction(f))for(;e=d[c++];)"+"===e[0]?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(f)):(a[e]=a[e]||[]).push(f)}}function Y(a,b,f,e){function c(g){var h;d[g]=!0;n.each(a[g]||[],function(a,g){var O=g(b,f,e);if("string"===typeof O&&!k&&!d[O])return b.dataTypes.unshift(O),c(O),!1;if(k)return!(h=O)});return h}var d={},k=a===bb;return c(b.dataTypes[0])||
!d["*"]&&c("*")}function J(a,b){var f,e,c=n.ajaxSettings.flatOptions||{};for(f in b)void 0!==b[f]&&((c[f]?a:e||(e={}))[f]=b[f]);e&&n.extend(!0,a,e);return a}function I(a,b,f,e){var c;if(n.isArray(b))n.each(b,function(b,c){f||wb.test(a)?e(a,c):I(a+"["+("object"===typeof c?b:"")+"]",c,f,e)});else if(f||"object"!==n.type(b))e(a,b);else for(c in b)I(a+"["+c+"]",b[c],f,e)}function C(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var S=[],K=S.slice,U=S.concat,N=S.push,Q=S.indexOf,ha={},ca=ha.toString,
qa=ha.hasOwnProperty,va="".trim,W={},V=a.document,n=function(a,b){return new n.fn.init(a,b)},ia=/^-ms-/,fa=/-([\da-z])/gi,la=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:"2.1.0",constructor:n,selector:"",length:0,toArray:function(){return K.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:K.call(this)},pushStack:function(a){a=n.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,
function(b,f){return a.call(b,f,b)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:N,sort:S.sort,splice:S.splice};n.extend=n.fn.extend=function(){var a,b,f,e,c,d=arguments[0]||{},k=1,g=arguments.length,h=!1;"boolean"===typeof d&&(h=d,d=arguments[k]||
{},k++);"object"===typeof d||n.isFunction(d)||(d={});k===g&&(d=this,k--);for(;k<g;k++)if(null!=(a=arguments[k]))for(b in a)f=d[b],e=a[b],d!==e&&(h&&e&&(n.isPlainObject(e)||(c=n.isArray(e)))?(c?(c=!1,f=f&&n.isArray(f)?f:[]):f=f&&n.isPlainObject(f)?f:{},d[b]=n.extend(h,f,e)):void 0!==e&&(d[b]=e));return d};n.extend({expando:"jQuery"+("2.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,
isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return 0<=a-parseFloat(a)},isPlainObject:function(a){if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!qa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?ha[ca.call(a)]||"object":typeof a},globalEval:function(a){var b;b=
eval;if(a=n.trim(a))1===a.indexOf("use strict")?(b=V.createElement("script"),b.text=a,V.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(ia,"ms-").replace(fa,la)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,f){var e,d=0,k=a.length;e=c(a);if(f)if(e)for(;d<k&&(e=b.apply(a[d],f),!1!==e);d++);else for(d in a){if(e=b.apply(a[d],f),!1===e)break}else if(e)for(;d<k&&(e=b.call(a[d],d,a[d]),!1!==e);d++);else for(d in a)if(e=
b.call(a[d],d,a[d]),!1===e)break;return a},trim:function(a){return null==a?"":va.call(a)},makeArray:function(a,b){var f=b||[];null!=a&&(c(Object(a))?n.merge(f,"string"===typeof a?[a]:a):N.call(f,a));return f},inArray:function(a,b,f){return null==b?-1:Q.call(b,a,f)},merge:function(a,b){for(var f=+b.length,e=0,c=a.length;e<f;e++)a[c++]=b[e];a.length=c;return a},grep:function(a,b,f){for(var e=[],c=0,d=a.length,k=!f;c<d;c++)f=!b(a[c],c),f!==k&&e.push(a[c]);return e},map:function(a,b,f){var e,d=0,k=a.length,
g=[];if(c(a))for(;d<k;d++)e=b(a[d],d,f),null!=e&&g.push(e);else for(d in a)e=b(a[d],d,f),null!=e&&g.push(e);return U.apply([],g)},guid:1,proxy:function(a,b){var f,e;"string"===typeof b&&(f=a[b],b=a,a=f);if(n.isFunction(a))return e=K.call(arguments,2),f=function(){return a.apply(b||this,e.concat(K.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f},now:Date.now,support:W});n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ha["[object "+b+"]"]=b.toLowerCase()});
var ma=function(a){function b(a,f,e,c){var d,k,g,h,l;(f?f.ownerDocument||f:G)!==B&&E(f);f=f||B;e=e||[];if(!a||"string"!==typeof a)return e;if(1!==(h=f.nodeType)&&9!==h)return[];if(H&&!c){if(d=ma.exec(a))if(g=d[1])if(9===h)if((k=f.getElementById(g))&&k.parentNode){if(k.id===g)return e.push(k),e}else return e;else{if(f.ownerDocument&&(k=f.ownerDocument.getElementById(g))&&Ja(f,k)&&k.id===g)return e.push(k),e}else{if(d[2])return ta.apply(e,f.getElementsByTagName(a)),e;if((g=d[3])&&z.getElementsByClassName&&
f.getElementsByClassName)return ta.apply(e,f.getElementsByClassName(g)),e}if(z.qsa&&(!N||!N.test(a))){k=d=D;g=f;l=9===h&&a;if(1===h&&"object"!==f.nodeName.toLowerCase()){h=p(a);(d=f.getAttribute("id"))?k=d.replace(na,"\\$&"):f.setAttribute("id",k);k="[id='"+k+"'] ";for(g=h.length;g--;)h[g]=k+q(h[g]);g=la.test(a)&&m(f.parentNode)||f;l=h.join(",")}if(l)try{return ta.apply(e,g.querySelectorAll(l)),e}catch(O){}finally{d||f.removeAttribute("id")}}}var n;a:{a=a.replace(qa,"$1");k=p(a);if(!c&&1===k.length){d=
k[0]=k[0].slice(0);if(2<d.length&&"ID"===(n=d[0]).type&&z.getById&&9===f.nodeType&&H&&w.relative[d[1].type]){f=(w.find.ID(n.matches[0].replace(ga,ia),f)||[])[0];if(!f){n=e;break a}a=a.slice(d.shift().value.length)}for(h=da.needsContext.test(a)?0:d.length;h--;){n=d[h];if(w.relative[g=n.type])break;if(g=w.find[g])if(c=g(n.matches[0].replace(ga,ia),la.test(d[0].type)&&m(f.parentNode)||f)){d.splice(h,1);a=c.length&&q(d);if(!a){ta.apply(e,c);n=e;break a}break}}}U(a,k)(c,f,!H,e,la.test(a)&&m(f.parentNode)||
f);n=e}return n}function f(){function a(f,e){b.push(f+" ")>w.cacheLength&&delete a[b.shift()];return a[f+" "]=e}var b=[];return a}function e(a){a[D]=!0;return a}function c(a){var b=B.createElement("div");try{return!!a(b)}catch(f){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function d(a,b){for(var f=a.split("|"),e=a.length;e--;)w.attrHandle[f[e]]=b}function k(a,b){var f=b&&a,e=f&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(e)return e;if(f)for(;f=f.nextSibling;)if(f===
b)return-1;return a?1:-1}function g(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function h(a){return function(b){var f=b.nodeName.toLowerCase();return("input"===f||"button"===f)&&b.type===a}}function l(a){return e(function(b){b=+b;return e(function(f,e){for(var c,d=a([],f.length,b),k=d.length;k--;)f[c=d[k]]&&(f[c]=!(e[c]=f[c]))})})}function m(a){return a&&typeof a.getElementsByTagName!==M&&a}function n(){}function p(a,f){var e,c,d,k,g,h,l;if(g=R[a+" "])return f?0:g.slice(0);
g=a;h=[];for(l=w.preFilter;g;){if(!e||(c=ha.exec(g)))c&&(g=g.slice(c[0].length)||g),h.push(d=[]);e=!1;if(c=La.exec(g))e=c.shift(),d.push({value:e,type:c[0].replace(qa," ")}),g=g.slice(e.length);for(k in w.filter)!(c=da[k].exec(g))||l[k]&&!(c=l[k](c))||(e=c.shift(),d.push({value:e,type:k,matches:c}),g=g.slice(e.length));if(!e)break}return f?g.length:g?b.error(a):R(a,h).slice(0)}function q(a){for(var b=0,f=a.length,e="";b<f;b++)e+=a[b].value;return e}function r(a,b,f){var e=b.dir,c=f&&"parentNode"===
e,d=cb++;return b.first?function(b,f,d){for(;b=b[e];)if(1===b.nodeType||c)return a(b,f,d)}:function(b,f,k){var g,h,l=[Q,d];if(k)for(;b=b[e];){if((1===b.nodeType||c)&&a(b,f,k))return!0}else for(;b=b[e];)if(1===b.nodeType||c){h=b[D]||(b[D]={});if((g=h[e])&&g[0]===Q&&g[1]===d)return l[2]=g[2];h[e]=l;if(l[2]=a(b,f,k))return!0}}}function v(a){return 1<a.length?function(b,f,e){for(var c=a.length;c--;)if(!a[c](b,f,e))return!1;return!0}:a[0]}function s(a,b,f,e,c){for(var d,k=[],g=0,h=a.length,l=null!=b;g<
h;g++)if(d=a[g])if(!f||f(d,e,c))k.push(d),l&&b.push(g);return k}function u(a,f,c,d,k,g){d&&!d[D]&&(d=u(d));k&&!k[D]&&(k=u(k,g));return e(function(e,g,h,l){var O,m,n=[],p=[],Ca=g.length,q;if(!(q=e)){q=f||"*";for(var aa=h.nodeType?[h]:h,r=[],v=0,u=aa.length;v<u;v++)b(q,aa[v],r);q=r}q=!a||!e&&f?q:s(q,n,a,h,l);aa=c?k||(e?a:Ca||d)?[]:g:q;c&&c(q,aa,h,l);if(d)for(O=s(aa,p),d(O,[],h,l),h=O.length;h--;)if(m=O[h])aa[p[h]]=!(q[p[h]]=m);if(e){if(k||a){if(k){O=[];for(h=aa.length;h--;)(m=aa[h])&&O.push(q[h]=m);
k(null,aa=[],O,l)}for(h=aa.length;h--;)(m=aa[h])&&-1<(O=k?ca.call(e,m):n[h])&&(e[O]=!(g[O]=m))}}else aa=s(aa===g?aa.splice(Ca,aa.length):aa),k?k(null,g,aa,l):ta.apply(g,aa)})}function x(a){var b,f,e,c=a.length,d=w.relative[a[0].type];f=d||w.relative[" "];for(var k=d?1:0,g=r(function(a){return a===b},f,!0),h=r(function(a){return-1<ca.call(b,a)},f,!0),l=[function(a,f,e){return!d&&(e||f!==I)||((b=f).nodeType?g(a,f,e):h(a,f,e))}];k<c;k++)if(f=w.relative[a[k].type])l=[r(v(l),f)];else{f=w.filter[a[k].type].apply(null,
a[k].matches);if(f[D]){for(e=++k;e<c&&!w.relative[a[e].type];e++);return u(1<k&&v(l),1<k&&q(a.slice(0,k-1).concat({value:" "===a[k-2].type?"*":""})).replace(qa,"$1"),f,k<e&&x(a.slice(k,e)),e<c&&x(a=a.slice(e)),e<c&&q(a))}l.push(f)}return v(l)}function y(a,f){var c=0<f.length,d=0<a.length,k=function(e,k,g,h,l){var O,m,n,p=0,q="0",Ca=e&&[],aa=[],r=I,v=e||d&&w.find.TAG("*",l),u=Q+=null==r?1:Math.random()||0.1,ub=v.length;for(l&&(I=k!==B&&k);q!==ub&&null!=(O=v[q]);q++){if(d&&O){for(m=0;n=a[m++];)if(n(O,
k,g)){h.push(O);break}l&&(Q=u)}c&&((O=!n&&O)&&p--,e&&Ca.push(O))}p+=q;if(c&&q!==p){for(m=0;n=f[m++];)n(Ca,aa,k,g);if(e){if(0<p)for(;q--;)Ca[q]||aa[q]||(aa[q]=Z.call(h));aa=s(aa)}ta.apply(h,aa);l&&!e&&0<aa.length&&1<p+f.length&&b.uniqueSort(h)}l&&(Q=u,I=r);return Ca};return c?e(k):k}var K,z,w,J,C,U,I,A,S,E,B,pa,H,N,F,L,Ja,D="sizzle"+-new Date,G=a.document,Q=0,cb=0,T=f(),R=f(),Xa=f(),P=function(a,b){a===b&&(S=!0);return 0},M="undefined",W=-2147483648,V={}.hasOwnProperty,sa=[],Z=sa.pop,X=sa.push,ta=
sa.push,Ya=sa.slice,ca=sa.indexOf||function(a){for(var b=0,f=this.length;b<f;b++)if(this[b]===a)return b;return-1},va="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),oa="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+va+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Y=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+oa.replace(3,8)+")*)|.*)\\)|)",qa=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,
ha=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,La=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ba=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ea=RegExp(Y),fa=RegExp("^"+va+"$"),da={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+oa),PSEUDO:RegExp("^"+Y),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},ja=/^(?:input|select|textarea|button)$/i,ka=/^h\d$/i,xa=/^[^{]+\{\s*\[native \w/,ma=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,la=/[+~]/,na=/'|\\/g,ga=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
ia=function(a,b,f){a="0x"+b-65536;return a!==a||f?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{ta.apply(sa=Ya.call(G.childNodes),G.childNodes),sa[G.childNodes.length].nodeType}catch(ra){ta={apply:sa.length?function(a,b){X.apply(a,Ya.call(b))}:function(a,b){for(var f=a.length,e=0;a[f++]=b[e++];);a.length=f-1}}}z=b.support={};C=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};E=b.setDocument=function(a){var b=a?a.ownerDocument||
a:G;a=b.defaultView;if(b===B||9!==b.nodeType||!b.documentElement)return B;B=b;pa=b.documentElement;H=!C(b);a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){E()},!1):a.attachEvent&&a.attachEvent("onunload",function(){E()}));z.attributes=c(function(a){a.className="i";return!a.getAttribute("className")});z.getElementsByTagName=c(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});z.getElementsByClassName=xa.test(b.getElementsByClassName)&&
c(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});z.getById=c(function(a){pa.appendChild(a).id=D;return!b.getElementsByName||!b.getElementsByName(D).length});z.getById?(w.find.ID=function(a,b){if(typeof b.getElementById!==M&&H){var f=b.getElementById(a);return f&&f.parentNode?[f]:[]}},w.filter.ID=function(a){var b=a.replace(ga,ia);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,
w.filter.ID=function(a){var b=a.replace(ga,ia);return function(a){return(a=typeof a.getAttributeNode!==M&&a.getAttributeNode("id"))&&a.value===b}});w.find.TAG=z.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==M)return b.getElementsByTagName(a)}:function(a,b){var f,e=[],c=0,d=b.getElementsByTagName(a);if("*"===a){for(;f=d[c++];)1===f.nodeType&&e.push(f);return e}return d};w.find.CLASS=z.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==M&&H)return b.getElementsByClassName(a)};
F=[];N=[];if(z.qsa=xa.test(b.querySelectorAll))c(function(a){a.innerHTML="<select t=''><option selected=''></option></select>";a.querySelectorAll("[t^='']").length&&N.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||N.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||N.push(":checked")}),c(function(a){var f=b.createElement("input");
f.setAttribute("type","hidden");a.appendChild(f).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&N.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||N.push(":enabled",":disabled");a.querySelectorAll("*,:x");N.push(",.*:")});(z.matchesSelector=xa.test(L=pa.webkitMatchesSelector||pa.mozMatchesSelector||pa.oMatchesSelector||pa.msMatchesSelector))&&c(function(a){z.disconnectedMatch=L.call(a,"div");L.call(a,"[s!='']:x");F.push("!=",Y)});N=N.length&&RegExp(N.join("|"));
F=F.length&&RegExp(F.join("|"));Ja=(a=xa.test(pa.compareDocumentPosition))||xa.test(pa.contains)?function(a,b){var f=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!!(e&&1===e.nodeType&&(f.contains?f.contains(e):a.compareDocumentPosition&&a.compareDocumentPosition(e)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};P=a?function(a,f){if(a===f)return S=!0,0;var e=!a.compareDocumentPosition-!f.compareDocumentPosition;if(e)return e;e=(a.ownerDocument||a)===
(f.ownerDocument||f)?a.compareDocumentPosition(f):1;return e&1||!z.sortDetached&&f.compareDocumentPosition(a)===e?a===b||a.ownerDocument===G&&Ja(G,a)?-1:f===b||f.ownerDocument===G&&Ja(G,f)?1:A?ca.call(A,a)-ca.call(A,f):0:e&4?-1:1}:function(a,f){if(a===f)return S=!0,0;var e,c=0;e=a.parentNode;var d=f.parentNode,g=[a],h=[f];if(!e||!d)return a===b?-1:f===b?1:e?-1:d?1:A?ca.call(A,a)-ca.call(A,f):0;if(e===d)return k(a,f);for(e=a;e=e.parentNode;)g.unshift(e);for(e=f;e=e.parentNode;)h.unshift(e);for(;g[c]===
h[c];)c++;return c?k(g[c],h[c]):g[c]===G?-1:h[c]===G?1:0};return b};b.matches=function(a,f){return b(a,null,null,f)};b.matchesSelector=function(a,f){(a.ownerDocument||a)!==B&&E(a);f=f.replace(ba,"='$1']");if(z.matchesSelector&&H&&!(F&&F.test(f)||N&&N.test(f)))try{var e=L.call(a,f);if(e||z.disconnectedMatch||a.document&&11!==a.document.nodeType)return e}catch(c){}return 0<b(f,B,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==B&&E(a);return Ja(a,b)};b.attr=function(a,b){(a.ownerDocument||
a)!==B&&E(a);var f=w.attrHandle[b.toLowerCase()],f=f&&V.call(w.attrHandle,b.toLowerCase())?f(a,b,!H):void 0;return void 0!==f?f:z.attributes||!H?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,f=[],e=0,c=0;S=!z.detectDuplicates;A=!z.sortStable&&a.slice(0);a.sort(P);if(S){for(;b=a[c++];)b===a[c]&&(e=f.push(c));for(;e--;)a.splice(f[e],1)}A=null;return a};J=b.getText=function(a){var b,
f="",e=0;b=a.nodeType;if(!b)for(;b=a[e++];)f+=J(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)f+=J(a)}else if(3===b||4===b)return a.nodeValue;return f};w=b.selectors={cacheLength:50,createPseudo:e,match:da,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ga,ia);a[3]=(a[4]||
a[5]||"").replace(ga,ia);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,f=!a[5]&&a[2];if(da.CHILD.test(a[0]))return null;a[3]&&void 0!==a[4]?a[2]=a[4]:f&&ea.test(f)&&(b=p(f,!0))&&(b=f.indexOf(")",f.length-b)-f.length)&&(a[0]=a[0].slice(0,b),a[2]=f.slice(0,b));
return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(ga,ia).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=T[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&T(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==M&&a.getAttribute("class")||"")})},ATTR:function(a,f,e){return function(c){c=b.attr(c,a);if(null==c)return"!="===
f;if(!f)return!0;c+="";return"="===f?c===e:"!="===f?c!==e:"^="===f?e&&0===c.indexOf(e):"*="===f?e&&-1<c.indexOf(e):"$="===f?e&&c.slice(-e.length)===e:"~="===f?-1<(" "+c+" ").indexOf(e):"|="===f?c===e||c.slice(0,e.length+1)===e+"-":!1}},CHILD:function(a,b,f,e,c){var d="nth"!==a.slice(0,3),k="last"!==a.slice(-4),g="of-type"===b;return 1===e&&0===c?function(a){return!!a.parentNode}:function(b,f,h){var l,O,m,n,Ra;f=d!==k?"nextSibling":"previousSibling";var p=b.parentNode,q=g&&b.nodeName.toLowerCase();
h=!h&&!g;if(p){if(d){for(;f;){for(O=b;O=O[f];)if(g?O.nodeName.toLowerCase()===q:1===O.nodeType)return!1;Ra=f="only"===a&&!Ra&&"nextSibling"}return!0}Ra=[k?p.firstChild:p.lastChild];if(k&&h)for(h=p[D]||(p[D]={}),l=h[a]||[],n=l[0]===Q&&l[1],m=l[0]===Q&&l[2],O=n&&p.childNodes[n];O=++n&&O&&O[f]||(m=n=0)||Ra.pop();){if(1===O.nodeType&&++m&&O===b){h[a]=[Q,n,m];break}}else if(h&&(l=(b[D]||(b[D]={}))[a])&&l[0]===Q)m=l[1];else for(;(O=++n&&O&&O[f]||(m=n=0)||Ra.pop())&&((g?O.nodeName.toLowerCase()!==q:1!==
O.nodeType)||!++m||(h&&((O[D]||(O[D]={}))[a]=[Q,m]),O!==b)););m-=c;return m===e||0===m%e&&0<=m/e}}},PSEUDO:function(a,f){var c,d=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return d[D]?d(f):1<d.length?(c=[a,a,"",f],w.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,b){for(var e,c=d(a,f),k=c.length;k--;)e=ca.call(a,c[k]),a[e]=!(b[e]=c[k])}):function(a){return d(a,0,c)}):d}},pseudos:{not:e(function(a){var b=[],f=[],c=U(a.replace(qa,"$1"));return c[D]?e(function(a,
b,f,e){e=c(a,null,e,[]);for(var d=a.length;d--;)if(f=e[d])a[d]=!(b[d]=f)}):function(a,e,d){b[0]=a;c(b,null,d,f);return!f.pop()}}),has:e(function(a){return function(f){return 0<b(a,f).length}}),contains:e(function(a){return function(b){return-1<(b.textContent||b.innerText||J(b)).indexOf(a)}}),lang:e(function(a){fa.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(ga,ia).toLowerCase();return function(b){var f;do if(f=H?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return f=f.toLowerCase(),
f===a||0===f.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var f=a.location&&a.location.hash;return f&&f.slice(1)===b.id},root:function(a){return a===pa},focus:function(a){return a===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return ka.test(a.nodeName)},input:function(a){return ja.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===
b.toLowerCase())},first:l(function(){return[0]}),last:l(function(a,b){return[b-1]}),eq:l(function(a,b,f){return[0>f?f+b:f]}),even:l(function(a,b){for(var f=0;f<b;f+=2)a.push(f);return a}),odd:l(function(a,b){for(var f=1;f<b;f+=2)a.push(f);return a}),lt:l(function(a,b,f){for(b=0>f?f+b:f;0<=--b;)a.push(b);return a}),gt:l(function(a,b,f){for(f=0>f?f+b:f;++f<b;)a.push(f);return a})}};w.pseudos.nth=w.pseudos.eq;for(K in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[K]=g(K);for(K in{submit:!0,
reset:!0})w.pseudos[K]=h(K);n.prototype=w.filters=w.pseudos;w.setFilters=new n;U=b.compile=function(a,b){var f,e=[],c=[],d=Xa[a+" "];if(!d){b||(b=p(a));for(f=b.length;f--;)d=x(b[f]),d[D]?e.push(d):c.push(d);d=Xa(a,y(c,e))}return d};z.sortStable=D.split("").sort(P).join("")===D;z.detectDuplicates=!!S;E();z.sortDetached=c(function(a){return a.compareDocumentPosition(B.createElement("div"))&1});c(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||d("type|href|height|width",
function(a,b,f){if(!f)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});z.attributes&&c(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||d("value",function(a,b,f){if(!f&&"input"===a.nodeName.toLowerCase())return a.defaultValue});c(function(a){return null==a.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,
b,f){var e;if(!f)return!0===a[b]?b.toLowerCase():(e=a.getAttributeNode(b))&&e.specified?e.value:null});return b}(a);n.find=ma;n.expr=ma.selectors;n.expr[":"]=n.expr.pseudos;n.unique=ma.uniqueSort;n.text=ma.getText;n.isXMLDoc=ma.isXML;n.contains=ma.contains;var ea=n.expr.match.needsContext,Fa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ga=/^.[^:#\[\.,]*$/;n.filter=function(a,b,f){var e=b[0];f&&(a=":not("+a+")");return 1===b.length&&1===e.nodeType?n.find.matchesSelector(e,a)?[e]:[]:n.find.matches(a,n.grep(b,function(a){return 1===
a.nodeType}))};n.fn.extend({find:function(a){var b,f=this.length,e=[],c=this;if("string"!==typeof a)return this.pushStack(n(a).filter(function(){for(b=0;b<f;b++)if(n.contains(c[b],this))return!0}));for(b=0;b<f;b++)n.find(a,c[b],e);e=this.pushStack(1<f?n.unique(e):e);e.selector=this.selector?this.selector+" "+a:a;return e},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"===typeof a&&ea.test(a)?
n(a):a||[],!1).length}});var za,ra=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(n.fn.init=function(a,b){var f;if(!a)return this;if("string"===typeof a){f="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:ra.exec(a);if(!f||!f[1]&&b)return!b||b.jquery?(b||za).find(a):this.constructor(b).find(a);if(f[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(f[1],b&&b.nodeType?b.ownerDocument||b:V,!0)),Fa.test(f[1])&&n.isPlainObject(b))for(f in b)if(n.isFunction(this[f]))this[f](b[f]);else this.attr(f,
b[f])}else(f=V.getElementById(f[2]))&&f.parentNode&&(this.length=1,this[0]=f),this.context=V,this.selector=a;return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(n.isFunction(a))return"undefined"!==typeof za.ready?za.ready(a):a(n);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return n.makeArray(a,this)}).prototype=n.fn;za=n(V);var ua=/^(?:parents|prev(?:Until|All))/,Ga={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,f){for(var e=
[],c=void 0!==f;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(c&&n(a).is(f))break;e.push(a)}return e},sibling:function(a,b){for(var f=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&f.push(a);return f}});n.fn.extend({has:function(a){var b=n(a,this),f=b.length;return this.filter(function(){for(var a=0;a<f;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var f,e=0,c=this.length,d=[],k=ea.test(a)||"string"!==typeof a?n(a,b||this.context):0;e<c;e++)for(f=this[e];f&&f!==b;f=f.parentNode)if(11>
f.nodeType&&(k?-1<k.index(f):1===f.nodeType&&n.find.matchesSelector(f,a))){d.push(f);break}return this.pushStack(1<d.length?n.unique(d):d)},index:function(a){return a?"string"===typeof a?Q.call(n(a),this[0]):Q.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});n.each({parent:function(a){return(a=
a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,f){return n.dir(a,"parentNode",f)},next:function(a){return b(a,"nextSibling")},prev:function(a){return b(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,f){return n.dir(a,"nextSibling",f)},prevUntil:function(a,b,f){return n.dir(a,"previousSibling",f)},siblings:function(a){return n.sibling((a.parentNode||
{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(f,e){var c=n.map(this,b,f);"Until"!==a.slice(-5)&&(e=f);e&&"string"===typeof e&&(c=n.filter(e,c));1<this.length&&(Ga[a]||n.unique(c),ua.test(a)&&c.reverse());return this.pushStack(c)}});var ja=/\S+/g,Da={};n.Callbacks=function(a){a="string"===typeof a?Da[a]||e(a):n.extend({},a);var b,f,c,d,k,g,h=[],l=!a.once&&[],m=function(e){b=
a.memory&&e;f=!0;g=d||0;d=0;k=h.length;for(c=!0;h&&g<k;g++)if(!1===h[g].apply(e[0],e[1])&&a.stopOnFalse){b=!1;break}c=!1;h&&(l?l.length&&m(l.shift()):b?h=[]:p.disable())},p={add:function(){if(h){var f=h.length;(function xb(b){n.each(b,function(b,f){var e=n.type(f);"function"===e?a.unique&&p.has(f)||h.push(f):f&&f.length&&"string"!==e&&xb(f)})})(arguments);c?k=h.length:b&&(d=f,m(b))}return this},remove:function(){h&&n.each(arguments,function(a,b){for(var f;-1<(f=n.inArray(b,h,f));)h.splice(f,1),c&&
(f<=k&&k--,f<=g&&g--)});return this},has:function(a){return a?-1<n.inArray(a,h):!(!h||!h.length)},empty:function(){h=[];k=0;return this},disable:function(){h=l=b=void 0;return this},disabled:function(){return!h},lock:function(){l=void 0;b||p.disable();return this},locked:function(){return!l},fireWith:function(a,b){!h||f&&!l||(b=b||[],b=[a,b.slice?b.slice():b],c?l.push(b):m(b));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!f}};return p};n.extend({Deferred:function(a){var b=
[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],f="pending",e={state:function(){return f},always:function(){c.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return n.Deferred(function(f){n.each(b,function(b,d){var k=n.isFunction(a[b])&&a[b];c[d[1]](function(){var a=k&&k.apply(this,arguments);if(a&&n.isFunction(a.promise))a.promise().done(f.resolve).fail(f.reject).progress(f.notify);
else f[d[0]+"With"](this===e?f.promise():this,k?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?n.extend(a,e):e}},c={};e.pipe=e.then;n.each(b,function(a,d){var k=d[2],g=d[3];e[d[1]]=k.add;g&&k.add(function(){f=g},b[a^1][2].disable,b[2][2].lock);c[d[0]]=function(){c[d[0]+"With"](this===c?e:this,arguments);return this};c[d[0]+"With"]=k.fireWith});e.promise(c);a&&a.call(c,c);return c},when:function(a){var b=0,f=K.call(arguments),e=f.length,c=1!==e||a&&n.isFunction(a.promise)?
e:0,d=1===c?a:n.Deferred(),k=function(a,b,f){return function(e){b[a]=this;f[a]=1<arguments.length?K.call(arguments):e;f===g?d.notifyWith(b,f):--c||d.resolveWith(b,f)}},g,h,l;if(1<e)for(g=Array(e),h=Array(e),l=Array(e);b<e;b++)f[b]&&n.isFunction(f[b].promise)?f[b].promise().done(k(b,l,f)).fail(d.reject).progress(k(b,h,g)):--c;c||d.resolveWith(l,f);return d.promise()}});var na;n.fn.ready=function(a){n.ready.promise().done(a);return this};n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:
n.ready(!0)},ready:function(a){(!0===a?--n.readyWait:n.isReady)||(n.isReady=!0,!0!==a&&0<--n.readyWait||(na.resolveWith(V,[n]),n.fn.trigger&&n(V).trigger("ready").off("ready")))}});n.ready.promise=function(b){na||(na=n.Deferred(),"complete"===V.readyState?setTimeout(n.ready):(V.addEventListener("DOMContentLoaded",f,!1),a.addEventListener("load",f,!1)));return na.promise(b)};n.ready.promise();var da=n.access=function(a,b,f,e,c,d,k){var g=0,h=a.length,l=null==f;if("object"===n.type(f))for(g in c=!0,
f)n.access(a,b,g,f[g],!0,d,k);else if(void 0!==e&&(c=!0,n.isFunction(e)||(k=!0),l&&(k?(b.call(a,e),b=null):(l=b,b=function(a,b,f){return l.call(n(a),f)})),b))for(;g<h;g++)b(a[g],f,k?e:e.call(a[g],g,b(a[g],f)));return c?a:l?b.call(a):h?b(a[0],f):d};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};k.uid=1;k.accepts=n.acceptData;k.prototype={key:function(a){if(!k.accepts(a))return 0;var b={},f=a[this.expando];if(!f){f=k.uid++;try{b[this.expando]={value:f},Object.defineProperties(a,
b)}catch(e){b[this.expando]=f,n.extend(a,b)}}this.cache[f]||(this.cache[f]={});return f},set:function(a,b,f){var e;a=this.key(a);var c=this.cache[a];if("string"===typeof b)c[b]=f;else if(n.isEmptyObject(c))n.extend(this.cache[a],b);else for(e in b)c[e]=b[e];return c},get:function(a,b){var f=this.cache[this.key(a)];return void 0===b?f:f[b]},access:function(a,b,f){if(void 0===b||b&&"string"===typeof b&&void 0===f)return f=this.get(a,b),void 0!==f?f:this.get(a,n.camelCase(b));this.set(a,b,f);return void 0!==
f?f:b},remove:function(a,b){var f,e;f=this.key(a);var c=this.cache[f];if(void 0===b)this.cache[f]={};else for(n.isArray(b)?e=b.concat(b.map(n.camelCase)):(f=n.camelCase(b),b in c?e=[b,f]:(e=f,e=e in c?[e]:e.match(ja)||[])),f=e.length;f--;)delete c[e[f]]},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var M=new k,ba=new k,Ea=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wa=/([A-Z])/g;n.extend({hasData:function(a){return ba.hasData(a)||
M.hasData(a)},data:function(a,b,f){return ba.access(a,b,f)},removeData:function(a,b){ba.remove(a,b)},_data:function(a,b,f){return M.access(a,b,f)},_removeData:function(a,b){M.remove(a,b)}});n.fn.extend({data:function(a,b){var f,e,c,d=this[0],k=d&&d.attributes;if(void 0===a){if(this.length&&(c=ba.get(d),1===d.nodeType&&!M.get(d,"hasDataAttrs"))){for(f=k.length;f--;)e=k[f].name,0===e.indexOf("data-")&&(e=n.camelCase(e.slice(5)),h(d,e,c[e]));M.set(d,"hasDataAttrs",!0)}return c}return"object"===typeof a?
this.each(function(){ba.set(this,a)}):da(this,function(b){var f,e=n.camelCase(a);if(d&&void 0===b){f=ba.get(d,a);if(void 0!==f)return f;f=ba.get(d,e);if(void 0!==f)return f;f=h(d,e,void 0);if(void 0!==f)return f}else this.each(function(){var f=ba.get(this,e);ba.set(this,e,b);-1!==a.indexOf("-")&&void 0!==f&&ba.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){ba.remove(this,a)})}});n.extend({queue:function(a,b,f){var e;if(a)return b=(b||"fx")+
"queue",e=M.get(a,b),f&&(!e||n.isArray(f)?e=M.access(a,b,n.makeArray(f)):e.push(f)),e||[]},dequeue:function(a,b){b=b||"fx";var f=n.queue(a,b),e=f.length,c=f.shift(),d=n._queueHooks(a,b),k=function(){n.dequeue(a,b)};"inprogress"===c&&(c=f.shift(),e--);c&&("fx"===b&&f.unshift("inprogress"),delete d.stop,c.call(a,k,d));!e&&d&&d.empty.fire()},_queueHooks:function(a,b){var f=b+"queueHooks";return M.get(a,f)||M.access(a,f,{empty:n.Callbacks("once memory").add(function(){M.remove(a,[b+"queue",f])})})}});
n.fn.extend({queue:function(a,b){var f=2;"string"!==typeof a&&(b=a,a="fx",f--);return arguments.length<f?n.queue(this[0],a):void 0===b?this:this.each(function(){var f=n.queue(this,a,b);n._queueHooks(this,a);"fx"===a&&"inprogress"!==f[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var f,e=1,c=n.Deferred(),d=this,k=this.length,g=function(){--e||c.resolveWith(d,[d])};"string"!==
typeof a&&(b=a,a=void 0);for(a=a||"fx";k--;)(f=M.get(d[k],a+"queueHooks"))&&f.empty&&(e++,f.empty.add(g));g();return c.promise(b)}});var Aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ka=["Top","Right","Bottom","Left"],ya=function(a,b){a=b||a;return"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},Ha=/^(?:checkbox|radio)$/i;(function(){var a=V.createDocumentFragment().appendChild(V.createElement("div"));a.innerHTML="<input type='radio' checked='checked' name='t'/>";W.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;
a.innerHTML="<textarea>x</textarea>";W.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();W.focusinBubbles="onfocusin"in a;var Na=/^key/,Oa=/^(?:mouse|contextmenu)|click/,Ia=/^(?:focusinfocus|focusoutblur)$/,Pa=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,b,f,e,c){var d,k,g,h,l,m,p,q,r;if(l=M.get(a))for(f.handler&&(d=f,f=d.handler,c=d.selector),f.guid||(f.guid=n.guid++),(h=l.events)||(h=l.events={}),(k=l.handle)||(k=l.handle=function(b){return"undefined"!==typeof n&&n.event.triggered!==
b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(ja)||[""],l=b.length;l--;)g=Pa.exec(b[l])||[],q=m=g[1],r=(g[2]||"").split(".").sort(),q&&(g=n.event.special[q]||{},q=(c?g.delegateType:g.bindType)||q,g=n.event.special[q]||{},m=n.extend({type:q,origType:m,data:e,handler:f,guid:f.guid,selector:c,needsContext:c&&n.expr.match.needsContext.test(c),namespace:r.join(".")},d),(p=h[q])||(p=h[q]=[],p.delegateCount=0,g.setup&&!1!==g.setup.call(a,e,r,k)||a.addEventListener&&a.addEventListener(q,
k,!1)),g.add&&(g.add.call(a,m),m.handler.guid||(m.handler.guid=f.guid)),c?p.splice(p.delegateCount++,0,m):p.push(m),n.event.global[q]=!0)},remove:function(a,b,f,e,c){var d,k,g,h,l,m,p,q,r,v,s,u=M.hasData(a)&&M.get(a);if(u&&(h=u.events)){b=(b||"").match(ja)||[""];for(l=b.length;l--;)if(g=Pa.exec(b[l])||[],r=s=g[1],v=(g[2]||"").split(".").sort(),r){p=n.event.special[r]||{};r=(e?p.delegateType:p.bindType)||r;q=h[r]||[];g=g[2]&&RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)");for(k=d=q.length;d--;)m=
q[d],!c&&s!==m.origType||f&&f.guid!==m.guid||g&&!g.test(m.namespace)||e&&!(e===m.selector||"**"===e&&m.selector)||(q.splice(d,1),m.selector&&q.delegateCount--,p.remove&&p.remove.call(a,m));k&&!q.length&&(p.teardown&&!1!==p.teardown.call(a,v,u.handle)||n.removeEvent(a,r,u.handle),delete h[r])}else for(r in h)n.event.remove(a,r+b[l],f,e,!0);n.isEmptyObject(h)&&(delete u.handle,M.remove(a,"events"))}},trigger:function(b,f,e,c){var d,k,g,h,l,m,p=[e||V],q=qa.call(b,"type")?b.type:b;m=qa.call(b,"namespace")?
b.namespace.split("."):[];k=d=e=e||V;if(3!==e.nodeType&&8!==e.nodeType&&!Ia.test(q+n.event.triggered)&&(0<=q.indexOf(".")&&(m=q.split("."),q=m.shift(),m.sort()),h=0>q.indexOf(":")&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"===typeof b&&b),b.isTrigger=c?2:3,b.namespace=m.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),f=null==f?[b]:n.makeArray(f,[b]),m=n.event.special[q]||{},c||!m.trigger||!1!==m.trigger.apply(e,
f))){if(!c&&!m.noBubble&&!n.isWindow(e)){g=m.delegateType||q;Ia.test(g+q)||(k=k.parentNode);for(;k;k=k.parentNode)p.push(k),d=k;d===(e.ownerDocument||V)&&p.push(d.defaultView||d.parentWindow||a)}for(d=0;(k=p[d++])&&!b.isPropagationStopped();)b.type=1<d?g:m.bindType||q,(l=(M.get(k,"events")||{})[b.type]&&M.get(k,"handle"))&&l.apply(k,f),(l=h&&k[h])&&l.apply&&n.acceptData(k)&&(b.result=l.apply(k,f),!1===b.result&&b.preventDefault());b.type=q;c||b.isDefaultPrevented()||m._default&&!1!==m._default.apply(p.pop(),
f)||!n.acceptData(e)||!h||!n.isFunction(e[q])||n.isWindow(e)||((d=e[h])&&(e[h]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,d&&(e[h]=d));return b.result}},dispatch:function(a){a=n.event.fix(a);var b,f,e,c,d=[],k=K.call(arguments);b=(M.get(this,"events")||{})[a.type]||[];var g=n.event.special[a.type]||{};k[0]=a;a.delegateTarget=this;if(!g.preDispatch||!1!==g.preDispatch.call(this,a)){d=n.event.handlers.call(this,a,b);for(b=0;(c=d[b++])&&!a.isPropagationStopped();)for(a.currentTarget=c.elem,
f=0;(e=c.handlers[f++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(e.namespace))a.handleObj=e,a.data=e.data,e=((n.event.special[e.origType]||{}).handle||e.handler).apply(c.elem,k),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation());g.postDispatch&&g.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var f,e,c,d,k=[],g=b.delegateCount,h=a.target;if(g&&h.nodeType&&(!a.button||"click"!==a.type))for(;h!==this;h=h.parentNode||this)if(!0!==
h.disabled||"click"!==a.type){e=[];for(f=0;f<g;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?0<=n(c,this).index(h):n.find(c,this,null,[h]).length),e[c]&&e.push(d);e.length&&k.push({elem:h,handlers:e})}g<b.length&&k.push({elem:this,handlers:b.slice(g)});return k},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==
a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var f,e,c=b.button;null==a.pageX&&null!=b.clientX&&(f=a.target.ownerDocument||V,e=f.documentElement,f=f.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0));a.which||
void 0===c||(a.which=c&1?1:c&2?3:c&4?2:0);return a}},fix:function(a){if(a[n.expando])return a;var b,f,e;b=a.type;var c=a,d=this.fixHooks[b];d||(this.fixHooks[b]=d=Oa.test(b)?this.mouseHooks:Na.test(b)?this.keyHooks:{});e=d.props?this.props.concat(d.props):this.props;a=new n.Event(c);for(b=e.length;b--;)f=e[b],a[f]=c[f];a.target||(a.target=V);3===a.target.nodeType&&(a.target=a.target.parentNode);return d.filter?d.filter(a,c):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)return this.focus(),
!1},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&n.nodeName(this,"input"))return this.click(),!1},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,f,e){a=n.extend(new n.Event,f,{type:a,isSimulated:!0,originalEvent:{}});e?n.event.trigger(a,
null,b):n.event.dispatch.call(b,a);a.isDefaultPrevented()&&f.preventDefault()}};n.removeEvent=function(a,b,f){a.removeEventListener&&a.removeEventListener(b,f,!1)};n.Event=function(a,b){if(!(this instanceof n.Event))return new n.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.getPreventDefault&&a.getPreventDefault()?l:m):this.type=a;b&&n.extend(this,b);this.timeStamp=a&&a.timeStamp||n.now();this[n.expando]=!0};
n.Event.prototype={isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=l;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=l;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l;this.stopPropagation()}};n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]=
{delegateType:b,bindType:b,handle:function(a){var f,e=a.relatedTarget,c=a.handleObj;if(!e||e!==this&&!n.contains(this,e))a.type=c.origType,f=c.handler.apply(this,arguments),a.type=b;return f}}});W.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var f=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var e=this.ownerDocument||this,c=M.access(e,b);c||e.addEventListener(a,f,!0);M.access(e,b,(c||0)+1)},teardown:function(){var e=this.ownerDocument||
this,c=M.access(e,b)-1;c?M.access(e,b,c):(e.removeEventListener(a,f,!0),M.remove(e,b))}}});n.fn.extend({on:function(a,b,f,e,c){var d,k;if("object"===typeof a){"string"!==typeof b&&(f=f||b,b=void 0);for(k in a)this.on(k,b,f,a[k],c);return this}null==f&&null==e?(e=b,f=b=void 0):null==e&&("string"===typeof b?(e=f,f=void 0):(e=f,f=b,b=void 0));if(!1===e)e=m;else if(!e)return this;1===c&&(d=e,e=function(a){n().off(a);return d.apply(this,arguments)},e.guid=d.guid||(d.guid=n.guid++));return this.each(function(){n.event.add(this,
a,e,f,b)})},one:function(a,b,f,e){return this.on(a,b,f,e,1)},off:function(a,b,f){var e;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,n(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"===typeof a){for(e in a)this.off(e,b,a[e]);return this}if(!1===b||"function"===typeof b)f=b,b=void 0;!1===f&&(f=m);return this.each(function(){n.event.remove(this,a,f,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},
triggerHandler:function(a,b){var f=this[0];if(f)return n.event.trigger(a,b,f,!0)}});var Qa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,pa=/<([\w:]+)/,Ja=/<|&#?\w+;/,cb=/<(?:script|style|link)/i,Xa=/checked\s*(?:[^=]|=\s*.checked.)/i,sa=/^$|\/(?:java|ecma)script/i,ta=/^true\/(.*)/,Ya=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,
"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};oa.optgroup=oa.option;oa.tbody=oa.tfoot=oa.colgroup=oa.caption=oa.thead;oa.th=oa.td;n.extend({clone:function(a,b,f){var e,c,d,k,g=a.cloneNode(!0),h=n.contains(a.ownerDocument,a);if(!(W.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(k=x(g),d=x(a),e=0,c=d.length;e<c;e++){var l=d[e],m=k[e],p=m.nodeName.toLowerCase();if("input"===p&&Ha.test(l.type))m.checked=l.checked;else if("input"===
p||"textarea"===p)m.defaultValue=l.defaultValue}if(b)if(f)for(d=d||x(a),k=k||x(g),e=0,c=d.length;e<c;e++)v(d[e],k[e]);else v(a,g);k=x(g,"script");0<k.length&&u(k,!h&&x(a,"script"));return g},buildFragment:function(a,b,f,e){for(var c,d,k,g=b.createDocumentFragment(),h=[],l=0,m=a.length;l<m;l++)if((c=a[l])||0===c)if("object"===n.type(c))n.merge(h,c.nodeType?[c]:c);else if(Ja.test(c)){d=d||g.appendChild(b.createElement("div"));k=(pa.exec(c)||["",""])[1].toLowerCase();k=oa[k]||oa._default;d.innerHTML=
k[1]+c.replace(Qa,"<$1></$2>")+k[2];for(k=k[0];k--;)d=d.lastChild;n.merge(h,d.childNodes);d=g.firstChild;d.textContent=""}else h.push(b.createTextNode(c));g.textContent="";for(l=0;c=h[l++];)if(!e||-1===n.inArray(c,e))if(a=n.contains(c.ownerDocument,c),d=x(g.appendChild(c),"script"),a&&u(d),f)for(k=0;c=d[k++];)sa.test(c.type||"")&&f.push(c);return g},cleanData:function(a){for(var b,f,e,c,d,k,g=n.event.special,h=0;void 0!==(f=a[h]);h++){if(n.acceptData(f)&&(d=f[M.expando])&&(b=M.cache[d])){e=Object.keys(b.events||
{});if(e.length)for(k=0;void 0!==(c=e[k]);k++)g[c]?n.event.remove(f,c):n.removeEvent(f,c,b.handle);M.cache[d]&&delete M.cache[d]}delete ba.cache[f[ba.expando]]}}});n.fn.extend({text:function(a){return da(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||
s(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var f,e=a?n.filter(a,this):
this,c=0;null!=(f=e[c]);c++)b||1!==f.nodeType||n.cleanData(x(f)),f.parentNode&&(b&&n.contains(f.ownerDocument,f)&&u(x(f,"script")),f.parentNode.removeChild(f));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(x(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return n.clone(this,a,b)})},html:function(a){return da(this,function(a){var b=this[0]||{},f=0,e=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;
if("string"===typeof a&&!cb.test(a)&&!oa[(pa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Qa,"<$1></$2>");try{for(;f<e;f++)b=this[f]||{},1===b.nodeType&&(n.cleanData(x(b,!1)),b.innerHTML=a);b=0}catch(c){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];this.domManip(arguments,function(b){a=this.parentNode;n.cleanData(x(this));a&&a.replaceChild(b,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},
domManip:function(a,b){a=U.apply([],a);var f,e,c,d,k=0,g=this.length,h=this,l=g-1,m=a[0],p=n.isFunction(m);if(p||1<g&&"string"===typeof m&&!W.checkClone&&Xa.test(m))return this.each(function(f){var e=h.eq(f);p&&(a[0]=m.call(this,f,e.html()));e.domManip(a,b)});if(g&&(f=n.buildFragment(a,this[0].ownerDocument,!1,this),e=f.firstChild,1===f.childNodes.length&&(f=e),e)){e=n.map(x(f,"script"),r);for(c=e.length;k<g;k++)d=f,k!==l&&(d=n.clone(d,!0,!0),c&&n.merge(e,x(d,"script"))),b.call(this[k],d,k);if(c)for(f=
e[e.length-1].ownerDocument,n.map(e,q),k=0;k<c;k++)d=e[k],sa.test(d.type||"")&&!M.access(d,"globalEval")&&n.contains(f,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval(d.textContent.replace(Ya,"")))}return this}});n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var f=[],e=n(a),c=e.length-1,d=0;d<=c;d++)a=d===c?this:this.clone(!0),n(e[d])[b](a),N.apply(f,a.get());return this.pushStack(f)}});
var La,xa={},hb=/^margin/,ab=RegExp("^("+Aa+")(?!px)[a-z%]+$","i"),Va=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};(function(){function b(){k.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%";c.appendChild(d);var g=a.getComputedStyle(k,null);f="1%"!==g.top;e="4px"===g.width;c.removeChild(d)}var f,e,c=V.documentElement,d=V.createElement("div"),
k=V.createElement("div");k.style.backgroundClip="content-box";k.cloneNode(!0).style.backgroundClip="";W.clearCloneStyle="content-box"===k.style.backgroundClip;d.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";d.appendChild(k);a.getComputedStyle&&n.extend(W,{pixelPosition:function(){b();return f},boxSizingReliable:function(){null==e&&b();return e},reliableMarginRight:function(){var b;b=k.appendChild(V.createElement("div"));b.style.cssText=k.style.cssText=
"padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box";b.style.marginRight=b.style.width="0";k.style.width="1px";c.appendChild(d);b=!parseFloat(a.getComputedStyle(b,null).marginRight);c.removeChild(d);k.innerHTML="";return b}})})();n.swap=function(a,b,f,e){var c,d={};for(c in b)d[c]=a.style[c],a.style[c]=b[c];f=f.apply(a,e||[]);for(c in b)a.style[c]=d[c];return f};var yb=/^(none|table(?!-c[ea]).+)/,vb=RegExp("^("+Aa+")(.*)$","i"),
zb=RegExp("^([+-])=("+Aa+")","i"),Ab={position:"absolute",visibility:"hidden",display:"block"},jb={letterSpacing:0,fontWeight:400},ib=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var f=w(a,"opacity");return""===f?"1":f}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,f,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var c,d,k,g=n.camelCase(b),
h=a.style;b=n.cssProps[g]||(n.cssProps[g]=E(h,g));k=n.cssHooks[b]||n.cssHooks[g];if(void 0!==f)d=typeof f,"string"===d&&(c=zb.exec(f))&&(f=(c[1]+1)*c[2]+parseFloat(n.css(a,b)),d="number"),null!=f&&f===f&&("number"!==d||n.cssNumber[g]||(f+="px"),W.clearCloneStyle||""!==f||0!==b.indexOf("background")||(h[b]="inherit"),k&&"set"in k&&void 0===(f=k.set(a,f,e))||(h[b]="",h[b]=f));else return k&&"get"in k&&void 0!==(c=k.get(a,!1,e))?c:h[b]}},css:function(a,b,f,e){var c,d;d=n.camelCase(b);b=n.cssProps[d]||
(n.cssProps[d]=E(a.style,d));(d=n.cssHooks[b]||n.cssHooks[d])&&"get"in d&&(c=d.get(a,!0,f));void 0===c&&(c=w(a,b,e));"normal"===c&&b in jb&&(c=jb[b]);return""===f||f?(a=parseFloat(c),!0===f||n.isNumeric(a)?a||0:c):c}});n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,f,e){if(f)return 0===a.offsetWidth&&yb.test(n.css(a,"display"))?n.swap(a,Ab,function(){return L(a,b,e)}):L(a,b,e)},set:function(a,f,e){var c=e&&Va(a);return B(a,f,e?F(a,b,e,"border-box"===n.css(a,"boxSizing",!1,c),
c):0)}}});n.cssHooks.marginRight=A(W.reliableMarginRight,function(a,b){if(b)return n.swap(a,{display:"inline-block"},w,[a,"marginRight"])});n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(f){var e=0,c={};for(f="string"===typeof f?f.split(" "):[f];4>e;e++)c[a+ka[e]+b]=f[e]||f[e-2]||f[0];return c}};hb.test(a)||(n.cssHooks[a+b].set=B)});n.fn.extend({css:function(a,b){return da(this,function(a,b,f){var e,c={},d=0;if(n.isArray(b)){f=Va(a);for(e=b.length;d<e;d++)c[b[d]]=
n.css(a,b[d],!1,f);return c}return void 0!==f?n.style(a,b,f):n.css(a,b)},a,b,1<arguments.length)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){ya(this)?n(this).show():n(this).hide()})}});n.Tween=G;G.prototype={constructor:G,init:function(a,b,f,e,c,d){this.elem=a;this.prop=f;this.easing=c||"swing";this.options=b;this.start=this.now=this.cur();this.end=e;this.unit=d||(n.cssNumber[f]?"":
"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,f=G.propHooks[this.prop];this.pos=this.options.duration?b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);f&&f.set?f.set(this):G.propHooks._default.set(this);return this}};G.prototype.init.prototype=G.prototype;G.propHooks={_default:{get:function(a){return null==
a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=n.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(n.fx.step[a.prop])n.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};n.easing={linear:function(a){return a},swing:function(a){return 0.5-
Math.cos(a*Math.PI)/2}};n.fx=G.prototype.init;n.fx.step={};var Ma,Za,Bb=/^(?:toggle|show|hide)$/,kb=RegExp("^(?:([+-])=|)("+Aa+")([a-z%]*)$","i"),Cb=/queueHooks$/,Wa=[function(a,b,f){var e,c,d,k,g,h=this,l={},m=a.style,p=a.nodeType&&ya(a),q=M.get(a,"fxshow");f.queue||(k=n._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,g=k.empty.fire,k.empty.fire=function(){k.unqueued||g()}),k.unqueued++,h.always(function(){h.always(function(){k.unqueued--;n.queue(a,"fx").length||k.empty.fire()})}));1===a.nodeType&&
("height"in b||"width"in b)&&(f.overflow=[m.overflow,m.overflowX,m.overflowY],c=n.css(a,"display"),"none"===c&&(c=y(a.nodeName)),"inline"===c&&"none"===n.css(a,"float")&&(m.display="inline-block"));f.overflow&&(m.overflow="hidden",h.always(function(){m.overflow=f.overflow[0];m.overflowX=f.overflow[1];m.overflowY=f.overflow[2]}));for(e in b)if(c=b[e],Bb.exec(c)){delete b[e];d=d||"toggle"===c;if(c===(p?"hide":"show"))if("show"===c&&q&&void 0!==q[e])p=!0;else continue;l[e]=q&&q[e]||n.style(a,e)}if(!n.isEmptyObject(l))for(e in q?
"hidden"in q&&(p=q.hidden):q=M.access(a,"fxshow",{}),d&&(q.hidden=!p),p?n(a).show():h.done(function(){n(a).hide()}),h.done(function(){var b;M.remove(a,"fxshow");for(b in l)n.style(a,b,l[b])}),l)b=Z(p?q[e]:0,e,h),e in q||(q[e]=b.start,p&&(b.end=b.start,b.start="width"===e||"height"===e?1:0))}],Sa={"*":[function(a,b){var f=this.createTween(a,b),e=f.cur(),c=kb.exec(b),d=c&&c[3]||(n.cssNumber[a]?"":"px"),k=(n.cssNumber[a]||"px"!==d&&+e)&&kb.exec(n.css(f.elem,a)),g=1,h=20;if(k&&k[3]!==d){d=d||k[3];c=c||
[];k=+e||1;do g=g||".5",k/=g,n.style(f.elem,a,k+d);while(g!==(g=f.cur()/e)&&1!==g&&--h)}c&&(k=f.start=+k||+e||0,f.unit=d,f.end=c[1]?k+(c[1]+1)*c[2]:+c[2]);return f}]};n.Animation=n.extend(R,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var f,e=0,c=a.length;e<c;e++)f=a[e],Sa[f]=Sa[f]||[],Sa[f].unshift(b)},prefilter:function(a,b){b?Wa.unshift(a):Wa.push(a)}});n.speed=function(a,b,f){var e=a&&"object"===typeof a?n.extend({},a):{complete:f||!f&&b||n.isFunction(a)&&a,duration:a,
easing:f&&b||b&&!n.isFunction(b)&&b};e.duration=n.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in n.fx.speeds?n.fx.speeds[e.duration]:n.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){n.isFunction(e.old)&&e.old.call(this);e.queue&&n.dequeue(this,e.queue)};return e};n.fn.extend({fadeTo:function(a,b,f,e){return this.filter(ya).css("opacity",0).show().end().animate({opacity:b},a,f,e)},animate:function(a,b,f,e){var c=n.isEmptyObject(a),
d=n.speed(b,f,e);b=function(){var b=R(this,n.extend({},a),d);(c||M.get(this,"finish"))&&b.stop(!0)};b.finish=b;return c||!1===d.queue?this.each(b):this.queue(d.queue,b)},stop:function(a,b,f){var e=function(a){var b=a.stop;delete a.stop;b(f)};"string"!==typeof a&&(f=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",d=n.timers,k=M.get(this);if(c)k[c]&&k[c].stop&&e(k[c]);else for(c in k)k[c]&&k[c].stop&&Cb.test(c)&&e(k[c]);for(c=d.length;c--;)d[c].elem!==
this||null!=a&&d[c].queue!==a||(d[c].anim.stop(f),b=!1,d.splice(c,1));!b&&f||n.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,f=M.get(this),e=f[a+"queue"];b=f[a+"queueHooks"];var c=n.timers,d=e?e.length:0;f.finish=!0;n.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=c.length;b--;)c[b].elem===this&&c[b].queue===a&&(c[b].anim.stop(!0),c.splice(b,1));for(b=0;b<d;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete f.finish})}});n.each(["toggle","show",
"hide"],function(a,b){var f=n.fn[b];n.fn[b]=function(a,e,c){return null==a||"boolean"===typeof a?f.apply(this,arguments):this.animate(T(b,!0),a,e,c)}});n.each({slideDown:T("show"),slideUp:T("hide"),slideToggle:T("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,f,e){return this.animate(b,a,f,e)}});n.timers=[];n.fx.tick=function(){var a,b=0,f=n.timers;for(Ma=n.now();b<f.length;b++)a=f[b],a()||f[b]!==a||f.splice(b--,1);f.length||
n.fx.stop();Ma=void 0};n.fx.timer=function(a){n.timers.push(a);a()?n.fx.start():n.timers.pop()};n.fx.interval=13;n.fx.start=function(){Za||(Za=setInterval(n.fx.tick,n.fx.interval))};n.fx.stop=function(){clearInterval(Za);Za=null};n.fx.speeds={slow:600,fast:200,_default:400};n.fn.delay=function(a,b){a=n.fx?n.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,f){var e=setTimeout(b,a);f.stop=function(){clearTimeout(e)}})};(function(){var a=V.createElement("input"),b=V.createElement("select"),f=b.appendChild(V.createElement("option"));
a.type="checkbox";W.checkOn=""!==a.value;W.optSelected=f.selected;b.disabled=!0;W.optDisabled=!f.disabled;a=V.createElement("input");a.value="t";a.type="radio";W.radioValue="t"===a.value})();var lb,Ta=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return da(this,n.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}});n.extend({attr:function(a,b,f){var e,c,d=a.nodeType;if(a&&3!==d&&8!==d&&2!==d){if("undefined"===typeof a.getAttribute)return n.prop(a,
b,f);1===d&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?lb:void 0));if(void 0!==f)if(null===f)n.removeAttr(a,b);else{if(e&&"set"in e&&void 0!==(c=e.set(a,f,b)))return c;a.setAttribute(b,f+"");return f}else{if(e&&"get"in e&&null!==(c=e.get(a,b)))return c;c=n.find.attr(a,b);return null==c?void 0:c}}},removeAttr:function(a,b){var f,e,c=0,d=b&&b.match(ja);if(d&&1===a.nodeType)for(;f=d[c++];)e=n.propFix[f]||f,n.expr.match.bool.test(f)&&(a[e]=!1),a.removeAttribute(f)},
attrHooks:{type:{set:function(a,b){if(!W.radioValue&&"radio"===b&&n.nodeName(a,"input")){var f=a.value;a.setAttribute("type",b);f&&(a.value=f);return b}}}}});lb={set:function(a,b,f){!1===b?n.removeAttr(a,f):a.setAttribute(f,f);return f}};n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var f=Ta[b]||n.find.attr;Ta[b]=function(a,b,e){var c,d;e||(d=Ta[b],Ta[b]=c,c=null!=f(a,b,e)?b.toLowerCase():null,Ta[b]=d);return c}});var Db=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,
b){return da(this,n.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}});n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,f){var e,c,d;d=a.nodeType;if(a&&3!==d&&8!==d&&2!==d){if(d=1!==d||!n.isXMLDoc(a))b=n.propFix[b]||b,c=n.propHooks[b];return void 0!==f?c&&"set"in c&&void 0!==(e=c.set(a,f,b))?e:a[b]=f:c&&"get"in c&&null!==(e=c.get(a,b))?e:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||
Db.test(a.nodeName)||a.href?a.tabIndex:-1}}}});W.optSelected||(n.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null}});n.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){n.propFix[this.toLowerCase()]=this});var db=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,f,e,c,d;b="string"===typeof a&&a;var k=0,g=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,
b,this.className))});if(b)for(b=(a||"").match(ja)||[];k<g;k++)if(f=this[k],e=1===f.nodeType&&(f.className?(" "+f.className+" ").replace(db," "):" ")){for(d=0;c=b[d++];)0>e.indexOf(" "+c+" ")&&(e+=c+" ");e=n.trim(e);f.className!==e&&(f.className=e)}return this},removeClass:function(a){var b,f,e,c,d;b=0===arguments.length||"string"===typeof a&&a;var k=0,g=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(ja)||[];k<
g;k++)if(f=this[k],e=1===f.nodeType&&(f.className?(" "+f.className+" ").replace(db," "):"")){for(d=0;c=b[d++];)for(;0<=e.indexOf(" "+c+" ");)e=e.replace(" "+c+" "," ");e=a?n.trim(e):"";f.className!==e&&(f.className=e)}return this},toggleClass:function(a,b){var f=typeof a;return"boolean"===typeof b&&"string"===f?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(f){n(this).toggleClass(a.call(this,f,this.className,b),b)}):this.each(function(){if("string"===f)for(var b,e=0,c=n(this),
d=a.match(ja)||[];b=d[e++];)c.hasClass(b)?c.removeClass(b):c.addClass(b);else if("undefined"===f||"boolean"===f)this.className&&M.set(this,"__className__",this.className),this.className=this.className||!1===a?"":M.get(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,f=this.length;b<f;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(db," ").indexOf(a))return!0;return!1}});var Eb=/\r/g;n.fn.extend({val:function(a){var b,f,e,c=this[0];if(arguments.length)return e=
n.isFunction(a),this.each(function(f){1===this.nodeType&&(f=e?a.call(this,f,n(this).val()):a,null==f?f="":"number"===typeof f?f+="":n.isArray(f)&&(f=n.map(f,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,f,"value")||(this.value=f))});if(c){if((b=n.valHooks[c.type]||n.valHooks[c.nodeName.toLowerCase()])&&"get"in b&&void 0!==(f=b.get(c,"value")))return f;f=c.value;return"string"===typeof f?f.replace(Eb,""):null==
f?"":f}}});n.extend({valHooks:{select:{get:function(a){for(var b,f=a.options,e=a.selectedIndex,c=(a="select-one"===a.type||0>e)?null:[],d=a?e+1:f.length,k=0>e?d:a?e:0;k<d;k++)if(b=f[k],!(!b.selected&&k!==e||(W.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&n.nodeName(b.parentNode,"optgroup"))){b=n(b).val();if(a)return b;c.push(b)}return c},set:function(a,b){for(var f,e,c=a.options,d=n.makeArray(b),k=c.length;k--;)if(e=c[k],e.selected=0<=n.inArray(n(e).val(),d))f=
!0;f||(a.selectedIndex=-1);return d}}}});n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){if(n.isArray(b))return a.checked=0<=n.inArray(n(a).val(),b)}};W.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,
b){n.fn[b]=function(a,f){return 0<arguments.length?this.on(b,null,a,f):this.trigger(b)}});n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,f){return this.on(a,null,b,f)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,f,e){return this.on(b,a,f,e)},undelegate:function(a,b,f){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",f)}});var eb=n.now(),fb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")};n.parseXML=function(a){var b,
f;if(!a||"string"!==typeof a)return null;try{f=new DOMParser,b=f.parseFromString(a,"text/xml")}catch(e){b=void 0}b&&!b.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+a);return b};var Ka,Ba,Fb=/#.*$/,mb=/([?&])_=[^&]*/,Gb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Hb=/^(?:GET|HEAD)$/,Ib=/^\/\//,nb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ob={},bb={},pb="*/".concat("*");try{Ba=location.href}catch(Qb){Ba=V.createElement("a"),Ba.href="",Ba=Ba.href}Ka=nb.exec(Ba.toLowerCase())||
[];n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ba,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ka[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?J(J(a,n.ajaxSettings),b):J(n.ajaxSettings,a)},ajaxPrefilter:P(ob),ajaxTransport:P(bb),ajax:function(a,b){function f(a,b,k,h){var m,x,w,K;K=b;if(2!==z){z=2;g&&clearTimeout(g);e=void 0;d=h||"";y.readyState=0<a?4:0;h=200<=a&&300>a||304===a;if(k){w=p;for(var J=y,O,C,U,I,A=w.contents,B=w.dataTypes;"*"===B[0];)B.shift(),void 0===O&&(O=w.mimeType||J.getResponseHeader("Content-Type"));
if(O)for(C in A)if(A[C]&&A[C].test(O)){B.unshift(C);break}if(B[0]in k)U=B[0];else{for(C in k){if(!B[0]||w.converters[C+" "+B[0]]){U=C;break}I||(I=C)}U=U||I}U?(U!==B[0]&&B.unshift(U),w=k[U]):w=void 0}a:{k=p;O=w;C=y;U=h;var S,E,N,J={},A=k.dataTypes.slice();if(A[1])for(E in k.converters)J[E.toLowerCase()]=k.converters[E];for(I=A.shift();I;)if(k.responseFields[I]&&(C[k.responseFields[I]]=O),!N&&U&&k.dataFilter&&(O=k.dataFilter(O,k.dataType)),N=I,I=A.shift())if("*"===I)I=N;else if("*"!==N&&N!==I){E=J[N+
" "+I]||J["* "+I];if(!E)for(S in J)if(w=S.split(" "),w[1]===I&&(E=J[N+" "+w[0]]||J["* "+w[0]])){!0===E?E=J[S]:!0!==J[S]&&(I=w[0],A.unshift(w[1]));break}if(!0!==E)if(E&&k["throws"])O=E(O);else try{O=E(O)}catch(pa){w={state:"parsererror",error:E?pa:"No conversion from "+N+" to "+I};break a}}w={state:"success",data:O}}if(h)p.ifModified&&((K=y.getResponseHeader("Last-Modified"))&&(n.lastModified[c]=K),(K=y.getResponseHeader("etag"))&&(n.etag[c]=K)),204===a||"HEAD"===p.type?K="nocontent":304===a?K="notmodified":
(K=w.state,m=w.data,x=w.error,h=!x);else if(x=K,a||!K)K="error",0>a&&(a=0);y.status=a;y.statusText=(b||K)+"";h?v.resolveWith(q,[m,K,y]):v.rejectWith(q,[y,K,x]);y.statusCode(u);u=void 0;l&&r.trigger(h?"ajaxSuccess":"ajaxError",[y,p,h?m:x]);s.fireWith(q,[y,K]);l&&(r.trigger("ajaxComplete",[y,p]),--n.active||n.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var e,c,d,k,g,h,l,m,p=n.ajaxSetup({},b),q=p.context||p,r=p.context&&(q.nodeType||q.jquery)?n(q):n.event,v=n.Deferred(),s=
n.Callbacks("once memory"),u=p.statusCode||{},x={},w={},z=0,K="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(2===z){if(!k)for(k={};b=Gb.exec(d);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===z?d:null},setRequestHeader:function(a,b){var f=a.toLowerCase();z||(a=w[f]=w[f]||a,x[a]=b);return this},overrideMimeType:function(a){z||(p.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>z)for(b in a)u[b]=[u[b],
a[b]];else y.always(a[y.status]);return this},abort:function(a){a=a||K;e&&e.abort(a);f(0,a);return this}};v.promise(y).complete=s.add;y.success=y.done;y.error=y.fail;p.url=((a||p.url||Ba)+"").replace(Fb,"").replace(Ib,Ka[1]+"//");p.type=b.method||b.type||p.method||p.type;p.dataTypes=n.trim(p.dataType||"*").toLowerCase().match(ja)||[""];null==p.crossDomain&&(h=nb.exec(p.url.toLowerCase()),p.crossDomain=!(!h||h[1]===Ka[1]&&h[2]===Ka[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(Ka[3]||("http:"===Ka[1]?
"80":"443"))));p.data&&p.processData&&"string"!==typeof p.data&&(p.data=n.param(p.data,p.traditional));Y(ob,p,b,y);if(2===z)return y;(l=p.global)&&0===n.active++&&n.event.trigger("ajaxStart");p.type=p.type.toUpperCase();p.hasContent=!Hb.test(p.type);c=p.url;p.hasContent||(p.data&&(c=p.url+=(fb.test(c)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=mb.test(c)?c.replace(mb,"$1_="+eb++):c+(fb.test(c)?"&":"?")+"_="+eb++));p.ifModified&&(n.lastModified[c]&&y.setRequestHeader("If-Modified-Since",n.lastModified[c]),
n.etag[c]&&y.setRequestHeader("If-None-Match",n.etag[c]));(p.data&&p.hasContent&&!1!==p.contentType||b.contentType)&&y.setRequestHeader("Content-Type",p.contentType);y.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+pb+"; q=0.01":""):p.accepts["*"]);for(m in p.headers)y.setRequestHeader(m,p.headers[m]);if(p.beforeSend&&(!1===p.beforeSend.call(q,y,p)||2===z))return y.abort();K="abort";for(m in{success:1,error:1,complete:1})y[m](p[m]);
if(e=Y(bb,p,b,y)){y.readyState=1;l&&r.trigger("ajaxSend",[y,p]);p.async&&0<p.timeout&&(g=setTimeout(function(){y.abort("timeout")},p.timeout));try{z=1,e.send(x,f)}catch(J){if(2>z)f(-1,J);else throw J;}}else f(-1,"No Transport");return y},getJSON:function(a,b,f){return n.get(a,b,f,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}});n.each(["get","post"],function(a,b){n[b]=function(a,f,e,c){n.isFunction(f)&&(c=c||e,e=f,f=void 0);return n.ajax({url:a,type:b,dataType:c,data:f,success:e})}});
n.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){n.fn[b]=function(a){return this.on(b,a)}});n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};n.fn.extend({wrapAll:function(a){var b;if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=
a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),f=b.contents();f.length?f.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(f){n(this).wrapAll(b?a.call(this,f):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}});n.expr.filters.hidden=
function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var Jb=/%20/g,wb=/\[\]$/,qb=/\r?\n/g,Kb=/^(?:submit|button|image|reset|file)$/i,Lb=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var f,e=[],c=function(a,b){b=n.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional);if(n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,
function(){c(this.name,this.value)});else for(f in a)I(f,a[f],b,c);return e.join("&").replace(Jb,"+")};n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Lb.test(this.nodeName)&&!Kb.test(a)&&(this.checked||!Ha.test(a))}).map(function(a,b){var f=n(this).val();return null==f?null:n.isArray(f)?
n.map(f,function(a){return{name:b.name,value:a.replace(qb,"\r\n")}}):{name:b.name,value:f.replace(qb,"\r\n")}}).get()}});n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Mb=0,$a={},Nb={0:200,1223:204},Ua=n.ajaxSettings.xhr();if(a.ActiveXObject)n(a).on("unload",function(){for(var a in $a)$a[a]()});W.cors=!!Ua&&"withCredentials"in Ua;W.ajax=Ua=!!Ua;n.ajaxTransport(function(a){var b;if(W.cors||Ua&&!a.crossDomain)return{send:function(f,e){var c,d=a.xhr(),k=++Mb;d.open(a.type,
a.url,a.async,a.username,a.password);if(a.xhrFields)for(c in a.xhrFields)d[c]=a.xhrFields[c];a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType);a.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");for(c in f)d.setRequestHeader(c,f[c]);b=function(a){return function(){b&&(delete $a[k],b=d.onload=d.onerror=null,"abort"===a?d.abort():"error"===a?e(d.status,d.statusText):e(Nb[d.status]||d.status,d.statusText,"string"===typeof d.responseText?{text:d.responseText}:void 0,
d.getAllResponseHeaders()))}};d.onload=b();d.onerror=b("error");b=$a[k]=b("abort");d.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}});n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){n.globalEval(a);return a}}});n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});n.ajaxTransport("script",
function(a){if(a.crossDomain){var b,f;return{send:function(e,c){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",f=function(a){b.remove();f=null;a&&c("error"===a.type?404:200,a.type)});V.head.appendChild(b[0])},abort:function(){f&&f()}}}});var rb=[],gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=rb.pop()||n.expando+"_"+eb++;this[a]=!0;return a}});n.ajaxPrefilter("json jsonp",function(b,f,e){var c,d,k,g=!1!==b.jsonp&&(gb.test(b.url)?
"url":"string"===typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&gb.test(b.data)&&"data");if(g||"jsonp"===b.dataTypes[0])return c=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,g?b[g]=b[g].replace(gb,"$1"+c):!1!==b.jsonp&&(b.url+=(fb.test(b.url)?"&":"?")+b.jsonp+"="+c),b.converters["script json"]=function(){k||n.error(c+" was not called");return k[0]},b.dataTypes[0]="json",d=a[c],a[c]=function(){k=arguments},e.always(function(){a[c]=
d;b[c]&&(b.jsonpCallback=f.jsonpCallback,rb.push(c));k&&n.isFunction(d)&&d(k[0]);k=d=void 0}),"script"});n.parseHTML=function(a,b,f){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(f=b,b=!1);b=b||V;var e=Fa.exec(a);f=!f&&[];if(e)return[b.createElement(e[1])];e=n.buildFragment([a],b,f);f&&f.length&&n(f).remove();return n.merge([],e.childNodes)};var sb=n.fn.load;n.fn.load=function(a,b,f){if("string"!==typeof a&&sb)return sb.apply(this,arguments);var e,c,d,k=this,g=a.indexOf(" ");0<=g&&
(e=a.slice(g),a=a.slice(0,g));n.isFunction(b)?(f=b,b=void 0):b&&"object"===typeof b&&(c="POST");0<k.length&&n.ajax({url:a,type:c,dataType:"html",data:b}).done(function(a){d=arguments;k.html(e?n("<div>").append(n.parseHTML(a)).find(e):a)}).complete(f&&function(a,b){k.each(f,d||[a.responseText,b,a])});return this};n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var tb=a.document.documentElement;n.offset={setOffset:function(a,b,f){var e,c,d,k=n.css(a,
"position"),g=n(a),h={};"static"===k&&(a.style.position="relative");d=g.offset();c=n.css(a,"top");e=n.css(a,"left");("absolute"===k||"fixed"===k)&&-1<(c+e).indexOf("auto")?(e=g.position(),c=e.top,e=e.left):(c=parseFloat(c)||0,e=parseFloat(e)||0);n.isFunction(b)&&(b=b.call(a,f,d));null!=b.top&&(h.top=b.top-d.top+c);null!=b.left&&(h.left=b.left-d.left+e);"using"in b?b.using.call(a,h):g.css(h)}};n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,
a,b)});var b,f;f=this[0];var e={top:0,left:0},c=f&&f.ownerDocument;if(c){b=c.documentElement;if(!n.contains(b,f))return e;"undefined"!==typeof f.getBoundingClientRect&&(e=f.getBoundingClientRect());f=C(c);return{top:e.top+f.pageYOffset-b.clientTop,left:e.left+f.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a,b,f=this[0],e={top:0,left:0};"fixed"===n.css(f,"position")?b=f.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(e=a.offset()),e.top+=
n.css(a[0],"borderTopWidth",!0),e.left+=n.css(a[0],"borderLeftWidth",!0));return{top:b.top-e.top-n.css(f,"marginTop",!0),left:b.left-e.left-n.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||tb;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||tb})}});n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,f){var e="pageYOffset"===f;n.fn[b]=function(c){return da(this,function(b,c,d){var k=C(b);
if(void 0===d)return k?k[f]:b[c];k?k.scrollTo(e?a.pageXOffset:d,e?d:a.pageYOffset):b[c]=d},b,c,arguments.length,null)}});n.each(["top","left"],function(a,b){n.cssHooks[b]=A(W.pixelPosition,function(a,f){if(f)return f=w(a,b),ab.test(f)?n(a).position()[b]+"px":f})});n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(f,e){n.fn[e]=function(e,c){var d=arguments.length&&(f||"boolean"!==typeof e),k=f||(!0===e||!0===c?"margin":"border");return da(this,
function(b,f,e){return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?n.css(b,f,k):n.style(b,f,e,k)},b,d?e:void 0,d,null)}})});n.fn.size=function(){return this.length};n.fn.andSelf=n.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return n});var Ob=a.jQuery,Pb=a.$;n.noConflict=function(b){a.$===n&&(a.$=Pb);b&&a.jQuery===n&&
(a.jQuery=Ob);return n};"undefined"===typeof g&&(a.jQuery=a.$=n);return n});(function(a,g){function c(b,e){var c,g;c=b.nodeName.toLowerCase();if("area"===c){c=b.parentNode;g=c.name;if(!b.href||!g||"map"!==c.nodeName.toLowerCase())return!1;c=a("img[usemap=#"+g+"]")[0];return!!c&&d(c)}return(/input|select|textarea|button|object/.test(c)?!b.disabled:"a"===c?b.href||e:e)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var b=0,e=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.4",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(e,c){return"number"===typeof e?this.each(function(){var b=this;setTimeout(function(){a(b).focus();c&&c.call(b)},e)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;b=
a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):
b},zIndex:function(b){if(b!==g)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var e;b.length&&b[0]!==document;){e=b.css("position");if("absolute"===e||"relative"===e||"fixed"===e)if(e=parseInt(b.css("zIndex"),10),!isNaN(e)&&0!==e)return e;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?
a.expr.createPseudo(function(b){return function(e){return!!a.data(e,b)}}):function(b,e,c){return!!a.data(b,c[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var e=a.attr(b,"tabindex"),d=isNaN(e);return(d||0<=e)&&c(b,!d)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,e){function c(b,f,e,k){a.each(d,function(){f-=parseFloat(a.css(b,"padding"+this))||0;e&&(f-=parseFloat(a.css(b,"border"+this+"Width"))||0);k&&(f-=parseFloat(a.css(b,"margin"+
this))||0)});return f}var d="Width"===e?["Left","Right"]:["Top","Bottom"],m=e.toLowerCase(),p={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(b){return b===g?p["inner"+e].call(this):this.each(function(){a(this).css(m,c(this,b)+"px")})};a.fn["outer"+e]=function(b,f){return"number"!==typeof b?p["outer"+e].call(this,b):this.each(function(){a(this).css(m,c(this,b,!0,f)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==
a?this.prevObject:this.prevObject.filter(a))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(e){return arguments.length?b.call(this,a.camelCase(e)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.extend(a.ui,{plugin:{add:function(b,e,c){var d;b=a.ui[b].prototype;for(d in c)b.plugins[d]=b.plugins[d]||[],b.plugins[d].push([e,c[d]])},call:function(a,b,e){var c=a.plugins[b];if(c&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<c.length;b++)a.options[c[b][0]]&&c[b][1].apply(a.element,e)}},hasScroll:function(b,e){if("hidden"===a(b).css("overflow"))return!1;var c=
e&&"left"===e?"scrollLeft":"scrollTop",d=!1;if(0<b[c])return!0;b[c]=1;d=0<b[c];b[c]=0;return d}})})(jQuery);
(function(a,g){var c=0,d=Array.prototype.slice,b=a.cleanData;a.cleanData=function(e){for(var f=0,c;null!=(c=e[f]);f++)try{a(c).triggerHandler("remove")}catch(d){}b(e)};a.widget=function(b,f,c){var d,g,m,p,s={},r=b.split(".")[0];b=b.split(".")[1];d=r+"-"+b;c||(c=f,f=a.Widget);a.expr[":"][d.toLowerCase()]=function(b){return!!a.data(b,d)};a[r]=a[r]||{};g=a[r][b];m=a[r][b]=function(a,b){if(!this._createWidget)return new m(a,b);arguments.length&&this._createWidget(a,b)};a.extend(m,g,{version:c.version,
_proto:a.extend({},c),_childConstructors:[]});p=new f;p.options=a.widget.extend({},p.options);a.each(c,function(b,e){a.isFunction(e)?s[b]=function(){var a=function(){return f.prototype[b].apply(this,arguments)},c=function(a){return f.prototype[b].apply(this,a)};return function(){var b=this._super,f=this._superApply,d;this._super=a;this._superApply=c;d=e.apply(this,arguments);this._super=b;this._superApply=f;return d}}():s[b]=e});m.prototype=a.widget.extend(p,{widgetEventPrefix:g?p.widgetEventPrefix||
b:b},s,{constructor:m,namespace:r,widgetName:b,widgetFullName:d});g?(a.each(g._childConstructors,function(b,f){var e=f.prototype;a.widget(e.namespace+"."+e.widgetName,m,f._proto)}),delete g._childConstructors):f._childConstructors.push(m);a.widget.bridge(b,m)};a.widget.extend=function(b){for(var f=d.call(arguments,1),c=0,h=f.length,l,m;c<h;c++)for(l in f[c])m=f[c][l],f[c].hasOwnProperty(l)&&m!==g&&(a.isPlainObject(m)?b[l]=a.isPlainObject(b[l])?a.widget.extend({},b[l],m):a.widget.extend({},m):b[l]=
m);return b};a.widget.bridge=function(b,f){var c=f.prototype.widgetFullName||b;a.fn[b]=function(h){var l="string"===typeof h,m=d.call(arguments,1),p=this;h=!l&&m.length?a.widget.extend.apply(null,[h].concat(m)):h;l?this.each(function(){var f,d=a.data(this,c);if(!d)return a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+h+"'");if(!a.isFunction(d[h])||"_"===h.charAt(0))return a.error("no such method '"+h+"' for "+b+" widget instance");f=d[h].apply(d,m);if(f!==
d&&f!==g)return p=f&&f.jquery?p.pushStack(f.get()):f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(h||{})._init():a.data(this,c,new f(h,this))});return p}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,f){f=a(f||this.defaultElement||this)[0];this.element=a(f);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},
this.options,this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=a();f!==this&&(a.data(f,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===f&&this.destroy()}}),this.document=a(f.style?f.ownerDocument:f.document||f),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,
_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(b,f){var c=b,d,l,m;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof b)if(c={},d=b.split("."),b=d.shift(),d.length){l=c[b]=a.widget.extend({},this.options[b]);for(m=0;m<d.length-1;m++)l[d[m]]=l[d[m]]||{},l=l[d[m]];b=d.pop();if(1===arguments.length)return l[b]===g?null:l[b];l[b]=f}else{if(1===arguments.length)return this.options[b]===g?null:this.options[b];c[b]=f}this._setOptions(c);return this},_setOptions:function(a){for(var b in a)this._setOption(b,
a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,f,c){var d,g=this;"boolean"!==typeof b&&(c=f,f=b,b=!1);c?(f=d=a(f),this.bindings=this.bindings.add(f)):
(c=f,f=this.element,d=this.widget());a.each(c,function(c,k){function s(){if(b||!0!==g.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof k?g[k]:k).apply(g,arguments)}"string"!==typeof k&&(s.guid=k.guid=k.guid||s.guid||a.guid++);var r=c.match(/^(\w+)\s*(.*)$/),q=r[1]+g.eventNamespace;(r=r[2])?d.delegate(r,q,s):f.bind(q,s)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=
this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},
_trigger:function(b,f,c){var d,g=this.options[b];c=c||{};f=a.Event(f);f.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();f.target=this.element[0];if(b=f.originalEvent)for(d in b)d in f||(f[d]=b[d]);this.element.trigger(f,c);return!(a.isFunction(g)&&!1===g.apply(this.element[0],[f].concat(c))||f.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,f){a.Widget.prototype["_"+b]=function(c,d,g){"string"===typeof d&&(d={effect:d});var m,p=d?!0===d||"number"===
typeof d?f:d.effect||f:b;d=d||{};"number"===typeof d&&(d={duration:d});m=!a.isEmptyObject(d);d.complete=g;d.delay&&c.delay(d.delay);if(m&&a.effects&&a.effects.effect[p])c[b](d);else if(p!==b&&c[p])c[p](d.duration,d.easing,g);else c.queue(function(f){a(this)[b]();g&&g.call(c[0]);f()})}})})(jQuery);
(function(a,g){var c=!1;a(document).mouseup(function(){c=!1});a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,function(b){if(!0===a.data(b.target,c.widgetName+".preventClickEvent"))return a.removeData(b.target,c.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!c){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var b=this,e=1===d.which,f="string"===typeof this.options.cancel&&d.target.nodeName?a(d.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(d))return!0;this.mouseDelayMet=
!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=!1!==this._mouseStart(d),!this._mouseStarted))return d.preventDefault(),!0;!0===a.data(d.target,this.widgetName+".preventClickEvent")&&a.removeData(d.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return b._mouseMove(a)};this._mouseUpDelegate=function(a){return b._mouseUp(a)};
a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);d.preventDefault();return c=!0}},_mouseMove:function(c){if(a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button)return this._mouseUp(c);if(this._mouseStarted)return this._mouseDrag(c),c.preventDefault();this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c))?this._mouseDrag(c):this._mouseUp(c));
return!this._mouseStarted},_mouseUp:function(c){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,g){function c(a,b,f){return[parseFloat(a[0])*(s.test(a[0])?b/100:1),parseFloat(a[1])*(s.test(a[1])?f/100:1)]}function d(b){var f=b[0];return 9===f.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(f)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:f.preventDefault?{width:0,height:0,offset:{top:f.pageY,left:f.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var b,e=Math.max,f=Math.abs,k=
Math.round,h=/left|center|right/,l=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,s=/%$/,r=a.fn.position;a.position={scrollbarWidth:function(){if(b!==g)return b;var f,e,c=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");e=c.children()[0];a("body").append(c);f=e.offsetWidth;c.css("overflow","scroll");e=e.offsetWidth;f===e&&(e=c[0].clientWidth);c.remove();return b=f-e},getScrollInfo:function(b){var f=
b.isWindow||b.isDocument?"":b.element.css("overflow-x"),e=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),f="scroll"===f||"auto"===f&&b.width<b.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var f=a.isWindow(b[0]);return{element:b,isWindow:f,isDocument:!!b[0]&&9===b[0].nodeType,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),
scrollTop:b.scrollTop(),width:f?b.width():b.outerWidth(),height:f?b.height():b.outerHeight()}}};a.fn.position=function(b){if(!b||!b.of)return r.apply(this,arguments);b=a.extend({},b);var g,v,s,z,y,w,A=a(b.of),E=a.position.getWithinInfo(b.within),B=a.position.getScrollInfo(E),F=(b.collision||"flip").split(" "),L={};w=d(A);A[0].preventDefault&&(b.at="left top");v=w.width;s=w.height;z=w.offset;y=a.extend({},z);a.each(["my","at"],function(){var a=(b[this]||"").split(" "),f,e;1===a.length&&(a=h.test(a[0])?
a.concat(["center"]):l.test(a[0])?["center"].concat(a):["center","center"]);a[0]=h.test(a[0])?a[0]:"center";a[1]=l.test(a[1])?a[1]:"center";f=m.exec(a[0]);e=m.exec(a[1]);L[this]=[f?f[0]:0,e?e[0]:0];b[this]=[p.exec(a[0])[0],p.exec(a[1])[0]]});1===F.length&&(F[1]=F[0]);"right"===b.at[0]?y.left+=v:"center"===b.at[0]&&(y.left+=v/2);"bottom"===b.at[1]?y.top+=s:"center"===b.at[1]&&(y.top+=s/2);g=c(L.at,v,s);y.left+=g[0];y.top+=g[1];return this.each(function(){var d,h,l=a(this),m=l.outerWidth(),p=l.outerHeight(),
r=parseInt(a.css(this,"marginLeft"),10)||0,w=parseInt(a.css(this,"marginTop"),10)||0,P=m+r+(parseInt(a.css(this,"marginRight"),10)||0)+B.width,Y=p+w+(parseInt(a.css(this,"marginBottom"),10)||0)+B.height,J=a.extend({},y),I=c(L.my,l.outerWidth(),l.outerHeight());"right"===b.my[0]?J.left-=m:"center"===b.my[0]&&(J.left-=m/2);"bottom"===b.my[1]?J.top-=p:"center"===b.my[1]&&(J.top-=p/2);J.left+=I[0];J.top+=I[1];a.support.offsetFractions||(J.left=k(J.left),J.top=k(J.top));d={marginLeft:r,marginTop:w};a.each(["left",
"top"],function(f,e){if(a.ui.position[F[f]])a.ui.position[F[f]][e](J,{targetWidth:v,targetHeight:s,elemWidth:m,elemHeight:p,collisionPosition:d,collisionWidth:P,collisionHeight:Y,offset:[g[0]+I[0],g[1]+I[1]],my:b.my,at:b.at,within:E,elem:l})});b.using&&(h=function(a){var c=z.left-J.left,d=c+v-m,k=z.top-J.top,g=k+s-p,h={target:{element:A,left:z.left,top:z.top,width:v,height:s},element:{element:l,left:J.left,top:J.top,width:m,height:p},horizontal:0>d?"left":0<c?"right":"center",vertical:0>g?"top":0<
k?"bottom":"middle"};v<m&&f(c+d)<v&&(h.horizontal="center");s<p&&f(k+g)<s&&(h.vertical="middle");e(f(c),f(d))>e(f(k),f(g))?h.important="horizontal":h.important="vertical";b.using.call(this,a,h)});l.offset(a.extend(J,{using:h}))})};a.ui.position={fit:{left:function(a,b){var f=b.within,c=f.isWindow?f.scrollLeft:f.offset.left,d=f.width,k=a.left-b.collisionPosition.marginLeft,f=c-k,g=k+b.collisionWidth-d-c;b.collisionWidth>d?0<f&&0>=g?(c=a.left+f+b.collisionWidth-d-c,a.left+=f-c):a.left=0<g&&0>=f?c:f>
g?c+d-b.collisionWidth:c:a.left=0<f?a.left+f:0<g?a.left-g:e(a.left-k,a.left)},top:function(a,b){var f=b.within,c=f.isWindow?f.scrollTop:f.offset.top,d=b.within.height,k=a.top-b.collisionPosition.marginTop,f=c-k,g=k+b.collisionHeight-d-c;b.collisionHeight>d?0<f&&0>=g?(c=a.top+f+b.collisionHeight-d-c,a.top+=f-c):a.top=0<g&&0>=f?c:f>g?c+d-b.collisionHeight:c:a.top=0<f?a.top+f:0<g?a.top-g:e(a.top-k,a.top)}},flip:{left:function(a,b){var e=b.within,c=e.offset.left+e.scrollLeft,d=e.width,k=e.isWindow?e.scrollLeft:
e.offset.left,g=a.left-b.collisionPosition.marginLeft,e=g-k,h=g+b.collisionWidth-d-k,g="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,l="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,m=-2*b.offset[0];if(0>e){if(c=a.left+g+l+m+b.collisionWidth-d-c,0>c||c<f(e))a.left+=g+l+m}else 0<h&&(c=a.left-b.collisionPosition.marginLeft+g+l+m-k,0<c||f(c)<h)&&(a.left+=g+l+m)},top:function(a,b){var e=b.within,c=e.offset.top+e.scrollTop,d=e.height,k=e.isWindow?e.scrollTop:e.offset.top,
g=a.top-b.collisionPosition.marginTop,e=g-k,h=g+b.collisionHeight-d-k,g="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,l="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,m=-2*b.offset[1];0>e?(c=a.top+g+l+m+b.collisionHeight-d-c,a.top+g+l+m>e&&(0>c||c<f(e))&&(a.top+=g+l+m)):0<h&&(c=a.top-b.collisionPosition.marginTop+g+l+m-k,a.top+g+l+m>h&&(0<c||f(c)<h)&&(a.top+=g+l+m))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,
arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,f,e,c,d=document.getElementsByTagName("body")[0];e=document.createElement("div");b=document.createElement(d?"div":"body");f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};d&&a.extend(f,{position:"absolute",left:"-1000px",top:"-1000px"});for(c in f)b.style[c]=f[c];b.appendChild(e);f=d||document.documentElement;f.insertBefore(b,f.firstChild);
e.style.cssText="position: absolute; left: 10.7432222px;";e=a(e).offset().left;a.support.offsetFractions=10<e&&11>e;b.innerHTML="";f.removeChild(b)})()})(jQuery);
(function(a,g){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||0<a(c.target).closest(".ui-resizable-handle").length)return!1;
this.handle=this._getHandle(c);if(!this.handle)return!1;a(!0===d.iframeFix?"iframe":d.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")});return!0},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
a.ui.ddmanager&&(a.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=!1;a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this._setContainment();if(!1===this._trigger("start",c))return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c);this._mouseDrag(c,!0);a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c);return!0},
_mouseDrag:function(c,d){"fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!d){var b=this._uiHash();if(!1===this._trigger("drag",c,b))return this._mouseUp({}),!1;this.position=b.position}this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+
"px");a.ui.ddmanager&&a.ui.ddmanager.drag(this,c);return!1},_mouseStop:function(c){var d=this,b=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(b=a.ui.ddmanager.drop(this,c));this.dropped&&(b=this.dropped,this.dropped=!1);if("original"===this.options.helper&&!a.contains(this.element[0].ownerDocument,this.element[0]))return!1;"invalid"===this.options.revert&&!b||"valid"===this.options.revert&&b||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)?
a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==d._trigger("stop",c)&&d._clear()}):!1!==this._trigger("stop",c)&&this._clear();return!1},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,c);return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(c){return this.options.handle?
!!a(c.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(c){var d=this.options;c=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],[c])):"clone"===d.helper?this.element.clone().removeAttr("id"):this.element;c.parents("body").length||c.appendTo("parent"===d.appendTo?this.element[0].parentNode:d.appendTo);c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){"string"===
typeof c&&(c=c.split(" "));a.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){var c=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
a.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();
return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,d,b;c=this.options;if(c.containment)if("window"===c.containment)this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];else if("document"===c.containment)this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(c.containment.constructor===Array)this.containment=c.containment;else{if("parent"===c.containment&&(c.containment=this.helper[0].parentNode),d=a(c.containment),b=d[0])c="hidden"!==d.css("overflow"),this.containment=[(parseInt(d.css("borderLeftWidth"),
10)||0)+(parseInt(d.css("paddingLeft"),10)||0),(parseInt(d.css("borderTopWidth"),10)||0)+(parseInt(d.css("paddingTop"),10)||0),(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d.css("borderRightWidth"),10)||0)-(parseInt(d.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d.css("borderBottomWidth"),10)||0)-(parseInt(d.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=d}else this.containment=null},_convertPositionTo:function(c,d){d||(d=this.position);var b="absolute"===c?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()});return{top:d.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():this.offset.scroll.top)*b,left:d.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*b}},_generatePosition:function(c){var d,b,e,f=this.options,k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;e=c.pageX;b=c.pageY;this.offset.scroll||(this.offset.scroll={top:k.scrollTop(),
left:k.scrollLeft()});this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),d=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):d=this.containment,c.pageX-this.offset.click.left<d[0]&&(e=d[0]+this.offset.click.left),c.pageY-this.offset.click.top<d[1]&&(b=d[1]+this.offset.click.top),c.pageX-this.offset.click.left>d[2]&&(e=d[2]+this.offset.click.left),c.pageY-this.offset.click.top>d[3]&&(b=d[3]+
this.offset.click.top)),f.grid&&(b=f.grid[1]?this.originalPageY+Math.round((b-this.originalPageY)/f.grid[1])*f.grid[1]:this.originalPageY,b=d?b-this.offset.click.top>=d[1]||b-this.offset.click.top>d[3]?b:b-this.offset.click.top>=d[1]?b-f.grid[1]:b+f.grid[1]:b,e=f.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/f.grid[0])*f.grid[0]:this.originalPageX,e=d?e-this.offset.click.left>=d[0]||e-this.offset.click.left>d[2]?e:e-this.offset.click.left>=d[0]?e-f.grid[0]:e+f.grid[0]:e));return{top:b-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(c,d,b){b=b||this._uiHash();a.ui.plugin.call(this,c,[d,b]);"drag"===c&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,c,d,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(c,d){var b=a(this).data("ui-draggable"),e=b.options,f=a.extend({},d,{item:b.element});b.sortables=
[];a(e.connectToSortable).each(function(){var e=a.data(this,"ui-sortable");e&&!e.options.disabled&&(b.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",c,f))})},stop:function(c,d){var b=a(this).data("ui-draggable"),e=a.extend({},d,{item:b.element});a.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"===b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,e))})},drag:function(c,d){var b=a(this).data("ui-draggable"),e=this;a.each(b.sortables,function(){var f=!1,k=this;this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(f=!0,a.each(b.sortables,function(){this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this!==k&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(k.instance.element[0],this.instance.element[0])&&(f=!1);return f}));f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return d.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",c),b.dropped=
this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
b._trigger("fromSortable",c),b.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),d=a(this).data("ui-draggable").options;c.css("cursor")&&(d._cursor=c.css("cursor"));c.css("cursor",d.cursor)},stop:function(){var c=a(this).data("ui-draggable").options;c._cursor&&a("body").css("cursor",c._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(c,d){var b=a(d.helper),e=a(this).data("ui-draggable").options;b.css("opacity")&&(e._opacity=b.css("opacity"));b.css("opacity",
e.opacity)},stop:function(c,d){var b=a(this).data("ui-draggable").options;b._opacity&&a(d.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var c=a(this).data("ui-draggable");c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName&&(c.overflowOffset=c.scrollParent.offset())},drag:function(c){var d=a(this).data("ui-draggable"),b=d.options,e=!1;d.scrollParent[0]!==document&&"HTML"!==d.scrollParent[0].tagName?(b.axis&&"x"===b.axis||(d.overflowOffset.top+
d.scrollParent[0].offsetHeight-c.pageY<b.scrollSensitivity?d.scrollParent[0].scrollTop=e=d.scrollParent[0].scrollTop+b.scrollSpeed:c.pageY-d.overflowOffset.top<b.scrollSensitivity&&(d.scrollParent[0].scrollTop=e=d.scrollParent[0].scrollTop-b.scrollSpeed)),b.axis&&"y"===b.axis||(d.overflowOffset.left+d.scrollParent[0].offsetWidth-c.pageX<b.scrollSensitivity?d.scrollParent[0].scrollLeft=e=d.scrollParent[0].scrollLeft+b.scrollSpeed:c.pageX-d.overflowOffset.left<b.scrollSensitivity&&(d.scrollParent[0].scrollLeft=
e=d.scrollParent[0].scrollLeft-b.scrollSpeed))):(b.axis&&"x"===b.axis||(c.pageY-a(document).scrollTop()<b.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-b.scrollSpeed):a(window).height()-(c.pageY-a(document).scrollTop())<b.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed))),b.axis&&"y"===b.axis||(c.pageX-a(document).scrollLeft()<b.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed):a(window).width()-(c.pageX-a(document).scrollLeft())<
b.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+b.scrollSpeed))));!1!==e&&a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,c)}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),d=c.options;c.snapElements=[];a(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var b=a(this),e=b.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),
top:e.top,left:e.left})})},drag:function(c,d){var b,e,f,k,g,l,m,p,s,r,q=a(this).data("ui-draggable"),u=q.options,v=u.snapTolerance,x=d.offset.left,z=x+q.helperProportions.width,y=d.offset.top,w=y+q.helperProportions.height;for(s=q.snapElements.length-1;0<=s;s--)g=q.snapElements[s].left,l=g+q.snapElements[s].width,m=q.snapElements[s].top,p=m+q.snapElements[s].height,z<g-v||x>l+v||w<m-v||y>p+v||!a.contains(q.snapElements[s].item.ownerDocument,q.snapElements[s].item)?(q.snapElements[s].snapping&&q.options.snap.release&&
q.options.snap.release.call(q.element,c,a.extend(q._uiHash(),{snapItem:q.snapElements[s].item})),q.snapElements[s].snapping=!1):("inner"!==u.snapMode&&(b=Math.abs(m-w)<=v,e=Math.abs(p-y)<=v,f=Math.abs(g-z)<=v,k=Math.abs(l-x)<=v,b&&(d.position.top=q._convertPositionTo("relative",{top:m-q.helperProportions.height,left:0}).top-q.margins.top),e&&(d.position.top=q._convertPositionTo("relative",{top:p,left:0}).top-q.margins.top),f&&(d.position.left=q._convertPositionTo("relative",{top:0,left:g-q.helperProportions.width}).left-
q.margins.left),k&&(d.position.left=q._convertPositionTo("relative",{top:0,left:l}).left-q.margins.left)),r=b||e||f||k,"outer"!==u.snapMode&&(b=Math.abs(m-y)<=v,e=Math.abs(p-w)<=v,f=Math.abs(g-x)<=v,k=Math.abs(l-z)<=v,b&&(d.position.top=q._convertPositionTo("relative",{top:m,left:0}).top-q.margins.top),e&&(d.position.top=q._convertPositionTo("relative",{top:p-q.helperProportions.height,left:0}).top-q.margins.top),f&&(d.position.left=q._convertPositionTo("relative",{top:0,left:g}).left-q.margins.left),
k&&(d.position.left=q._convertPositionTo("relative",{top:0,left:l-q.helperProportions.width}).left-q.margins.left)),!q.snapElements[s].snapping&&(b||e||f||k||r)&&q.options.snap.snap&&q.options.snap.snap.call(q.element,c,a.extend(q._uiHash(),{snapItem:q.snapElements[s].item})),q.snapElements[s].snapping=b||e||f||k||r)}});a.ui.plugin.add("draggable","stack",{start:function(){var c,d=this.data("ui-draggable").options,d=a.makeArray(a(d.stack)).sort(function(b,e){return(parseInt(a(b).css("zIndex"),10)||
0)-(parseInt(a(e).css("zIndex"),10)||0)});d.length&&(c=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(b){a(this).css("zIndex",c+b)}),this.css("zIndex",c+d.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(c,d){var b=a(d.helper),e=a(this).data("ui-draggable").options;b.css("zIndex")&&(e._zIndex=b.css("zIndex"));b.css("zIndex",e.zIndex)},stop:function(c,d){var b=a(this).data("ui-draggable").options;b._zIndex&&a(d.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(a,g){a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,d=this.options,b=d.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(b)?b:function(a){return a.is(b)};this.proportions=function(){if(arguments.length)c=arguments[0];else return c?c:c={width:this.element[0].offsetWidth,
height:this.element[0].offsetHeight}};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);d.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var c=0,d=a.ui.ddmanager.droppables[this.options.scope];c<d.length;c++)d[c]===this&&d.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,d){"accept"===c&&(this.accept=a.isFunction(d)?d:function(a){return a.is(d)});a.Widget.prototype._setOption.apply(this,
arguments)},_activate:function(c){var d=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);d&&this._trigger("activate",c,this.ui(d))},_deactivate:function(c){var d=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);d&&this._trigger("deactivate",c,this.ui(d))},_over:function(c){var d=a.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||
d.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",c,this.ui(d)))},_out:function(c){var d=a.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(d)))},_drop:function(c,d){var b=d||a.ui.ddmanager.current,e=!1;if(!b||(b.currentItem||b.element)[0]===this.element[0])return!1;
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var f=a.data(this,"ui-droppable");if(f.options.greedy&&!f.options.disabled&&f.options.scope===b.options.scope&&f.accept.call(f.element[0],b.currentItem||b.element)&&a.ui.intersect(b,a.extend(f,{offset:f.element.offset()}),f.options.tolerance))return e=!0,!1});return e?!1:this.accept.call(this.element[0],b.currentItem||b.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&
this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(b)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,d,b){if(!d.offset)return!1;var e=(a.positionAbs||a.position.absolute).left,f=(a.positionAbs||a.position.absolute).top,k=e+a.helperProportions.width,g=f+a.helperProportions.height,l=d.offset.left,m=d.offset.top,p=l+d.proportions().width,s=m+d.proportions().height;
switch(b){case "fit":return l<=e&&k<=p&&m<=f&&g<=s;case "intersect":return l<e+a.helperProportions.width/2&&k-a.helperProportions.width/2<p&&m<f+a.helperProportions.height/2&&g-a.helperProportions.height/2<s;case "pointer":b=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left;a=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top;e=d.proportions().height;if(m=a>m&&a<m+e)d=d.proportions().width,m=b>l&&b<l+d;return m;case "touch":return(f>=m&&f<=s||
g>=m&&g<=s||f<m&&g>s)&&(e>=l&&e<=p||k>=l&&k<=p||e<l&&k>p);default:return!1}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,d){var b,e,f=a.ui.ddmanager.droppables[c.options.scope]||[],k=d?d.type:null,g=(c.currentItem||c.element).find(":data(ui-droppable)").addBack();b=0;a:for(;b<f.length;b++)if(!(f[b].options.disabled||c&&!f[b].accept.call(f[b].element[0],c.currentItem||c.element))){for(e=0;e<g.length;e++)if(g[e]===f[b].element[0]){f[b].proportions().height=0;continue a}f[b].visible=
"none"!==f[b].element.css("display");f[b].visible&&("mousedown"===k&&f[b]._activate.call(f[b],d),f[b].offset=f[b].element.offset(),f[b].proportions({width:f[b].element[0].offsetWidth,height:f[b].element[0].offsetHeight}))}},drop:function(c,d){var b=!1;a.each((a.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(c,this,this.options.tolerance)&&(b=this._drop.call(this,d)||b),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],
c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,d)))});return b},dragStart:function(c,d){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||a.ui.ddmanager.prepareOffsets(c,d)})},drag:function(c,d){c.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(c,d);a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var b,e,f;f=a.ui.intersect(c,this,this.options.tolerance);
var k=!f&&this.isover?"isout":f&&!this.isover?"isover":null;k&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(b=a.data(f[0],"ui-droppable"),b.greedyChild="isover"===k)),b&&"isover"===k&&(b.isover=!1,b.isout=!0,b._out.call(b,d)),this[k]=!0,this["isout"===k?"isover":"isout"]=!1,this["isover"===k?"_over":"_out"].call(this,d),b&&"isout"===k&&(b.isout=!1,b.isover=!0,b._over.call(b,
d)))}})},dragStop:function(c,d){c.element.parentsUntil("body").unbind("scroll.droppable");c.options.refreshPositions||a.ui.ddmanager.prepareOffsets(c,d)}}})(jQuery);
(function(a,g){function c(a){return parseInt(a,10)||0}function d(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,e,f,c,d,g=this,m=this.options;this.element.addClass("ui-resizable");
a.extend(this,{_aspectRatio:!!m.aspectRatio,aspectRatio:m.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:m.helper||m.ghost||m.animate?m.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=m.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");
if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},e=0;e<b.length;e++)f=a.trim(b[e]),d="ui-resizable-"+f,c=a("<div class='ui-resizable-handle "+d+"'></div>"),c.css({zIndex:m.zIndex}),"se"===f&&c.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(c);this._renderAxis=function(b){var f,e,c;b=b||this.element;for(f in this.handles)this.handles[f].constructor===
String&&(this.handles[f]=a(this.handles[f],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(e=a(this.handles[f],this.element),c=/sw|ne|nw|se|n|s/.test(f)?e.outerHeight():e.outerWidth(),e=["padding",/ne|nw|n/.test(f)?"Top":/se|sw|s/.test(f)?"Bottom":/^e$/.test(f)?"Right":"Left"].join(""),b.css(e,c),this._proportionallyResize()),a(this.handles[f])};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){g.resizing||(this.className&&(c=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=c&&c[1]?c[1]:"se")});m.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){m.disabled||(a(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){m.disabled||g.resizing||(a(this).addClass("ui-resizable-autohide"),g._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var b,e=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};this.elementIsWrapper&&(e(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove());this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);
return this},_mouseCapture:function(b){var e,f,c=!1;for(e in this.handles)if(f=a(this.handles[e])[0],f===b.target||a.contains(f,b.target))c=!0;return!this.options.disabled&&c},_mouseStart:function(b){var e,f,d;d=this.options;e=this.element.position();var g=this.element;this.resizing=!0;/absolute/.test(g.css("position"))?g.css({position:"absolute",top:g.css("top"),left:g.css("left")}):g.is(".ui-draggable")&&g.css({position:"absolute",top:e.top,left:e.left});this._renderProxy();e=c(this.helper.css("left"));
f=c(this.helper.css("top"));d.containment&&(e+=a(d.containment).scrollLeft()||0,f+=a(d.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:e,top:f};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()};this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalPosition={left:e,top:f};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-
g.height()};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio="number"===typeof d.aspectRatio?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;d=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor","auto"===d?this.axis+"-resize":d);g.addClass("ui-resizable-resizing");this._propagate("start",b);return!0},_mouseDrag:function(b){var e,f=this.helper,c={};e=this.originalMousePosition;var d=this.position.top,g=this.position.left,m=this.size.width,p=this.size.height,
s=this._change[this.axis];if(!s)return!1;e=s.apply(this,[b,b.pageX-e.left||0,b.pageY-e.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)e=this._updateRatio(e,b);e=this._respectSize(e,b);this._updateCache(e);this._propagate("resize",b);this.position.top!==d&&(c.top=this.position.top+"px");this.position.left!==g&&(c.left=this.position.left+"px");this.size.width!==m&&(c.width=this.size.width+"px");this.size.height!==p&&(c.height=this.size.height+"px");f.css(c);!this._helper&&
this._proportionallyResizeElements.length&&this._proportionallyResize();a.isEmptyObject(c)||this._trigger("resize",b,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var e,f,c,d=this.options;this._helper&&(e=this._proportionallyResizeElements,e=(f=e.length&&/textarea/i.test(e[0].nodeName))&&a.ui.hasScroll(e[0],"left")?0:this.sizeDiff.height,f=f?0:this.sizeDiff.width,f={width:this.helper.width()-f,height:this.helper.height()-e},e=parseInt(this.element.css("left"),10)+(this.position.left-
this.originalPosition.left)||null,c=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,d.animate||this.element.css(a.extend(f,{top:c,left:e})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!d.animate&&this._proportionallyResize());a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(a){var e,
f,c,g;g=this.options;g={minWidth:d(g.minWidth)?g.minWidth:0,maxWidth:d(g.maxWidth)?g.maxWidth:Infinity,minHeight:d(g.minHeight)?g.minHeight:0,maxHeight:d(g.maxHeight)?g.maxHeight:Infinity};if(this._aspectRatio||a)a=g.minHeight*this.aspectRatio,f=g.minWidth/this.aspectRatio,e=g.maxHeight*this.aspectRatio,c=g.maxWidth/this.aspectRatio,a>g.minWidth&&(g.minWidth=a),f>g.minHeight&&(g.minHeight=f),e<g.maxWidth&&(g.maxWidth=e),c<g.maxHeight&&(g.maxHeight=c);this._vBoundaries=g},_updateCache:function(a){this.offset=
this.helper.offset();d(a.left)&&(this.position.left=a.left);d(a.top)&&(this.position.top=a.top);d(a.height)&&(this.size.height=a.height);d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var e=this.position,f=this.size,c=this.axis;d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio);"sw"===c&&(a.left=e.left+(f.width-a.width),a.top=null);"nw"===c&&(a.top=e.top+(f.height-a.height),a.left=e.left+(f.width-a.width));return a},_respectSize:function(a){var e=
this._vBoundaries,f=this.axis,c=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,g=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,l=d(a.width)&&e.minWidth&&e.minWidth>a.width,m=d(a.height)&&e.minHeight&&e.minHeight>a.height,p=this.originalPosition.left+this.originalSize.width,s=this.position.top+this.size.height,r=/sw|nw|w/.test(f),f=/nw|ne|n/.test(f);l&&(a.width=e.minWidth);m&&(a.height=e.minHeight);c&&(a.width=e.maxWidth);g&&(a.height=e.maxHeight);l&&r&&(a.left=p-e.minWidth);c&&r&&(a.left=p-e.maxWidth);
m&&f&&(a.top=s-e.minHeight);g&&f&&(a.top=s-e.maxHeight);a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null;return a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,e,f,c,d,g=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){d=this._proportionallyResizeElements[a];if(!this.borderDif)for(this.borderDif=[],f=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],
c=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")],e=0;e<f.length;e++)this.borderDif[e]=(parseInt(f[e],10)||0)+(parseInt(c[e],10)||0);d.css({height:g.height()-this.borderDif[0]-this.borderDif[2]||0,width:g.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,e){return{width:this.originalSize.width+e}},w:function(a,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(a,e,f){return{top:this.originalPosition.top+f,height:this.originalSize.height-f}},s:function(a,e,f){return{height:this.originalSize.height+
f}},se:function(b,e,f){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,e,f]))},sw:function(b,e,f){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,e,f]))},ne:function(b,e,f){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,e,f]))},nw:function(b,e,f){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,e,f]))}},_propagate:function(b,e){a.ui.plugin.call(this,b,[e,this.ui()]);
"resize"!==b&&this._trigger(b,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var e=a(this).data("ui-resizable"),f=e.options,c=e._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),g=d&&a.ui.hasScroll(c[0],"left")?0:e.sizeDiff.height,d=
{width:e.size.width-(d?0:e.sizeDiff.width),height:e.size.height-g},g=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,m=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(a.extend(d,m&&g?{top:m,left:g}:{}),{duration:f.animateDuration,easing:f.animateEasing,step:function(){var f={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),
10)};c&&c.length&&a(c[0]).css({width:f.width,height:f.height});e._updateCache(f);e._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var b,e,f,d,g,l=a(this).data("ui-resizable"),m=l.element;f=l.options.containment;if(m=f instanceof a?f.get(0):/parent/.test(f)?m.parent().get(0):f)l.containerElement=a(m),/document/.test(f)||f===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(m),e=[],a(["Top","Right","Left","Bottom"]).each(function(a,f){e[a]=c(b.css("padding"+f))}),l.containerOffset=b.offset(),l.containerPosition=b.position(),l.containerSize={height:b.innerHeight()-e[3],width:b.innerWidth()-e[1]},f=l.containerOffset,d=l.containerSize.height,g=l.containerSize.width,g=a.ui.hasScroll(m,"left")?m.scrollWidth:g,d=a.ui.hasScroll(m)?m.scrollHeight:d,l.parentData={element:m,left:f.left,top:f.top,width:g,
height:d})},resize:function(b){var e,f,c,d,g=a(this).data("ui-resizable");e=g.options;f=g.containerOffset;c=g.position;b=g._aspectRatio||b.shiftKey;d={top:0,left:0};var m=g.containerElement;m[0]!==document&&/static/.test(m.css("position"))&&(d=f);c.left<(g._helper?f.left:0)&&(g.size.width+=g._helper?g.position.left-f.left:g.position.left-d.left,b&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=e.helper?f.left:0);c.top<(g._helper?f.top:0)&&(g.size.height+=g._helper?g.position.top-f.top:
g.position.top,b&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?f.top:0);g.offset.left=g.parentData.left+g.position.left;g.offset.top=g.parentData.top+g.position.top;e=Math.abs(g.offset.left-d.left+g.sizeDiff.width);f=Math.abs((g._helper?g.offset.top-d.top:g.offset.top-f.top)+g.sizeDiff.height);c=g.containerElement.get(0)===g.element.parent().get(0);d=/relative|absolute/.test(g.containerElement.css("position"));c&&d&&(e-=Math.abs(g.parentData.left));e+g.size.width>=g.parentData.width&&
(g.size.width=g.parentData.width-e,b&&(g.size.height=g.size.width/g.aspectRatio));f+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-f,b&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),e=b.options,f=b.containerOffset,c=b.containerPosition,d=b.containerElement,g=a(b.helper),m=g.offset(),p=g.outerWidth()-b.sizeDiff.width,g=g.outerHeight()-b.sizeDiff.height;b._helper&&!e.animate&&/relative/.test(d.css("position"))&&a(this).css({left:m.left-
c.left-f.left,width:p,height:g});b._helper&&!e.animate&&/static/.test(d.css("position"))&&a(this).css({left:m.left-c.left-f.left,width:p,height:g})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable").options,e=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!==typeof b.alsoResize||b.alsoResize.parentNode?
e(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],e(b.alsoResize)):a.each(b.alsoResize,function(a){e(a)})},resize:function(b,e){var f=a(this).data("ui-resizable"),c=f.options,d=f.originalSize,g=f.originalPosition,m={height:f.size.height-d.height||0,width:f.size.width-d.width||0,top:f.position.top-g.top||0,left:f.position.left-g.left||0},p=function(b,f){a(b).each(function(){var b=a(this),c=a(this).data("ui-resizable-alsoresize"),d={},g=f&&f.length?f:b.parents(e.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var f=(c[b]||0)+(m[b]||0);f&&0<=f&&(d[b]=f||null)});b.css(d)})};"object"!==typeof c.alsoResize||c.alsoResize.nodeType?p(c.alsoResize):a.each(c.alsoResize,function(a,b){p(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),e=b.options,f=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",position:"relative",
height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof e.ghost?e.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),
e=b.options,f=b.size,c=b.originalSize,d=b.originalPosition,g=b.axis,m="number"===typeof e.grid?[e.grid,e.grid]:e.grid,p=m[0]||1,s=m[1]||1,r=Math.round((f.width-c.width)/p)*p,f=Math.round((f.height-c.height)/s)*s,q=c.width+r,u=c.height+f,v=e.maxWidth&&e.maxWidth<q,x=e.maxHeight&&e.maxHeight<u,z=e.minWidth&&e.minWidth>q,y=e.minHeight&&e.minHeight>u;e.grid=m;z&&(q+=p);y&&(u+=s);v&&(q-=p);x&&(u-=s);/^(se|s|e)$/.test(g)?(b.size.width=q,b.size.height=u):/^(ne)$/.test(g)?(b.size.width=q,b.size.height=u,
b.position.top=d.top-f):/^(sw)$/.test(g)?(b.size.width=q,b.size.height=u,b.position.left=d.left-r):(0<u-s?(b.size.height=u,b.position.top=d.top-f):(b.size.height=s,b.position.top=d.top+c.height-s),0<q-p?(b.size.width=q,b.position.left=d.left-r):(b.size.width=p,b.position.left=d.left+c.width-p))}})})(jQuery);
(function(a,g){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,d=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){c=a(d.options.filter,d.element[0]);c.addClass("ui-selectee");c.each(function(){var b=a(this),e=b.offset();a.data(this,"selectable-item",{element:this,$element:b,
left:e.left,top:e.top,right:e.left+b.outerWidth(),bottom:e.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(c){var d=this,b=this.options;this.opos=[c.pageX,c.pageY];this.options.disabled||(this.selectees=a(b.filter,this.element[0]),this._trigger("start",c),a(b.appendTo).append(this.helper),this.helper.css({left:c.pageX,top:c.pageY,width:0,height:0}),b.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var b=a.data(this,"selectable-item");b.startselected=!0;c.metaKey||c.ctrlKey||(b.$element.removeClass("ui-selected"),b.selected=!1,
b.$element.addClass("ui-unselecting"),b.unselecting=!0,d._trigger("unselecting",c,{unselecting:b.element}))}),a(c.target).parents().addBack().each(function(){var b,f=a.data(this,"selectable-item");if(f)return b=!c.metaKey&&!c.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(b?"ui-unselecting":"ui-selected").addClass(b?"ui-selecting":"ui-unselecting"),f.unselecting=!b,f.selecting=b,(f.selected=b)?d._trigger("selecting",c,{selecting:f.element}):d._trigger("unselecting",c,{unselecting:f.element}),
!1}))},_mouseDrag:function(c){this.dragged=!0;if(!this.options.disabled){var d,b=this,e=this.options,f=this.opos[0],g=this.opos[1],h=c.pageX,l=c.pageY;f>h&&(d=h,h=f,f=d);g>l&&(d=l,l=g,g=d);this.helper.css({left:f,top:g,width:h-f,height:l-g});this.selectees.each(function(){var d=a.data(this,"selectable-item"),p=!1;d&&d.element!==b.element[0]&&("touch"===e.tolerance?p=!(d.left>h||d.right<f||d.top>l||d.bottom<g):"fit"===e.tolerance&&(p=d.left>f&&d.right<h&&d.top>g&&d.bottom<l),p?(d.selected&&(d.$element.removeClass("ui-selected"),
d.selected=!1),d.unselecting&&(d.$element.removeClass("ui-unselecting"),d.unselecting=!1),d.selecting||(d.$element.addClass("ui-selecting"),d.selecting=!0,b._trigger("selecting",c,{selecting:d.element}))):(d.selecting&&((c.metaKey||c.ctrlKey)&&d.startselected?(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.$element.addClass("ui-selected"),d.selected=!0):(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.startselected&&(d.$element.addClass("ui-unselecting"),d.unselecting=!0),b._trigger("unselecting",
c,{unselecting:d.element}))),!d.selected||c.metaKey||c.ctrlKey||d.startselected||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,b._trigger("unselecting",c,{unselecting:d.element}))))});return!1}},_mouseStop:function(c){var d=this;this.dragged=!1;a(".ui-unselecting",this.element[0]).each(function(){var b=a.data(this,"selectable-item");b.$element.removeClass("ui-unselecting");b.unselecting=!1;b.startselected=!1;d._trigger("unselected",c,{unselected:b.element})});
a(".ui-selecting",this.element[0]).each(function(){var b=a.data(this,"selectable-item");b.$element.removeClass("ui-selecting").addClass("ui-selected");b.selecting=!1;b.selected=!0;b.startselected=!0;d._trigger("selected",c,{selected:b.element})});this._trigger("stop",c);this.helper.remove();return!1}})})(jQuery);
(function(a,g){function c(a,e,f){return a>e&&a<e+f}function d(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,
scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||d(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,e){"disabled"===b?(this.options[b]=e,this.widget().toggleClass("ui-sortable-disabled",!!e)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,e){var f=null,c=!1,d=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(b);a(b.target).parents().each(function(){if(a.data(this,
d.widgetName+"-item")===d)return f=a(this),!1});a.data(b.target,d.widgetName+"-item")===d&&(f=a(b.target));if(!f||this.options.handle&&!e&&(a(this.options.handle,f).find("*").addBack().each(function(){this===b.target&&(c=!0)}),!c))return!1;this.currentItem=f;this._removeCurrentsFromItems();return!0},_mouseStart:function(b,e,f){var c;e=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=
this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;e.cursorAt&&
this._adjustOffsetFromHelper(e.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();e.containment&&this._setContainment();e.cursor&&"auto"!==e.cursor&&(c=this.document.find("body"),this.storedCursor=c.css("cursor"),c.css("cursor",e.cursor),this.storedStylesheet=a("<style>*{ cursor: "+e.cursor+" !important; }</style>").appendTo(c));e.opacity&&(this.helper.css("opacity")&&
(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity));e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!f)for(f=this.containers.length-1;0<=f;f--)this.containers[f]._trigger("activate",
b,this._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this);a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(b);return!0},_mouseDrag:function(b){var e,f,c,d;e=this.options;f=!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==
this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-
this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed)),b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):
a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))),!1!==f&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(e=this.items.length-1;0<=e;e--)if(f=
this.items[e],c=f.item[0],(d=this._intersectsWithPointer(f))&&f.instance===this.currentContainer&&c!==this.currentItem[0]&&this.placeholder[1===d?"next":"prev"]()[0]!==c&&!a.contains(this.placeholder[0],c)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],c):1)){this.direction=1===d?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(f))this._rearrange(b,f);else break;this._trigger("change",b,this._uiHash());break}this._contactContainers(b);a.ui.ddmanager&&
a.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,e){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var f=this,c=this.placeholder.offset(),d=this.options.axis,g={};d&&"x"!==d||(g.left=c.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));d&&"y"!==d||(g.top=c.top-this.offset.parent.top-this.margins.top+
(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){f._clear(b)})}else this._clear(b,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),
this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));
return this},serialize:function(b){var e=this._getItemsAsjQuery(b&&b.connected),f=[];b=b||{};a(e).each(function(){var e=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);e&&f.push((b.key||e[1]+"[]")+"="+(b.key&&b.expression?e[1]:e[2]))});!f.length&&b.key&&f.push(b.key+"=");return f.join("&")},toArray:function(b){var e=this._getItemsAsjQuery(b&&b.connected),f=[];b=b||{};e.each(function(){f.push(a(b.item||this).attr(b.attribute||"id")||"")});return f},_intersectsWith:function(a){var e=
this.positionAbs.left,f=e+this.helperProportions.width,c=this.positionAbs.top,d=c+this.helperProportions.height,g=a.left,m=g+a.width,p=a.top,s=p+a.height,r=this.offset.click.top,q=this.offset.click.left,q="y"===this.options.axis||e+q>g&&e+q<m,r=("x"===this.options.axis||c+r>p&&c+r<s)&&q;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?r:g<e+
this.helperProportions.width/2&&f-this.helperProportions.width/2<m&&p<c+this.helperProportions.height/2&&d-this.helperProportions.height/2<s},_intersectsWithPointer:function(a){var e="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,a.left,a.width);e=e&&a;a=this._getDragVerticalDirection();var f=this._getDragHorizontalDirection();return e?this.floating?f&&"right"===f||"down"===a?2:1:a&&("down"===
a?2:1):!1},_intersectsWithSides:function(a){var e=c(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=c(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var f=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return this.floating&&d?"right"===d&&a||"left"===d&&!a:f&&("down"===f&&e||"up"===f&&!e)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=
this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function e(){g.push(this)}var f,c,d,g=[],m=[],p=this._connectWith();if(p&&b)for(b=p.length-1;0<=b;b--)for(c=a(p[b]),f=c.length-1;0<=f;f--)(d=a.data(c[f],this.widgetFullName))&&d!==this&&!d.options.disabled&&
m.push([a.isFunction(d.options.items)?d.options.items.call(d.element):a(d.options.items,d.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),d]);m.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=m.length-1;0<=b;b--)m[b][0].each(e);return a(g)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+
this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var f=0;f<b.length;f++)if(b[f]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var e,f,c,d,g,m=this.items,p=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];if((g=this._connectWith())&&this.ready)for(e=g.length-1;0<=e;e--)for(c=a(g[e]),f=c.length-1;0<=f;f--)(d=a.data(c[f],this.widgetFullName))&&
d!==this&&!d.options.disabled&&(p.push([a.isFunction(d.options.items)?d.options.items.call(d.element[0],b,{item:this.currentItem}):a(d.options.items,d.element),d]),this.containers.push(d));for(e=p.length-1;0<=e;e--)for(b=p[e][1],c=p[e][0],f=0,g=c.length;f<g;f++)d=a(c[f]),d.data(this.widgetName+"-item",b),m.push({item:d,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var e,f,c;for(e=this.items.length-
1;0<=e;e--)f=this.items[e],f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(c=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item,b||(f.width=c.outerWidth(),f.height=c.outerHeight()),c=c.offset(),f.left=c.left,f.top=c.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)c=this.containers[e].element.offset(),this.containers[e].containerCache.left=
c.left,this.containers[e].containerCache.top=c.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var e,f=b.options;f.placeholder&&f.placeholder.constructor!==String||(e=f.placeholder,f.placeholder={element:function(){var f=b.currentItem[0].nodeName.toLowerCase(),c=a("<"+f+">",b.document[0]).addClass(e||b.currentItem[0].className+
" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===f?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(c)}):"img"===f&&c.attr("src",b.currentItem.attr("src"));e||c.css("visibility","hidden");return c},update:function(a,c){if(!e||f.forcePlaceholderSize)c.height()||c.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),c.width()||
c.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}});b.placeholder=a(f.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);f.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var e,f,g,h,l,m,p,s,r,q=f=null;for(e=this.containers.length-1;0<=e;e--)a.contains(this.currentItem[0],this.containers[e].element[0])||(this._intersectsWith(this.containers[e].containerCache)?
f&&a.contains(this.containers[e].element[0],f.element[0])||(f=this.containers[e],q=e):this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0));if(f)if(1===this.containers.length)this.containers[q].containerCache.over||(this.containers[q]._trigger("over",b,this._uiHash(this)),this.containers[q].containerCache.over=1);else{e=1E4;g=null;h=(r=f.floating||d(this.currentItem))?"left":"top";l=r?"width":"height";m=this.positionAbs[h]+
this.offset.click[h];for(f=this.items.length-1;0<=f;f--)!a.contains(this.containers[q].element[0],this.items[f].item[0])||this.items[f].item[0]===this.currentItem[0]||r&&!c(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height)||(p=this.items[f].item.offset()[h],s=!1,Math.abs(p-m)>Math.abs(p+this.items[f][l]-m)&&(s=!0,p+=this.items[f][l]),Math.abs(p-m)<e&&(e=Math.abs(p-m),g=this.items[f],this.direction=s?"up":"down"));(g||this.options.dropOnEmpty)&&this.currentContainer!==
this.containers[q]&&(g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[q].element,!0),this._trigger("change",b,this._uiHash()),this.containers[q]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[q],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[q]._trigger("over",b,this._uiHash(this)),this.containers[q].containerCache.over=1)}},_createHelper:function(b){var e=this.options;b=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],
[b,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;b.parents("body").length||a("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});b[0].style.width&&!e.forceHelperSize||b.width(this.currentItem.width());
b[0].style.height&&!e.forceHelperSize||b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){"string"===typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,e,f;e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode);if("document"===e.containment||"window"===e.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-
this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],e=a(e.containment).offset(),f="hidden"!==a(b).css("overflow"),this.containment=[e.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),
10)||0)-this.margins.top,e.left+(f?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(f?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,e){e||(e=this.position);var f="absolute"===
b?1:-1,c="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(c[0].tagName);return{top:e.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():d?0:c.scrollTop())*f,left:e.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():d?0:c.scrollLeft())*f}},_generatePosition:function(b){var e,
f,c=this.options;f=b.pageX;e=b.pageY;var d="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(d[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+
this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),c.grid&&(e=this.originalPageY+Math.round((e-this.originalPageY)/c.grid[1])*c.grid[1],e=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?
e:e-this.offset.click.top>=this.containment[1]?e-c.grid[1]:e+c.grid[1]:e,f=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0],f=this.containment?f-this.offset.click.left>=this.containment[0]&&f-this.offset.click.left<=this.containment[2]?f:f-this.offset.click.left>=this.containment[0]?f-c.grid[0]:f+c.grid[0]:f));return{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:d.scrollTop()),left:f-
this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:d.scrollLeft())}},_rearrange:function(a,e,f,c){f?f[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling);var d=this.counter=this.counter?++this.counter:1;this._delay(function(){d===this.counter&&this.refreshPositions(!c)})},_clear:function(a,e){function f(a,b,f){return function(e){f._trigger(a,
e,b._uiHash(b))}}this.reverting=!1;var c,d=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)if("auto"===this._storedCSS[c]||"static"===this._storedCSS[c])this._storedCSS[c]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});
!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||d.push(function(a){this._trigger("update",a,this._uiHash())});this===this.currentContainer||e||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,
this.currentContainer)));for(c=this.containers.length-1;0<=c;c--)e||d.push(f("deactivate",this,this.containers[c])),this.containers[c].containerCache.over&&(d.push(f("out",this,this.containers[c])),this.containers[c].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);
this.dragging=!1;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",a,this._uiHash());for(c=0;c<d.length;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1}e||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!e){for(c=0;c<d.length;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!0},
_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var e=b||this;return{helper:e.helper,placeholder:e.placeholder||a([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:b?b.element:null}}})})(jQuery);
(function(a,g){var c=0,d={},b={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide";b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show";a.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;
this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");b.collapsible||!1!==b.active&&null!=b.active||(b.active=0);this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+
b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){"active"===a?this._activate(b):("event"===a&&
(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var f=a.ui.keyCode,c=this.headers.length,d=this.headers.index(b.target),g=!1;switch(b.keyCode){case f.RIGHT:case f.DOWN:g=this.headers[(d+
1)%c];break;case f.LEFT:case f.UP:g=this.headers[(d-1+c)%c];break;case f.SPACE:case f.ENTER:this._eventHandler(b);break;case f.HOME:g=this.headers[0];break;case f.END:g=this.headers[c-1]}g&&(a(b.target).attr("tabIndex",-1),a(g).attr("tabIndex",0),g.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();!1===b.active&&!0===b.collapsible||!this.headers.length?(b.active=
!1,this.active=a()):!1===b.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var b,f=this.options,d=f.heightStyle,g=this.element.parent(),l=this.accordionId="ui-accordion-"+(this.element.attr("id")||++c);this.active=this._findActive(f.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(b){var f=a(this),e=f.attr("id"),c=f.next(),d=c.attr("id");e||(e=l+"-header-"+b,f.attr("id",e));d||(d=l+"-panel-"+
b,c.attr("id",d));f.attr("aria-controls",d);c.attr("aria-labelledby",e)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(f.event);"fill"===d?(b=g.height(),this.element.siblings(":visible").each(function(){var f=
a(this),c=f.css("position");"absolute"!==c&&"fixed"!==c&&(b-=f.outerHeight(!0))}),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===d&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).css("height","").height())}).height(b))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return"number"===typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var f={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){f[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,f);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var f=this.options,c=this.active,d=a(b.currentTarget),g=
d[0]===c[0],m=g&&f.collapsible,p=m?a():d.next(),s=c.next(),p={oldHeader:c,oldPanel:s,newHeader:m?a():d,newPanel:p};b.preventDefault();g&&!f.collapsible||!1===this._trigger("beforeActivate",b,p)||(f.active=m?!1:this.headers.index(d),this.active=g?a():d,this._toggle(p),c.removeClass("ui-accordion-header-active ui-state-active"),f.icons&&c.children(".ui-accordion-header-icon").removeClass(f.icons.activeHeader).addClass(f.icons.header),g||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
f.icons&&d.children(".ui-accordion-header-icon").removeClass(f.icons.header).addClass(f.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var f=b.newPanel,c=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=f;this.prevHide=c;this.options.animate?this._animate(f,c,b):(c.hide(),f.show(),this._toggleComplete(b));c.attr({"aria-hidden":"true"});c.prev().attr("aria-selected","false");f.length&&c.length?c.prev().attr({tabIndex:-1,
"aria-expanded":"false"}):f.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);f.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,f,c){var g,l,m,p=this,s=0,r=a.length&&(!f.length||a.index()<f.index()),q=this.options.animate||{},r=r&&q.down||q,u=function(){p._toggleComplete(c)};"number"===typeof r&&(m=r);"string"===typeof r&&(l=r);l=l||r.easing||q.easing;m=m||r.duration||q.duration;
if(!f.length)return a.animate(b,m,l,u);if(!a.length)return f.animate(d,m,l,u);g=a.show().outerHeight();f.animate(d,{duration:m,easing:l,step:function(a,b){b.now=Math.round(a)}});a.hide().animate(b,{duration:m,easing:l,complete:u,step:function(a,b){b.now=Math.round(a);"height"!==b.prop?s+=b.now:"content"!==p.options.heightStyle&&(b.now=Math.round(g-f.outerHeight()-s),s=0)}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}})})(jQuery);
(function(a,g){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var c,d,b,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,e="input"===e;this.isMultiLine=f?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=
this.element[f||e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(f){if(this.element.prop("readOnly"))d=b=c=!0;else{d=b=c=!1;var e=a.ui.keyCode;switch(f.keyCode){case e.PAGE_UP:c=!0;this._move("previousPage",f);break;case e.PAGE_DOWN:c=!0;this._move("nextPage",f);break;case e.UP:c=!0;this._keyEvent("previous",f);break;case e.DOWN:c=!0;this._keyEvent("next",f);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&
(c=!0,f.preventDefault(),this.menu.select(f));break;case e.TAB:this.menu.active&&this.menu.select(f);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(f),f.preventDefault());break;default:d=!0,this._searchTimeout(f)}}},keypress:function(b){if(c)c=!1,this.isMultiLine&&!this.menu.element.is(":visible")||b.preventDefault();else if(!d){var f=a.ui.keyCode;switch(b.keyCode){case f.PAGE_UP:this._move("previousPage",b);break;case f.PAGE_DOWN:this._move("nextPage",b);
break;case f.UP:this._keyEvent("previous",b);break;case f.DOWN:this._keyEvent("next",b)}}},input:function(a){b?(b=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,
{mousedown:function(b){b.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var f=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(e){e.target===b.element[0]||e.target===f||a.contains(f,e.target)||b.close()})})},menufocus:function(b,f){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});
return}var e=f.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:e})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(e.value):this.liveRegion.text(e.value)},menuselect:function(a,b){var f=b.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=f}));!1!==this._trigger("select",a,{item:f})&&this._value(f.value);this.term=this._value();
this.close(a);this.selectedItem=f}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,d){this._super(a,d);"source"===a&&this._initSource();
"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&d&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;c&&(c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0));c||(c=this.element.closest(".ui-front"));c.length||(c=this.document[0].body);return c},_initSource:function(){var c,d,b=this;a.isArray(this.options.source)?(c=this.options.source,this.source=function(b,f){f(a.ui.autocomplete.filter(c,b.term))}):"string"===typeof this.options.source?
(d=this.options.source,this.source=function(e,f){b.xhr&&b.xhr.abort();b.xhr=a.ajax({url:d,data:e,dataType:"json",success:function(a){f(a)},error:function(){f([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,d){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(d);
if(!1!==this._trigger("search",d))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var c=++this.requestIndex;return a.proxy(function(a){c===this.requestIndex&&this.__response(a);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&
a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:a.map(c,function(c){return"string"===typeof c?{label:c,
value:c}:a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(c){var d=this.menu.element.empty();this._renderMenu(d,c);this.isNewMenu=!0;this.menu.refresh();d.show();this._resizeMenu();d.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,d){var b=this;a.each(d,function(a,f){b._renderItemData(c,
f)})},_renderItemData:function(a,d){return this._renderItem(a,d).data("ui-autocomplete-item",d)},_renderItem:function(c,d){return a("<li>").append(a("<a>").text(d.label)).appendTo(c)},_move:function(a,d){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](d);else this.search(null,d)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,
arguments)},_keyEvent:function(a,d){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,d),d.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,d){var b=RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(c,function(a){return b.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+
(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var d;this._superApply(arguments);this.options.disabled||this.cancelSearch||(d=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(d))}})})(jQuery);
(function(a,g){var c,d=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},b=function(b){var f=b.name,c=b.form,d=a([]);f&&(f=f.replace(/'/g,"\\'"),d=c?a(c).find("[name='"+f+"']"):a("[name='"+f+"']",b.ownerDocument).filter(function(){return!this.form}));return d};a.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,d);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var e=this,f=this.options,g="checkbox"===this.type||"radio"===this.type,h=g?"":"ui-state-active";null===f.label&&(f.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){f.disabled||this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){f.disabled||a(this).removeClass(h)}).bind("click"+this.eventNamespace,function(a){f.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});
g&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(f.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(f.disabled)return!1;a(this).addClass("ui-state-active");e.buttonElement.attr("aria-pressed","true");var c=e.element[0];b(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(f.disabled)return!1;a(this).addClass("ui-state-active");c=this;e.document.one("mouseup",function(){c=null})}).bind("mouseup"+this.eventNamespace,function(){if(f.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){if(f.disabled)return!1;b.keyCode!==a.ui.keyCode.SPACE&&b.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+
" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",f.disabled);this._resetButton()},_determineButtonType:function(){var a,b;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?
(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},
_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,
b);"disabled"===a?(this.element.prop("disabled",!!b),b&&this.buttonElement.removeClass("ui-state-focus")):this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e);"radio"===this.type?b(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",
"false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
f=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),c=this.options.icons,d=c.primary&&c.secondary,g=[];c.primary||c.secondary?(this.options.text&&g.push("ui-button-text-icon"+(d?"s":c.primary?"-primary":"-secondary")),c.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+c.primary+"'></span>"),c.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+c.secondary+"'></span>"),this.options.text||(g.push(d?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(f)))):g.push("ui-button-text-only");b.addClass(g.join(" "))}}});a.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var b=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(a,g){function c(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){a.datepicker._isDisabledDatepicker(e.inline?b.parent()[0]:e.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function b(b,e){a.extend(b,e);for(var c in e)null==e[c]&&(b[c]=e[c]);return b}a.extend(a.ui,{datepicker:{version:"1.10.4"}});var e;a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){b(this._defaults,a||{});return this},_attachDatepicker:function(b,
e){var c,d,g;c=b.nodeName.toLowerCase();d="div"===c||"span"===c;b.id||(this.uuid+=1,b.id="dp"+this.uuid);g=this._newInst(a(b),d);g.settings=a.extend({},e||{});"input"===c?this._connectDatepicker(b,g):d&&this._inlineDatepicker(b,g)},_newInst:function(b,e){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,e){var c=a(b);e.append=a([]);e.trigger=a([]);c.hasClass(this.markerClassName)||(this._attachments(c,e),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),a.data(b,"datepicker",e),e.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,e){var c,d;c=this._get(e,"appendText");var g=this._get(e,"isRTL");e.append&&e.append.remove();c&&(e.append=a("<span class='"+this._appendClass+
"'>"+c+"</span>"),b[g?"before":"after"](e.append));b.unbind("focus",this._showDatepicker);e.trigger&&e.trigger.remove();c=this._get(e,"showOn");"focus"!==c&&"both"!==c||b.focus(this._showDatepicker);if("button"===c||"both"===c)c=this._get(e,"buttonText"),d=this._get(e,"buttonImage"),e.trigger=a(this._get(e,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:d,alt:c,title:c}):a("<button type='button'></button>").addClass(this._triggerClass).html(d?a("<img/>").attr({src:d,alt:c,title:c}):
c)),b[g?"before":"after"](e.trigger),e.trigger.click(function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():(a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]&&a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0]));return!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,e,c,d,g=new Date(2009,11,20),s=this._get(a,"dateFormat");s.match(/[DM]/)&&(b=function(a){for(d=c=e=0;d<a.length;d++)a[d].length>e&&
(e=a[d].length,c=d);return c},g.setMonth(b(this._get(a,s.match(/MM/)?"monthNames":"monthNamesShort"))),g.setDate(b(this._get(a,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-g.getDay()));a.input.attr("size",this._formatDate(a,g).length)}},_inlineDatepicker:function(b,e){var c=a(b);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(e.dpDiv),a.data(b,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&
this._disableDatepicker(b),e.dpDiv.css("display","block"))},_dialogDatepicker:function(f,e,c,d,g){var p;f=this._dialogInst;f||(this.uuid+=1,f="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+f+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},a.data(this._dialogInput[0],"datepicker",f));b(f.settings,d||{});e=e&&e.constructor===Date?
this._formatDate(f,e):e;this._dialogInput.val(e);this._pos=g?g.length?g:[g.pageX,g.pageY]:null;this._pos||(e=document.documentElement.clientWidth,d=document.documentElement.clientHeight,g=document.documentElement.scrollLeft||document.body.scrollLeft,p=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[e/2-100+g,d/2-150+p]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");f.settings.onSelect=c;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",f);return this},_destroyDatepicker:function(b){var e,c=a(b),d=a.data(b,"datepicker");c.hasClass(this.markerClassName)&&(e=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===e?(d.append.remove(),d.trigger.remove(),c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",
this._doKeyUp)):"div"!==e&&"span"!==e||c.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var e,c=a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){e=b.nodeName.toLowerCase();if("input"===e)b.disabled=!1,d.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===e||"span"===e)e=c.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a})}},_disableDatepicker:function(b){var e,c=a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){e=b.nodeName.toLowerCase();if("input"===e)b.disabled=!0,d.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===e||"span"===e)e=c.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(e){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(f,e,c){var d,m,p,s,r=this._getInst(f);if(2===arguments.length&&"string"===
typeof e)return"defaults"===e?a.extend({},a.datepicker._defaults):r?"all"===e?a.extend({},r.settings):this._get(r,e):null;d=e||{};"string"===typeof e&&(d={},d[e]=c);r&&(this._curInst===r&&this._hideDatepicker(),m=this._getDateDatepicker(f,!0),p=this._getMinMaxDate(r,"min"),s=this._getMinMaxDate(r,"max"),b(r.settings,d),null!==p&&d.dateFormat!==g&&d.minDate===g&&(r.settings.minDate=this._formatDate(r,p)),null!==s&&d.dateFormat!==g&&d.maxDate===g&&(r.settings.maxDate=this._formatDate(r,s)),"disabled"in
d&&(d.disabled?this._disableDatepicker(f):this._enableDatepicker(f)),this._attachments(a(f),r),this._autoSize(r),this._setDate(r,m),this._updateAlternate(r),this._updateDatepicker(r))},_changeDatepicker:function(a,b,e){this._optionDatepicker(a,b,e)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var e=this._getInst(a);e&&(this._setDate(e,b),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(a,b){var e=
this._getInst(a);e&&!e.inline&&this._setDateFromField(e,b);return e?this._getDate(e):null},_doKeyDown:function(b){var e,c=a.datepicker._getInst(b.target);e=!0;var d=c.dpDiv.is(".ui-datepicker-rtl");c._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();e=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",c.dpDiv),e[0]&&a.datepicker._selectDay(b.target,c.selectedMonth,c.selectedYear,e[0]),(b=a.datepicker._get(c,
"onSelect"))?(e=a.datepicker._formatDate(c),b.apply(c.input?c.input[0]:null,[e,c])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(c,"stepBigMonths"):-a.datepicker._get(c,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(c,"stepBigMonths"):+a.datepicker._get(c,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
e=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);e=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,d?1:-1,"D");e=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(c,"stepBigMonths"):-a.datepicker._get(c,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");e=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
a.datepicker._adjustDate(b.target,d?-1:1,"D");e=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(c,"stepBigMonths"):+a.datepicker._get(c,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");e=b.ctrlKey||b.metaKey;break;default:e=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):e=!1;e&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var e,c;e=a.datepicker._getInst(b.target);
if(a.datepicker._get(e,"constrainInput"))return e=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),c=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">c||!e||-1<e.indexOf(c)},_doKeyUp:function(b){var e;b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{if(e=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
a.datepicker._updateDatepicker(b)}catch(c){}return!0},_showDatepicker:function(f){f=f.target||f;"input"!==f.nodeName.toLowerCase()&&(f=a("input",f.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(f)&&a.datepicker._lastInput!==f){var e,c,d,g;e=a.datepicker._getInst(f);a.datepicker._curInst&&a.datepicker._curInst!==e&&(a.datepicker._curInst.dpDiv.stop(!0,!0),e&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));c=(c=a.datepicker._get(e,"beforeShow"))?
c.apply(f,[f,e]):{};if(!1!==c&&(b(e.settings,c),e.lastVal=null,a.datepicker._lastInput=f,a.datepicker._setDateFromField(e),a.datepicker._inDialog&&(f.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(f),a.datepicker._pos[1]+=f.offsetHeight),d=!1,a(f).parents().each(function(){d|="fixed"===a(this).css("position");return!d}),c={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
a.datepicker._updateDatepicker(e),c=a.datepicker._checkOffset(e,c,d),e.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":d?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"}),!e.inline)){c=a.datepicker._get(e,"showAnim");g=a.datepicker._get(e,"duration");e.dpDiv.zIndex(a(f).zIndex()+1);a.datepicker._datepickerShowing=!0;if(a.effects&&a.effects.effect[c])e.dpDiv.show(c,a.datepicker._get(e,"showOptions"),g);else e.dpDiv[c||"show"](c?g:null);a.datepicker._shouldFocusInput(e)&&
e.input.focus();a.datepicker._curInst=e}}},_updateDatepicker:function(b){this.maxRows=4;e=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),g=d[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<g&&b.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",17*g+"em");b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,
e,c){var d=b.dpDiv.outerWidth(),g=b.dpDiv.outerHeight(),p=b.input?b.input.outerWidth():0,s=b.input?b.input.outerHeight():0,r=document.documentElement.clientWidth+(c?0:a(document).scrollLeft()),q=document.documentElement.clientHeight+(c?0:a(document).scrollTop());e.left-=this._get(b,"isRTL")?d-p:0;e.left-=c&&e.left===b.input.offset().left?a(document).scrollLeft():0;e.top-=c&&e.top===b.input.offset().top+s?a(document).scrollTop():0;e.left-=Math.min(e.left,e.left+d>r&&r>d?Math.abs(e.left+d-r):0);e.top-=
Math.min(e.top,e.top+g>q&&q>g?Math.abs(g+s):0);return e},_findPos:function(b){for(var e=this._getInst(b),e=this._get(e,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];b=a(b).offset();return[b.left,b.top]},_hideDatepicker:function(b){var e,c,d=this._curInst;if(d&&(!b||d===a.data(b,"datepicker"))&&this._datepickerShowing){b=this._get(d,"showAnim");e=this._get(d,"duration");c=function(){a.datepicker._tidyDialog(d)};if(a.effects&&(a.effects.effect[b]||
a.effects[b]))d.dpDiv.hide(b,a.datepicker._get(d,"showOptions"),e,c);else d.dpDiv["slideDown"===b?"slideUp":"fadeIn"===b?"fadeOut":"hide"](b?e:null,c);b||c();this._datepickerShowing=!1;(b=this._get(d,"onClose"))&&b.apply(d.input?d.input[0]:null,[d.input?d.input.val():"",d]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var e=a.datepicker._getInst(b[0]);(b[0].id!==a.datepicker._mainDivId&&0===b.parents("#"+a.datepicker._mainDivId).length&&!(b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==e)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,e,c){b=a(b);var d=
this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(d,e+("M"===c?this._get(d,"showCurrentAtPos"):0),c),this._updateDatepicker(d))},_gotoToday:function(b){var e=a(b),c=this._getInst(e[0]);this._get(c,"gotoCurrent")&&c.currentDay?(c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear):(b=new Date,c.selectedDay=b.getDate(),c.drawMonth=c.selectedMonth=b.getMonth(),c.drawYear=c.selectedYear=b.getFullYear());this._notifyChange(c);
this._adjustDate(e)},_selectMonthYear:function(b,e,c){b=a(b);var d=this._getInst(b[0]);d["selected"+("M"===c?"Month":"Year")]=d["draw"+("M"===c?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10);this._notifyChange(d);this._adjustDate(b)},_selectDay:function(b,e,c,d){var g;g=a(b);a(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(g=this._getInst(g[0]),g.selectedDay=g.currentDay=a("a",d).html(),g.selectedMonth=g.currentMonth=e,g.selectedYear=g.currentYear=c,this._selectDate(b,
this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,e){var c;c=a(b);var d=this._getInst(c[0]);e=null!=e?e:this._formatDate(d);d.input&&d.input.val(e);this._updateAlternate(d);(c=this._get(d,"onSelect"))?c.apply(d.input?d.input[0]:null,[e,d]):d.input&&d.input.trigger("change");d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!==typeof d.input[0]&&d.input.focus(),this._lastInput=
null)},_updateAlternate:function(b){var e,c,d,g=this._get(b,"altField");g&&(e=this._get(b,"altFormat")||this._get(b,"dateFormat"),c=this._getDate(b),d=this.formatDate(e,c,this._getFormatConfig(b)),a(g).each(function(){a(this).val(d)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(b,e,c){if(null==
b||null==e)throw"Invalid arguments";e="object"===typeof e?e.toString():e+"";if(""===e)return null;var d,g,p,s=0;g=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;g="string"!==typeof g?g:(new Date).getFullYear()%100+parseInt(g,10);p=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort;var r=(c?c.dayNames:null)||this._defaults.dayNames,q=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,u=(c?c.monthNames:null)||this._defaults.monthNames,v=c=-1,x=-1,z=-1,y=!1,w,A=function(a){(a=
d+1<b.length&&b.charAt(d+1)===a)&&d++;return a},E=function(a){var b=A(a);a=RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}");a=e.substring(s).match(a);if(!a)throw"Missing number at position "+s;s+=a[0].length;return parseInt(a[0],10)},B=function(b,f,c){var d=-1;b=a.map(A(b)?c:f,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});a.each(b,function(a,b){var f=b[1];if(e.substr(s,f.length).toLowerCase()===f.toLowerCase())return d=b[0],s+=f.length,!1});
if(-1!==d)return d+1;throw"Unknown name at position "+s;},F=function(){if(e.charAt(s)!==b.charAt(d))throw"Unexpected literal at position "+s;s++};for(d=0;d<b.length;d++)if(y)"'"!==b.charAt(d)||A("'")?F():y=!1;else switch(b.charAt(d)){case "d":x=E("d");break;case "D":B("D",p,r);break;case "o":z=E("o");break;case "m":v=E("m");break;case "M":v=B("M",q,u);break;case "y":c=E("y");break;case "@":w=new Date(E("@"));c=w.getFullYear();v=w.getMonth()+1;x=w.getDate();break;case "!":w=new Date((E("!")-this._ticksTo1970)/
1E4);c=w.getFullYear();v=w.getMonth()+1;x=w.getDate();break;case "'":A("'")?F():y=!0;break;default:F()}if(s<e.length&&(p=e.substr(s),!/^\s+/.test(p)))throw"Extra/unparsed characters found in date: "+p;-1===c?c=(new Date).getFullYear():100>c&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=g?0:-100));if(-1<z){v=1;x=z;do{g=this._getDaysInMonth(c,v-1);if(x<=g)break;v++;x-=g}while(1)}w=this._daylightSavingAdjust(new Date(c,v-1,x));if(w.getFullYear()!==c||w.getMonth()+1!==v||w.getDate()!==
x)throw"Invalid date";return w},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,e){if(!b)return"";var c,d=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,g=(e?e.dayNames:null)||this._defaults.dayNames,s=(e?e.monthNamesShort:null)||
this._defaults.monthNamesShort;e=(e?e.monthNames:null)||this._defaults.monthNames;var r=function(b){(b=c+1<a.length&&a.charAt(c+1)===b)&&c++;return b},q=function(a,b,f){b=""+b;if(r(a))for(;b.length<f;)b="0"+b;return b},u=function(a,b,f,e){return r(a)?e[b]:f[b]},v="",x=!1;if(b)for(c=0;c<a.length;c++)if(x)"'"!==a.charAt(c)||r("'")?v+=a.charAt(c):x=!1;else switch(a.charAt(c)){case "d":v+=q("d",b.getDate(),2);break;case "D":v+=u("D",b.getDay(),d,g);break;case "o":v+=q("o",Math.round(((new Date(b.getFullYear(),
b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":v+=q("m",b.getMonth()+1,2);break;case "M":v+=u("M",b.getMonth(),s,e);break;case "y":v+=r("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":v+=b.getTime();break;case "!":v+=1E4*b.getTime()+this._ticksTo1970;break;case "'":r("'")?v+="'":x=!0;break;default:v+=a.charAt(c)}return v},_possibleChars:function(a){var b,e="",c=!1,d=function(e){(e=b+1<a.length&&a.charAt(b+1)===
e)&&b++;return e};for(b=0;b<a.length;b++)if(c)"'"!==a.charAt(b)||d("'")?e+=a.charAt(b):c=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":e+="0123456789";break;case "D":case "M":return null;case "'":d("'")?e+="'":c=!0;break;default:e+=a.charAt(b)}return e},_get:function(a,b){return a.settings[b]!==g?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var e=this._get(a,"dateFormat"),c=a.lastVal=a.input?a.input.val():null,d=this._getDefaultDate(a),
g=d,s=this._getFormatConfig(a);try{g=this.parseDate(e,c,s)||d}catch(r){c=b?"":c}a.selectedDay=g.getDate();a.drawMonth=a.selectedMonth=g.getMonth();a.drawYear=a.selectedYear=g.getFullYear();a.currentDay=c?g.getDate():0;a.currentMonth=c?g.getMonth():0;a.currentYear=c?g.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,e,c){var d=function(a){var b=new Date;b.setDate(b.getDate()+
a);return b},g=function(e){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),e,a.datepicker._getFormatConfig(b))}catch(c){}for(var d=(e.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,g=d.getFullYear(),k=d.getMonth(),d=d.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(e);l;){switch(l[2]||"d"){case "d":case "D":d+=parseInt(l[1],10);break;case "w":case "W":d+=7*parseInt(l[1],10);break;case "m":case "M":k+=parseInt(l[1],10);d=Math.min(d,a.datepicker._getDaysInMonth(g,
k));break;case "y":case "Y":g+=parseInt(l[1],10),d=Math.min(d,a.datepicker._getDaysInMonth(g,k))}l=h.exec(e)}return new Date(g,k,d)};if(e=(e=null==e||""===e?c:"string"===typeof e?g(e):"number"===typeof e?isNaN(e)?c:d(e):new Date(e.getTime()))&&"Invalid Date"===e.toString()?c:e)e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);return this._daylightSavingAdjust(e)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,
b,e){var c=!b,d=a.selectedMonth,g=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();d===a.selectedMonth&&g===a.selectedYear||e||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(c?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,
a.currentMonth,a.currentDay))},_attachHandlers:function(b){var e=this._get(b,"stepMonths"),c="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(c,-e,"M")},next:function(){a.datepicker._adjustDate(c,+e,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(c)},selectDay:function(){a.datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this);return!1},selectMonth:function(){a.datepicker._selectMonthYear(c,this,"M");return!1},selectYear:function(){a.datepicker._selectMonthYear(c,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,e,c,d,g,s,r,q,u,v,x,z,y,w,A,E,B,F,L,H,G,D,T,Z,X,R,P,Y=new Date,Y=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),J=this._get(a,"isRTL");s=this._get(a,"showButtonPanel");c=this._get(a,"hideIfNoPrevNext");g=this._get(a,"navigationAsDateFormat");
var I=this._getNumberOfMonths(a),C=this._get(a,"showCurrentAtPos");d=this._get(a,"stepMonths");var S=1!==I[0]||1!==I[1],K=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),U=this._getMinMaxDate(a,"min"),N=this._getMinMaxDate(a,"max"),C=a.drawMonth-C,Q=a.drawYear;0>C&&(C+=12,Q--);if(N)for(b=this._daylightSavingAdjust(new Date(N.getFullYear(),N.getMonth()-I[0]*I[1]+1,N.getDate())),b=U&&b<U?U:b;this._daylightSavingAdjust(new Date(Q,C,1))>
b;)C--,0>C&&(C=11,Q--);a.drawMonth=C;a.drawYear=Q;b=this._get(a,"prevText");b=g?this.formatDate(b,this._daylightSavingAdjust(new Date(Q,C-d,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,Q,C)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(J?"e":"w")+"'>"+b+"</span></a>":c?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+
(J?"e":"w")+"'>"+b+"</span></a>";e=this._get(a,"nextText");e=g?this.formatDate(e,this._daylightSavingAdjust(new Date(Q,C+d,1)),this._getFormatConfig(a)):e;c=this._canAdjustMonth(a,1,Q,C)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(J?"w":"e")+"'>"+e+"</span></a>":c?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(J?"w":
"e")+"'>"+e+"</span></a>";d=this._get(a,"currentText");e=this._get(a,"gotoCurrent")&&a.currentDay?K:Y;d=g?this.formatDate(d,e,this._getFormatConfig(a)):d;g=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";s=s?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(J?g:"")+(this._isInRange(a,e)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
d+"</button>":"")+(J?"":g)+"</div>":"";g=parseInt(this._get(a,"firstDay"),10);g=isNaN(g)?0:g;d=this._get(a,"showWeek");e=this._get(a,"dayNames");r=this._get(a,"dayNamesMin");q=this._get(a,"monthNames");u=this._get(a,"monthNamesShort");v=this._get(a,"beforeShowDay");x=this._get(a,"showOtherMonths");z=this._get(a,"selectOtherMonths");y=this._getDefaultDate(a);w="";A;for(E=0;E<I[0];E++){B="";this.maxRows=4;for(F=0;F<I[1];F++){L=this._daylightSavingAdjust(new Date(Q,C,a.selectedDay));A=" ui-corner-all";
H="";if(S){H+="<div class='ui-datepicker-group";if(1<I[1])switch(F){case 0:H+=" ui-datepicker-group-first";A=" ui-corner-"+(J?"right":"left");break;case I[1]-1:H+=" ui-datepicker-group-last";A=" ui-corner-"+(J?"left":"right");break;default:H+=" ui-datepicker-group-middle",A=""}H+="'>"}H+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===E?J?c:b:"")+(/all|right/.test(A)&&0===E?J?b:c:"")+this._generateMonthYearHeader(a,C,Q,U,N,0<E||0<F,q,u)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
G=d?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(A=0;7>A;A++)D=(A+g)%7,G+="<th"+(5<=(A+g+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+e[D]+"'>"+r[D]+"</span></th>";H+=G+"</tr></thead><tbody>";G=this._getDaysInMonth(Q,C);Q===a.selectedYear&&C===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,G));A=(this._getFirstDayOfMonth(Q,C)-g+7)%7;G=Math.ceil((A+G)/7);this.maxRows=G=S?this.maxRows>G?this.maxRows:G:G;D=this._daylightSavingAdjust(new Date(Q,
C,1-A));for(T=0;T<G;T++){H+="<tr>";Z=d?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(D)+"</td>":"";for(A=0;7>A;A++)X=v?v.apply(a.input?a.input[0]:null,[D]):[!0,""],P=(R=D.getMonth()!==C)&&!z||!X[0]||U&&D<U||N&&D>N,Z+="<td class='"+(5<=(A+g+6)%7?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(D.getTime()===L.getTime()&&C===a.selectedMonth&&a._keyEvent||y.getTime()===D.getTime()&&y.getTime()===L.getTime()?" "+this._dayOverClass:"")+(P?" "+this._unselectableClass+
" ui-state-disabled":"")+(R&&!x?"":" "+X[1]+(D.getTime()===K.getTime()?" "+this._currentClass:"")+(D.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(R&&!x||!X[2]?"":" title='"+X[2].replace(/'/g,"&#39;")+"'")+(P?"":" data-handler='selectDay' data-event='click' data-month='"+D.getMonth()+"' data-year='"+D.getFullYear()+"'")+">"+(R&&!x?"&#xa0;":P?"<span class='ui-state-default'>"+D.getDate()+"</span>":"<a class='ui-state-default"+(D.getTime()===Y.getTime()?" ui-state-highlight":"")+(D.getTime()===
K.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+D.getDate()+"</a>")+"</td>",D.setDate(D.getDate()+1),D=this._daylightSavingAdjust(D);H+=Z+"</tr>"}C++;11<C&&(C=0,Q++);H+="</tbody></table>"+(S?"</div>"+(0<I[0]&&F===I[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");B+=H}w+=B}a._keyEvent=!1;return w+s},_generateMonthYearHeader:function(a,b,e,c,d,g,s,r){var q,u,v,x=this._get(a,"changeMonth"),z=this._get(a,"changeYear"),y=this._get(a,"showMonthAfterYear"),w="<div class='ui-datepicker-title'>",
A="";if(g||!x)A+="<span class='ui-datepicker-month'>"+s[b]+"</span>";else{s=c&&c.getFullYear()===e;q=d&&d.getFullYear()===e;A+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(u=0;12>u;u++)(!s||u>=c.getMonth())&&(!q||u<=d.getMonth())&&(A+="<option value='"+u+"'"+(u===b?" selected='selected'":"")+">"+r[u]+"</option>");A+="</select>"}y||(w+=A+(!g&&x&&z?"":"&#xa0;"));if(!a.yearshtml)if(a.yearshtml="",g||!z)w+="<span class='ui-datepicker-year'>"+e+"</span>";else{r=
this._get(a,"yearRange").split(":");v=(new Date).getFullYear();s=function(a){a=a.match(/c[+\-].*/)?e+parseInt(a.substring(1),10):a.match(/[+\-].*/)?v+parseInt(a,10):parseInt(a,10);return isNaN(a)?v:a};b=s(r[0]);r=Math.max(b,s(r[1]||""));b=c?Math.max(b,c.getFullYear()):b;r=d?Math.min(r,d.getFullYear()):r;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=r;b++)a.yearshtml+="<option value='"+b+"'"+(b===e?" selected='selected'":"")+">"+b+"</option>";
a.yearshtml+="</select>";w+=a.yearshtml;a.yearshtml=null}w+=this._get(a,"yearSuffix");y&&(w+=(!g&&x&&z?"":"&#xa0;")+A);return w+"</div>"},_adjustInstDate:function(a,b,e){var c=a.drawYear+("Y"===e?b:0),d=a.drawMonth+("M"===e?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(c,d))+("D"===e?b:0);c=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(c,d,b)));a.selectedDay=c.getDate();a.drawMonth=a.selectedMonth=c.getMonth();a.drawYear=a.selectedYear=c.getFullYear();"M"!==e&&"Y"!==e||this._notifyChange(a)},
_restrictMinMax:function(a,b){var e=this._getMinMaxDate(a,"min"),c=this._getMinMaxDate(a,"max"),e=e&&b<e?e:b;return c&&e>c?c:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-
this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,e,c){var d=this._getNumberOfMonths(a);e=this._daylightSavingAdjust(new Date(e,c+(0>b?b:d[0]*d[1]),1));0>b&&e.setDate(this._getDaysInMonth(e.getFullYear(),e.getMonth()));return this._isInRange(a,e)},_isInRange:function(a,b){var e,c,d=this._getMinMaxDate(a,"min"),g=this._getMinMaxDate(a,"max"),s=null,r=null;if(e=this._get(a,"yearRange"))e=e.split(":"),
c=(new Date).getFullYear(),s=parseInt(e[0],10),r=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(s+=c),e[1].match(/[+\-].*/)&&(r+=c);return(!d||b.getTime()>=d.getTime())&&(!g||b.getTime()<=g.getTime())&&(!s||b.getFullYear()>=s)&&(!r||b.getFullYear()<=r)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!==typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,
"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,e,c){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"===typeof b?b:this._daylightSavingAdjust(new Date(c,e,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),
a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"===typeof b&&("isDisabled"===b||"getDate"===b||"widget"===b)||"option"===b&&2===arguments.length&&"string"===typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(e)):this.each(function(){"string"===typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(e)):a.datepicker._attachDatepicker(this,
b)})};a.datepicker=new c;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.10.4"})(jQuery);
(function(a,g){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},d={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var e=a(this).css(b).offset().top;
0>e&&a(this).css("top",b.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=
this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,e=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=e.parent.children().eq(e.index);a.length&&a[0]!==this.element[0]?a.before(this.element):e.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var e,c=this;if(this._isOpen&&!1!==this._trigger("beforeClose",b)){this._isOpen=!1;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length)try{(e=this.document[0].activeElement)&&"body"!==e.nodeName.toLowerCase()&&a(e).blur()}catch(d){}this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",b)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},
_moveToTop:function(a,e){var c=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;c&&!e&&this._trigger("focus",a);return c},open:function(){var b=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var a=
this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(b){function e(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault();e.call(this);this._delay(e)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)b.preventDefault(),this.close(b);else if(b.keyCode===a.ui.keyCode.TAB){var e=this.uiDialog.find(":tabbable"),c=e.filter(":first"),e=e.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==c[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||
(e.focus(1),b.preventDefault()):(c.focus(1),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||
this.uiDialog.focus()}});this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(b);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||
a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();a.isEmptyObject(e)||a.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):
(a.each(e,function(e,c){var d,g;c=a.isFunction(c)?{click:c,text:e}:c;c=a.extend({type:"button"},c);d=c.click;c.click=function(){d.apply(b.element[0],arguments)};g={icons:c.icons,text:c.showText};delete c.icons;delete c.showText;a("<button></button>",c).button(g).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var e=this,c=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(c,f){a(this).addClass("ui-dialog-dragging");e._blockFrames();e._trigger("dragStart",c,b(f))},drag:function(a,c){e._trigger("drag",a,b(c))},stop:function(d,g){c.position=[g.position.left-e.document.scrollLeft(),g.position.top-e.document.scrollTop()];a(this).removeClass("ui-dialog-dragging");e._unblockFrames();e._trigger("dragStop",d,b(g))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
position:a.position,size:a.size}}var e=this,c=this.options,d=c.resizable,g=this.uiDialog.css("position"),d="string"===typeof d?d:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:c.maxWidth,maxHeight:c.maxHeight,minWidth:c.minWidth,minHeight:this._minHeight(),handles:d,start:function(c,f){a(this).addClass("ui-dialog-resizing");e._blockFrames();e._trigger("resizeStart",c,b(f))},resize:function(a,c){e._trigger("resize",
a,b(c))},stop:function(d,g){c.height=a(this).height();c.width=a(this).width();a(this).removeClass("ui-dialog-resizing");e._unblockFrames();e._trigger("resizeStop",d,b(g))}}).css("position",g)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(b){var e=this,f=!1,g={};a.each(b,
function(a,b){e._setOption(a,b);a in c&&(f=!0);a in d&&(g[a]=b)});f&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(a,e){var c,d=this.uiDialog;"dialogClass"===a&&d.removeClass(this.options.dialogClass).addClass(e);"disabled"!==a&&(this._super(a,e),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===
a&&((c=d.is(":data(ui-draggable)"))&&!e&&d.draggable("destroy"),!c&&e&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&((c=d.is(":data(ui-resizable)"))&&!e&&d.resizable("destroy"),c&&"string"===typeof e&&d.resizable("option","handles",e),c||!1===e||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,e,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});d.minWidth>
d.width&&(d.width=d.minWidth);a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight();e=Math.max(0,d.minHeight-a);c="number"===typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none";"auto"===d.height?this.element.css({minHeight:e,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=
a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=this,e=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&
this.document.bind("focusin.dialog",function(c){b._allowInteraction(c)||(c.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(e)._focusTabbable())})});this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),
this.overlay.remove(),this.overlay=null)}});a.ui.dialog.overlayInstances=0;!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b=this.options.position,e=[],c=[0,0],d;if(b){if("string"===typeof b||"object"===typeof b&&"0"in b)e=b.split?b.split(" "):[b[0],b[1]],1===e.length&&(e[1]=e[0]),a.each(["left","top"],function(a,b){+e[a]===e[a]&&(c[a]=e[a],e[a]=b)}),b={my:e[0]+(0>c[0]?c[0]:"+"+c[0])+" "+e[1]+(0>c[1]?c[1]:"+"+c[1]),at:e.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,
b)}else b=a.ui.dialog.prototype.options.position;(d=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(b);d||this.uiDialog.hide()}})})(jQuery);
(function(a,g){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+
this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=a(c.target).closest(".ui-menu-item");!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||
(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var d=a(c.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,
d){var b=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(a,b)},blur:function(c){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){a(c.target).closest(".ui-menu").length||this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=a(this);c.data("ui-menu-submenu-carat")&&c.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var b,e,f,g,h=!0;switch(c.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(c);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case a.ui.keyCode.HOME:this._move("first","first",c);break;case a.ui.keyCode.END:this._move("last","last",c);break;case a.ui.keyCode.UP:this.previous(c);break;case a.ui.keyCode.DOWN:this.next(c);break;case a.ui.keyCode.LEFT:this.collapse(c);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(c);
break;case a.ui.keyCode.ESCAPE:this.collapse(c);break;default:h=!1,b=this.previousFilter||"",e=String.fromCharCode(c.keyCode),f=!1,clearTimeout(this.filterTimer),e===b?f=!0:e=b+e,g=RegExp("^"+d(e),"i"),b=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())}),b=f&&-1!==b.index(this.active.next())?this.active.nextAll(".ui-menu-item"):b,b.length||(e=String.fromCharCode(c.keyCode),g=RegExp("^"+d(e),"i"),b=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())})),
b.length?(this.focus(c,b),1<b.length?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}h&&c.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var c,d=this.options.icons.submenu;c=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);
c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),e=b.prev("a"),c=a("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(c);b.attr("aria-labelledby",e.attr("id"))});c=c.add(this.element);c.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,
role:this._itemRole()});c.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")});c.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,d){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(d.submenu);
this._super(a,d)},focus:function(a,d){var b;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(d);this.active=d.first();b=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",b.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);b=d.children(".ui-menu");b.length&&a&&/^mouse/.test(a.type)&&
this._startOpening(b);this.activeMenu=d.parent();this._trigger("focus",a,{item:d})},_scrollIntoView:function(c){var d,b,e;this._hasScroll()&&(d=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,b=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,d=c.offset().top-this.activeMenu.offset().top-d-b,b=this.activeMenu.scrollTop(),e=this.activeMenu.height(),c=c.height(),0>d?this.activeMenu.scrollTop(b+d):d+c>e&&this.activeMenu.scrollTop(b+d-e+c))},blur:function(a,d){d||clearTimeout(this.timer);
this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(c){var d=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded",
"true").position(d)},collapseAll:function(c,d){clearTimeout(this.timer);this.timer=this._delay(function(){var b=d?this.element:a(c&&c.target).closest(this.element.find(".ui-menu"));b.length||(b=this.element);this._close(b);this.blur(c);this.activeMenu=b},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var d=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);d&&d.length&&(this._close(),this.focus(a,d))},expand:function(a){var d=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();d&&d.length&&(this._open(d.parent()),this._delay(function(){this.focus(a,d)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(a,d,b){var e;this.active&&(e="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));e&&e.length&&this.active||(e=this.activeMenu.children(".ui-menu-item")[d]());this.focus(b,e)},nextPage:function(c){var d,b,e;this.active?this.isLastItem()||(this._hasScroll()?(b=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){d=
a(this);return 0>d.offset().top-b-e}),this.focus(c,d)):this.focus(c,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(c)},previousPage:function(c){var d,b,e;this.active?this.isFirstItem()||(this._hasScroll()?(b=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){d=a(this);return 0<d.offset().top-b+e}),this.focus(c,d)):this.focus(c,this.activeMenu.children(".ui-menu-item").first())):this.next(c)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,d)}})})(jQuery);
(function(a,g){a.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(a){if(a===g)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){a===g&&(a=this.options.value);this.indeterminate=!1===a;"number"!==typeof a&&(a=0);return this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var d=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(d);this._refreshValue()},_setOption:function(a,d){"max"===
a&&(d=Math.max(this.min,d));this._super(a,d)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var c=this.options.value,d=this._percentage();this.valueDiv.toggle(this.indeterminate||c>this.min).toggleClass("ui-corner-right",c===this.options.max).width(d.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":c}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==c&&(this.oldValue=c,this._trigger("change"));c===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(a,g){a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var c,d;c=this.options;var b=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e=[];d=c.values&&c.values.length||1;b.length>d&&(b.slice(d).remove(),b=b.slice(0,d));for(c=b.length;c<d;c++)e.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=b.add(a(e.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var c=this.options,d="";c.range?(!0===c.range&&(c.values?c.values.length&&2!==c.values.length?c.values=[c.values[0],c.values[0]]:a.isArray(c.values)&&(c.values=c.values.slice(0)):c.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=a("<div></div>").appendTo(this.element),d="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(d+("min"===c.range||"max"===c.range?" ui-slider-range-"+c.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a);this._on(a,this._handleEvents);this._hoverable(a);this._focusable(a)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(c){var d,b,e,f,g,h=this,l=this.options;if(l.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();d=this._normValueFromMouse({x:c.pageX,y:c.pageY});b=this._valueMax()-this._valueMin()+1;this.handles.each(function(c){var g=Math.abs(d-h.values(c));if(b>g||b===g&&(c===h._lastChangedValue||h.values(c)===l.min))b=g,e=a(this),f=c});if(!1===this._start(c,f))return!1;this._mouseSliding=
!0;this._handleIndex=f;e.addClass("ui-state-active").focus();g=e.offset();this._clickOffset=a(c.target).parents().addBack().is(".ui-slider-handle")?{left:c.pageX-g.left-e.width()/2,top:c.pageY-g.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(c,f,d);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var d=
this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,d);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var d;"horizontal"===this.orientation?(d=this.elementSize.width,
a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(d=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));d=a/d;1<d&&(d=1);0>d&&(d=0);"vertical"===this.orientation&&(d=1-d);a=this._valueMax()-this._valueMin();d=this._valueMin()+d*a;return this._trimAlignValue(d)},_start:function(a,d){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());
return this._trigger("start",a,b)},_slide:function(a,d,b){var e;this.options.values&&this.options.values.length?(e=this.values(d?0:1),2===this.options.values.length&&!0===this.options.range&&(0===d&&b>e||1===d&&b<e)&&(b=e),b!==this.values(d)&&(e=this.values(),e[d]=b,a=this._trigger("slide",a,{handle:this.handles[d],value:b,values:e}),this.values(d?0:1),!1!==a&&this.values(d,b))):b!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[d],value:b}),!1!==a&&this.value(b))},_stop:function(a,
d){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());this._trigger("stop",a,b)},_change:function(a,d){if(!this._keySliding&&!this._mouseSliding){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());this._lastChangedValue=d;this._trigger("change",a,b)}},value:function(a){if(arguments.length)this.options.value=
this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(c,d){var b,e,f;if(1<arguments.length)this.options.values[c]=this._trimAlignValue(d),this._refreshValue(),this._change(null,c);else if(arguments.length)if(a.isArray(arguments[0])){b=this.options.values;e=arguments[0];for(f=0;f<b.length;f+=1)b[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(c):this.value();
else return this._values()},_setOption:function(c,d){var b,e=0;"range"===c&&!0===this.options.range&&("min"===d?(this.options.value=this._values(0),this.options.values=null):"max"===d&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(e=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(c){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(b=0;b<e;b+=1)this._change(null,b);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},
_values:function(a){var d,b;if(arguments.length)return d=this.options.values[a],d=this._trimAlignValue(d);if(this.options.values&&this.options.values.length){d=this.options.values.slice();for(b=0;b<d.length;b+=1)d[b]=this._trimAlignValue(d[b]);return d}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var d=0<this.options.step?this.options.step:1,b=(a-this._valueMin())%d;a-=b;2*Math.abs(b)>=d&&(a+=0<b?d:-d);return parseFloat(a.toFixed(5))},
_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var c,d,b,e,f,g=this.options.range,h=this.options,l=this,m=this._animateOff?!1:h.animate,p={};if(this.options.values&&this.options.values.length)this.handles.each(function(b){d=(l.values(b)-l._valueMin())/(l._valueMax()-l._valueMin())*100;p["horizontal"===l.orientation?"left":"bottom"]=d+"%";a(this).stop(1,1)[m?"animate":"css"](p,h.animate);if(!0===l.options.range)if("horizontal"===
l.orientation){if(0===b)l.range.stop(1,1)[m?"animate":"css"]({left:d+"%"},h.animate);if(1===b)l.range[m?"animate":"css"]({width:d-c+"%"},{queue:!1,duration:h.animate})}else{if(0===b)l.range.stop(1,1)[m?"animate":"css"]({bottom:d+"%"},h.animate);if(1===b)l.range[m?"animate":"css"]({height:d-c+"%"},{queue:!1,duration:h.animate})}c=d});else{b=this.value();e=this._valueMin();f=this._valueMax();d=f!==e?(b-e)/(f-e)*100:0;p["horizontal"===this.orientation?"left":"bottom"]=d+"%";this.handle.stop(1,1)[m?"animate":
"css"](p,h.animate);if("min"===g&&"horizontal"===this.orientation)this.range.stop(1,1)[m?"animate":"css"]({width:d+"%"},h.animate);if("max"===g&&"horizontal"===this.orientation)this.range[m?"animate":"css"]({width:100-d+"%"},{queue:!1,duration:h.animate});if("min"===g&&"vertical"===this.orientation)this.range.stop(1,1)[m?"animate":"css"]({height:d+"%"},h.animate);if("max"===g&&"vertical"===this.orientation)this.range[m?"animate":"css"]({height:100-d+"%"},{queue:!1,duration:h.animate})}},_handleEvents:{keydown:function(c){var d,
b,e,f=a(c.target).data("ui-slider-handle-index");switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),d=this._start(c,f),!1===d))return}e=this.options.step;d=this.options.values&&this.options.values.length?b=this.values(f):b=this.value();switch(c.keyCode){case a.ui.keyCode.HOME:b=
this._valueMin();break;case a.ui.keyCode.END:b=this._valueMax();break;case a.ui.keyCode.PAGE_UP:b=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:b=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(d===this._valueMax())return;b=this._trimAlignValue(d+e);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d===this._valueMin())return;b=this._trimAlignValue(d-e)}this._slide(c,f,b)},click:function(a){a.preventDefault()},
keyup:function(c){var d=a(c.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(c,d),this._change(c,d),a(c.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(a){function g(a){return function(){var d=this.element.val();a.apply(this,arguments);this._refresh();d!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},d=this.element;a.each(["min","max","step"],function(a,e){var f=d.attr(e);void 0!==f&&f.length&&(c[e]=f)});return c},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},
keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a))},mousewheel:function(a,d){if(d){if(!this.spinning&&!this._start(a))return!1;this._spin((0<d?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(c){function d(){this.element[0]!==
this.document[0].activeElement&&(this.element.focus(),this.previous=b,this._delay(function(){this.previous=b}))}var b;b=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();c.preventDefault();d.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;d.call(this)});!1!==this._start(c)&&this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(a(c.currentTarget).hasClass("ui-state-active")){if(!1===
this._start(c))return!1;this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(0.5*a.height())&&0<a.height()&&
a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(c){var d=this.options,b=a.ui.keyCode;switch(c.keyCode){case b.UP:return this._repeat(null,1,c),!0;case b.DOWN:return this._repeat(null,-1,c),!0;case b.PAGE_UP:return this._repeat(null,d.page,c),!0;case b.PAGE_DOWN:return this._repeat(null,-d.page,c),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){if(!this.spinning&&!1===this._trigger("start",a))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(a,d,b){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,d,b)},a);this._spin(d*this.options.step,b)},_spin:function(a,d){var b=this.value()||0;this.counter||
(this.counter=1);b=this._adjustValue(b+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",d,{value:b})||(this._value(b),this.counter++)},_increment:function(c){var d=this.options.incremental;return d?a.isFunction(d)?d(c):Math.floor(c*c*c/5E4-c*c/500+17*c/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){a=a.toString();var d=a.indexOf(".");
return-1===d?0:a.length-d-1},_adjustValue:function(a){var d,b=this.options;d=null!==b.min?b.min:0;a=Math.round((a-d)/b.step)*b.step;a=d+a;a=parseFloat(a.toFixed(this._precision()));return null!==b.max&&a>b.max?b.max:null!==b.min&&a<b.min?b.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,d){if("culture"===a||"numberFormat"===a){var b=this._parse(this.element.val());this.options[a]=
d;this.element.val(this._format(b))}else"max"!==a&&"min"!==a&&"step"!==a||"string"!==typeof d||(d=this._parse(d)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(d.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(d.down)),this._super(a,d),"disabled"===a&&(d?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:g(function(a){this._super(a);
this._value(this.element.val())}),_parse:function(a){"string"===typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a);return""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(a,d){var b;""!==a&&(b=this._parse(a),null!==b&&(d||(b=this._adjustValue(b)),a=this._format(b)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:g(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),
this._stop())},stepDown:g(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:g(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:g(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());g(this._value).call(this,a)},widget:function(){return this.uiSpinner}})})(jQuery);
(function(a,g){function c(a){a=a.cloneNode(!1);return 1<a.hash.length&&decodeURIComponent(a.href.replace(b,""))===decodeURIComponent(location.href.replace(b,""))}var d=0,b=/#.*$/;a.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();c.active=this._initialActive();a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&
this.anchors.length?this._findActive(c.active):a();this._refresh();this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);null===b&&(d&&this.tabs.each(function(c,f){if(a(f).attr("aria-controls")===d)return b=c,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b)&&(b=this.tabs.length?0:!1);!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=c?!1:0));!c&&!1===b&&this.anchors.length&&
(b=0);return b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),g=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:g=!1;d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:b.preventDefault();
clearTimeout(this.activating);this._activate(d);return;case a.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(d===this.options.active?!1:d);return;default:return}b.preventDefault();clearTimeout(this.activating);d=this._focusNextTab(d,g);b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){!this._handlePageNav(b)&&b.ctrlKey&&b.keyCode===
a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,c){function d(){b>g&&(b=0);0>b&&(b=g);return b}for(var g=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,
b){a=this._findNextTab(a,b);this.tabs.eq(a).focus();return a},_setOption:function(a,b){"active"===a?this._activate(b):"disabled"===a?this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++d},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)});this._processTabs();!1!==b.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a());this._refresh()},
_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
a();this.anchors.each(function(f,d){var g,l,m,p=a(d).uniqueId().attr("id"),s=a(d).closest("li"),r=s.attr("aria-controls");c(d)?(g=d.hash,l=b.element.find(b._sanitizeSelector(g))):(m=b._tabId(s),g="#"+m,l=b.element.find(g),l.length||(l=b._createPanel(m),l.insertAfter(b.panels[f-1]||b.tablist)),l.attr("aria-live","polite"));l.length&&(b.panels=b.panels.add(l));r&&s.data("ui-tabs-aria-controls",r);s.attr({"aria-controls":g.substring(1),"aria-labelledby":p});l.attr("aria-labelledby",p)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c=0,d;d=this.tabs[c];c++)!0===b||-1!==a.inArray(c,b)?a(d).addClass("ui-state-disabled").attr("aria-disabled","true"):a(d).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,c);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var b=a(this),e=b.css("position");"absolute"!==e&&"fixed"!==e&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,
g=a(b.currentTarget).closest("li"),l=g[0]===d[0],m=l&&c.collapsible,p=m?a():this._getPanelForTab(g),s=d.length?this._getPanelForTab(d):a(),d={oldTab:d,oldPanel:s,newTab:m?a():g,newPanel:p};b.preventDefault();g.hasClass("ui-state-disabled")||g.hasClass("ui-tabs-loading")||this.running||l&&!c.collapsible||!1===this._trigger("beforeActivate",b,d)||(c.active=m?!1:this.tabs.index(g),this.active=l?a():g,this.xhr&&this.xhr.abort(),s.length||p.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),
p.length&&this.load(this.tabs.index(g),b),this._toggle(b,d))},_toggle:function(b,c){function d(){l.running=!1;l._trigger("activate",b,c)}function g(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active");m.length&&l.options.show?l._show(m,l.options.show,d):(m.show(),d())}var l=this,m=c.newPanel,p=c.oldPanel;this.running=!0;p.length&&this.options.hide?this._hide(p,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");g()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
p.hide(),g());p.attr({"aria-expanded":"false","aria-hidden":"true"});c.oldTab.attr("aria-selected","false");m.length&&p.length?c.oldTab.attr("tabIndex",-1):m.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);m.attr({"aria-expanded":"true","aria-hidden":"false"});c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']")));return a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");
c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var c=this.options.disabled;!1!==c&&(b===g?c=!1:(b=this._getIndex(b),c=a.isArray(c)?a.map(c,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,c){return c!==b?c:null})),this._setupDisabled(c))},disable:function(b){var c=this.options.disabled;if(!0!==c){if(b===g)c=!0;else{b=this._getIndex(b);
if(-1!==a.inArray(b,c))return;c=a.isArray(c)?a.merge([b],c).sort():[b]}this._setupDisabled(c)}},load:function(b,f){b=this._getIndex(b);var d=this,g=this.tabs.eq(b),l=g.find(".ui-tabs-anchor"),m=this._getPanelForTab(g),p={tab:g,panel:m};c(l[0])||(this.xhr=a.ajax(this._ajaxSettings(l,f,p)))&&"canceled"!==this.xhr.statusText&&(g.addClass("ui-tabs-loading"),m.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){m.html(a);d._trigger("load",f,p)},1)}).complete(function(a,b){setTimeout(function(){"abort"===
b&&d.panels.stop(!1,!0);g.removeClass("ui-tabs-loading");m.removeAttr("aria-busy");a===d.xhr&&delete d.xhr},1)}))},_ajaxSettings:function(b,c,d){var g=this;return{url:b.attr("href"),beforeSend:function(b,e){return g._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:e},d))}}},_getPanelForTab:function(b){b=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})})(jQuery);
(function(a){function g(b,e){var c=(b.attr("aria-describedby")||"").split(/\s+/);c.push(e);b.data("ui-tooltip-id",e).attr("aria-describedby",a.trim(c.join(" ")))}function c(b){var e=b.data("ui-tooltip-id"),c=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(e,c);-1!==e&&c.splice(e,1);b.removeData("ui-tooltip-id");(c=a.trim(c.join(" ")))?b.attr("aria-describedby",c):b.removeAttr("aria-describedby")}var d=0;a.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var b=a(this).attr("title")||
"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(b,e){var c=this;"disabled"===b?(this[e?"_disable":"_enable"](),this.options[b]=e):(this._super(b,e),"content"===b&&a.each(this.tooltips,function(a,
b){c._updateContent(b)}))},_disable:function(){var b=this;a.each(this.tooltips,function(e,c){var d=a.Event("blur");d.target=d.currentTarget=c[0];b.close(d,!0)});this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var e=
this,c=a(b?b.target:this.element).closest(this.options.items);c.length&&!c.data("ui-tooltip-id")&&(c.attr("title")&&c.data("ui-tooltip-title",c.attr("title")),c.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&c.parents().each(function(){var b=a(this),c;b.data("ui-tooltip-open")&&(c=a.Event("blur"),c.target=c.currentTarget=this,e.close(c,!0));b.attr("title")&&(b.uniqueId(),e.parents[this.id]={element:this,title:b.attr("title")},b.attr("title",""))}),this._updateContent(c,b))},_updateContent:function(a,
e){var c;c=this.options.content;var d=this,g=e?e.type:null;if("string"===typeof c)return this._open(e,a,c);(c=c.call(a[0],function(c){a.data("ui-tooltip-open")&&d._delay(function(){e&&(e.type=g);this._open(e,a,c)})}))&&this._open(e,a,c)},_open:function(b,e,c){function d(a){m.of=a;h.is(":hidden")||h.position(m)}var h,l,m=a.extend({},this.options.position);c&&(h=this._find(e),h.length?h.find(".ui-tooltip-content").html(c):(e.is("[title]")&&(b&&"mouseover"===b.type?e.attr("title",""):e.removeAttr("title")),
h=this._tooltip(e),g(e,h.attr("id")),h.find(".ui-tooltip-content").html(c),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:d}),d(b)):h.position(a.extend({of:e},this.options.position)),h.hide(),this._show(h,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){h.is(":visible")&&(d(m.of),clearInterval(l))},a.fx.interval)),this._trigger("open",b,{tooltip:h}),c={keyup:function(b){b.keyCode===a.ui.keyCode.ESCAPE&&(b=a.Event(b),
b.currentTarget=e[0],this.close(b,!0))},remove:function(){this._removeTooltip(h)}},b&&"mouseover"!==b.type||(c.mouseleave="close"),b&&"focusin"!==b.type||(c.focusout="close"),this._on(!0,e,c)))},close:function(b){var e=this,d=a(b?b.currentTarget:this.element),g=this._find(d);this.closing||(clearInterval(this.delayedShow),d.data("ui-tooltip-title")&&d.attr("title",d.data("ui-tooltip-title")),c(d),g.stop(!0),this._hide(g,this.options.hide,function(){e._removeTooltip(a(this))}),d.removeData("ui-tooltip-open"),
this._off(d,"mouseleave focusout keyup"),d[0]!==this.element[0]&&this._off(d,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title);delete e.parents[b]}),this.closing=!0,this._trigger("close",b,{tooltip:g}),this.closing=!1)},_tooltip:function(b){var e="ui-tooltip-"+d++,c=a("<div>").attr({id:e,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));a("<div>").addClass("ui-tooltip-content").appendTo(c);
c.appendTo(this.document[0].body);this.tooltips[e]=b;return c},_find:function(b){return(b=b.data("ui-tooltip-id"))?a("#"+b):a()},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(e,c){var d=a.Event("blur");d.target=d.currentTarget=c[0];b.close(d,!0);a("#"+e).remove();c.data("ui-tooltip-title")&&(c.attr("title",c.data("ui-tooltip-title")),c.removeData("ui-tooltip-title"))})}})})(jQuery);
(function(a,g){a.effects={effect:{}};(function(a,d){function b(a,b,e){var c=p[b.type]||{};if(null==a)return e||!b.def?null:b.def;a=c.floor?~~a:parseFloat(a);return isNaN(a)?b.def:c.mod?(a+c.mod)%c.mod:0>a?0:c.max<a?c.max:a}function e(b){var e=l(),d=e._rgba=[];b=b.toLowerCase();u(h,function(a,c){var f,g=c.re.exec(b);f=g&&c.parse(g);g=c.space||"rgba";if(f)return f=e[g](f),e[m[g].cache]=f[m[g].cache],d=e._rgba=f._rgba,!1});return d.length?("0,0,0,0"===d.join()&&a.extend(d,q.transparent),e):q[b]}function f(a,
b,e){e=(e+1)%1;return 1>6*e?a+(b-a)*e*6:1>2*e?b:2>3*e?a+(b-a)*(2/3-e)*6:a}var g=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],l=a.Color=function(b,e,d,f){return new a.Color.fn.parse(b,e,d,f)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},s=l.support={},r=a("<p>")[0],q,u=a.each;r.style.cssText="background-color:rgba(1,1,1,.5)";s.rgba=-1<r.style.backgroundColor.indexOf("rgba");u(m,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});l.fn=a.extend(l.prototype,{parse:function(f,g,k,h){if(f===d)return this._rgba=[null,null,
null,null],this;if(f.jquery||f.nodeType)f=a(f).css(g),g=d;var p=this,r=a.type(f),s=this._rgba=[];g!==d&&(f=[f,g,k,h],r="array");if("string"===r)return this.parse(e(f)||q._default);if("array"===r)return u(m.rgba.props,function(a,e){s[e.idx]=b(f[e.idx],e)}),this;if("object"===r)return f instanceof l?u(m,function(a,b){f[b.cache]&&(p[b.cache]=f[b.cache].slice())}):u(m,function(e,d){var g=d.cache;u(d.props,function(a,e){if(!p[g]&&d.to){if("alpha"===a||null==f[a])return;p[g]=d.to(p._rgba)}p[g][e.idx]=b(f[a],
e,!0)});p[g]&&0>a.inArray(null,p[g].slice(0,3))&&(p[g][3]=1,d.from&&(p._rgba=d.from(p[g])))}),this},is:function(a){var b=l(a),e=!0,c=this;u(m,function(a,d){var f,g=b[d.cache];g&&(f=c[d.cache]||d.to&&d.to(c._rgba)||[],u(d.props,function(a,b){if(null!=g[b.idx])return e=g[b.idx]===f[b.idx]}));return e});return e},_space:function(){var a=[],b=this;u(m,function(e,c){b[c.cache]&&a.push(e)});return a.pop()},transition:function(a,e){var c=l(a),d=c._space(),f=m[d],g=0===this.alpha()?l("transparent"):this,
k=g[f.cache]||f.to(g._rgba),h=k.slice(),c=c[f.cache];u(f.props,function(a,d){var f=d.idx,g=k[f],m=c[f],l=p[d.type]||{};null!==m&&(null===g?h[f]=m:(l.mod&&(m-g>l.mod/2?g+=l.mod:g-m>l.mod/2&&(g-=l.mod)),h[f]=b((m-g)*e+g,d)))});return this[d](h)},blend:function(b){if(1===this._rgba[3])return this;var e=this._rgba.slice(),d=e.pop(),f=l(b)._rgba;return l(a.map(e,function(a,b){return(1-d)*f[b]+d*a}))},toRgbaString:function(){var b="rgba(",e=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});1===
e[3]&&(e.pop(),b="rgb(");return b+e.join()+")"},toHslaString:function(){var b="hsla(",e=a.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===e[3]&&(e.pop(),b="hsl(");return b+e.join()+")"},toHexString:function(b){var e=this._rgba.slice(),d=e.pop();b&&e.push(~~(255*d));return"#"+a.map(e,function(a){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});l.fn.parse.prototype=
l.fn;m.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,e=a[1]/255,c=a[2]/255;a=a[3];var d=Math.max(b,e,c),f=Math.min(b,e,c),g=d-f,k=d+f,h=0.5*k,k=0===g?0:0.5>=h?g/k:g/(2-k);return[Math.round(f===d?0:b===d?60*(e-c)/g+360:e===d?60*(c-b)/g+120:60*(b-e)/g+240)%360,k,h,null==a?1:a]};m.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,e=a[1],c=a[2];a=a[3];e=0.5>=c?c*(1+e):c+e-c*e;c=2*c-e;return[Math.round(255*
f(c,e,b+1/3)),Math.round(255*f(c,e,b)),Math.round(255*f(c,e,b-1/3)),a]};u(m,function(e,f){var h=f.props,m=f.cache,p=f.to,q=f.from;l.fn[e]=function(e){p&&!this[m]&&(this[m]=p(this._rgba));if(e===d)return this[m].slice();var f,g=a.type(e),k="array"===g||"object"===g?e:arguments,r=this[m].slice();u(h,function(a,e){var c=k["object"===g?a:e.idx];null==c&&(c=r[e.idx]);r[e.idx]=b(c,e)});return q?(f=l(q(r)),f[m]=r,f):l(r)};u(h,function(b,d){l.fn[b]||(l.fn[b]=function(f){var h=a.type(f),m="alpha"===b?this._hsla?
"hsla":"rgba":e,l=this[m](),p=l[d.idx];if("undefined"===h)return p;"function"===h&&(f=f.call(this,p),h=a.type(f));if(null==f&&d.empty)return this;"string"===h&&(h=g.exec(f))&&(f=p+parseFloat(h[2])*("+"===h[1]?1:-1));l[d.idx]=f;return this[m](l)})})});l.hook=function(b){b=b.split(" ");u(b,function(b,d){a.cssHooks[d]={set:function(b,f){var g,k="";if("transparent"!==f&&("string"!==a.type(f)||(g=e(f)))){f=l(g||f);if(!s.rgba&&1!==f._rgba[3]){for(g="backgroundColor"===d?b.parentNode:b;(""===k||"transparent"===
k)&&g&&g.style;)try{k=a.css(g,"backgroundColor"),g=g.parentNode}catch(h){}f=f.blend(k&&"transparent"!==k?k:"_default")}f=f.toRgbaString()}try{b.style[d]=f}catch(m){}}};a.fx.step[d]=function(b){b.colorInit||(b.start=l(b.elem,d),b.end=l(b.end),b.colorInit=!0);a.cssHooks[d].set(b.elem,b.start.transition(b.end,b.pos))}})};l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor=
{expand:function(a){var b={};u(["Top","Right","Bottom","Left"],function(e,c){b["border"+c+"Color"]=a});return b}};q=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function c(b){var c,d=b.ownerDocument.defaultView?
b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,g={};if(d&&d.length&&d[0]&&d[d[0]])for(b=d.length;b--;)c=d[b],"string"===typeof d[c]&&(g[a.camelCase(c)]=d[c]);else for(c in d)"string"===typeof d[c]&&(g[c]=d[c]);return g}var d=["add","remove","toggle"],b={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){if("none"!==
a.end&&!a.setAttr||1===a.pos&&!a.setAttr)jQuery.style(a.elem,c,a.end),a.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(e,f,g,h){var l=a.speed(f,g,h);return this.queue(function(){var f=a(this),g=f.attr("class")||"",k,h=l.children?f.find("*").addBack():f,h=h.map(function(){return{el:a(this),start:c(this)}});k=function(){a.each(d,function(a,b){if(e[b])f[b+"Class"](e[b])})};k();h=h.map(function(){this.end=
c(this.el[0]);var e=this.start,d=this.end,f={},g,k;for(g in d)k=d[g],e[g]===k||b[g]||!a.fx.step[g]&&isNaN(parseFloat(k))||(f[g]=k);this.diff=f;return this});f.attr("class",g);h=h.map(function(){var b=this,e=a.Deferred(),c=a.extend({},l,{queue:!1,complete:function(){e.resolve(b)}});this.el.animate(this.diff,c);return e.promise()});a.when.apply(a,h.get()).done(function(){k();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});l.complete.call(f[0])})})};a.fn.extend({addClass:function(b){return function(c,
d,g,l){return d?a.effects.animateClass.call(this,{add:c},d,g,l):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,g,l){return 1<arguments.length?a.effects.animateClass.call(this,{remove:c},d,g,l):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(c,d,h,l,m){return"boolean"===typeof d||d===g?h?a.effects.animateClass.call(this,d?{add:c}:{remove:c},h,l,m):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:c},d,h,l)}}(a.fn.toggleClass),
switchClass:function(b,c,d,g,l){return a.effects.animateClass.call(this,{add:c,remove:b},d,g,l)}})})();(function(){function c(b,e,c,d){a.isPlainObject(b)&&(e=b,b=b.effect);b={effect:b};null==e&&(e={});a.isFunction(e)&&(d=e,c=null,e={});if("number"===typeof e||a.fx.speeds[e])d=c,c=e,e={};a.isFunction(c)&&(d=c,c=null);e&&a.extend(b,e);c=c||e.duration;b.duration=a.fx.off?0:"number"===typeof c?c:c in a.fx.speeds?a.fx.speeds[c]:a.fx.speeds._default;b.complete=d||e.complete;return b}function d(b){return!b||
"number"===typeof b||a.fx.speeds[b]||"string"===typeof b&&!a.effects.effect[b]||a.isFunction(b)||"object"===typeof b&&!b.effect?!0:!1}a.extend(a.effects,{version:"1.10.4",save:function(a,e){for(var c=0;c<e.length;c++)null!==e[c]&&a.data("ui-effects-"+e[c],a[0].style[e[c]])},restore:function(a,e){var c,d;for(d=0;d<e.length;d++)null!==e[d]&&(c=a.data("ui-effects-"+e[d]),c===g&&(c=""),a.css(e[d],c))},setMode:function(a,c){"toggle"===c&&(c=a.is(":hidden")?"show":"hide");return c},getBaseline:function(a,
c){var d,g;switch(a[0]){case "top":d=0;break;case "middle":d=0.5;break;case "bottom":d=1;break;default:d=a[0]/c.height}switch(a[1]){case "left":g=0;break;case "center":g=0.5;break;case "right":g=1;break;default:g=a[1]/c.width}return{x:g,y:d}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",
border:"none",margin:0,padding:0}),g={width:b.width(),height:b.height()},h=document.activeElement;try{h.id}catch(l){h=document.body}b.wrap(d);(b[0]===h||a.contains(b[0],h))&&a(h).focus();d=b.parent();"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d);isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,
right:"auto",bottom:"auto"}));b.css(g);return d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus());return b},setTransition:function(b,c,d,g){g=g||{};a.each(c,function(a,c){var e=b.cssUnit(c);0<e[0]&&(g[c]=e[0]*d+e[1])});return g}});a.fn.extend({effect:function(){function b(b){function c(){a.isFunction(f)&&f.call(d[0]);a.isFunction(b)&&b()}var d=a(this),f=e.complete,g=e.mode;
(d.is(":hidden")?"hide"===g:"show"===g)?(d[g](),c()):h.call(d[0],e,c)}var e=c.apply(this,arguments),d=e.mode,g=e.queue,h=a.effects.effect[e.effect];return a.fx.off||!h?d?this[d](e.duration,e.complete):this.each(function(){e.complete&&e.complete.call(this)}):!1===g?this.each(b):this.queue(g||"fx",b)},show:function(a){return function(e){if(d(e))return a.apply(this,arguments);var f=c.apply(this,arguments);f.mode="show";return this.effect.call(this,f)}}(a.fn.show),hide:function(a){return function(e){if(d(e))return a.apply(this,
arguments);var f=c.apply(this,arguments);f.mode="hide";return this.effect.call(this,f)}}(a.fn.hide),toggle:function(a){return function(e){if(d(e)||"boolean"===typeof e)return a.apply(this,arguments);var f=c.apply(this,arguments);f.mode="toggle";return this.effect.call(this,f)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];a.each(["em","px","%","pt"],function(a,b){0<c.indexOf(b)&&(d=[parseFloat(c),b])});return d}})})();(function(){var c={};a.each(["Quad","Cubic","Quart","Quint","Expo"],
function(a,b){c[b]=function(b){return Math.pow(b,a+2)}});a.extend(c,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}});a.each(c,function(c,b){a.easing["easeIn"+c]=b;a.easing["easeOut"+c]=function(a){return 1-
b(1-a)};a.easing["easeInOut"+c]=function(a){return 0.5>a?b(2*a)/2:1-b(-2*a+2)/2}})})()})(jQuery);
(function(a,g){var c=/up|down|vertical/,d=/up|left|vertical|horizontal/;a.effects.effect.blind=function(b,e){var f=a(this),g="position top bottom left right height width".split(" "),h=a.effects.setMode(f,b.mode||"hide"),l=b.direction||"up",m=c.test(l),p=m?"height":"width",s=m?"top":"left",l=d.test(l),r={},q="show"===h,u,v,x;f.parent().is(".ui-effects-wrapper")?a.effects.save(f.parent(),g):a.effects.save(f,g);f.show();u=a.effects.createWrapper(f).css({overflow:"hidden"});v=u[p]();x=parseFloat(u.css(s))||
0;r[p]=q?v:0;l||(f.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),r[s]=q?x:v+x);q&&(u.css(p,0),l||u.css(s,x+v));u.animate(r,{duration:b.duration,easing:b.easing,queue:!1,complete:function(){"hide"===h&&f.hide();a.effects.restore(f,g);a.effects.removeWrapper(f);e()}})}})(jQuery);
(function(a,g){a.effects.effect.bounce=function(c,d){var b=a(this),e="position top bottom left right height width".split(" "),f=a.effects.setMode(b,c.mode||"effect"),g="hide"===f,h="show"===f,l=c.direction||"up",f=c.distance,m=c.times||5,p=2*m+(h||g?1:0),s=c.duration/p,r=c.easing,q="up"===l||"down"===l?"top":"left",l="up"===l||"left"===l,u,v,x=b.queue(),z=x.length;(h||g)&&e.push("opacity");a.effects.save(b,e);b.show();a.effects.createWrapper(b);f||(f=b["top"===q?"outerHeight":"outerWidth"]()/3);h&&
(v={opacity:1},v[q]=0,b.css("opacity",0).css(q,l?2*-f:2*f).animate(v,s,r));g&&(f/=Math.pow(2,m-1));v={};for(h=v[q]=0;h<m;h++)u={},u[q]=(l?"-=":"+=")+f,b.animate(u,s,r).animate(v,s,r),f=g?2*f:f/2;g&&(u={opacity:0},u[q]=(l?"-=":"+=")+f,b.animate(u,s,r));b.queue(function(){g&&b.hide();a.effects.restore(b,e);a.effects.removeWrapper(b);d()});1<z&&x.splice.apply(x,[1,0].concat(x.splice(z,p+1)));b.dequeue()}})(jQuery);
(function(a,g){a.effects.effect.clip=function(c,d){var b=a(this),e="position top bottom left right height width".split(" "),f="show"===a.effects.setMode(b,c.mode||"hide"),g="vertical"===(c.direction||"vertical"),h=g?"height":"width",g=g?"top":"left",l={},m,p;a.effects.save(b,e);b.show();m=a.effects.createWrapper(b).css({overflow:"hidden"});m="IMG"===b[0].tagName?m:b;p=m[h]();f&&(m.css(h,0),m.css(g,p/2));l[h]=f?p:0;l[g]=f?0:p/2;m.animate(l,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){f||
b.hide();a.effects.restore(b,e);a.effects.removeWrapper(b);d()}})}})(jQuery);
(function(a,g){a.effects.effect.drop=function(c,d){var b=a(this),e="position top bottom left right opacity height width".split(" "),f=a.effects.setMode(b,c.mode||"hide"),g="show"===f,h=c.direction||"left",l="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h?"pos":"neg",m={opacity:g?1:0},p;a.effects.save(b,e);b.show();a.effects.createWrapper(b);p=c.distance||b["top"===l?"outerHeight":"outerWidth"](!0)/2;g&&b.css("opacity",0).css(l,"pos"===h?-p:p);m[l]=(g?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+
p;b.animate(m,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===f&&b.hide();a.effects.restore(b,e);a.effects.removeWrapper(b);d()}})}})(jQuery);
(function(a,g){a.effects.effect.explode=function(c,d){function b(){s.push(this);s.length===e*f&&(g.css({visibility:"visible"}),a(s).remove(),h||g.hide(),d())}var e=c.pieces?Math.round(Math.sqrt(c.pieces)):3,f=e,g=a(this),h="show"===a.effects.setMode(g,c.mode||"hide"),l=g.show().css("visibility","hidden").offset(),m=Math.ceil(g.outerWidth()/f),p=Math.ceil(g.outerHeight()/e),s=[],r,q,u,v,x,z;for(r=0;r<e;r++)for(v=l.top+r*p,z=r-(e-1)/2,q=0;q<f;q++)u=l.left+q*m,x=q-(f-1)/2,g.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-q*m,top:-r*p}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:p,left:u+(h?x*m:0),top:v+(h?z*p:0),opacity:h?0:1}).animate({left:u+(h?0:x*m),top:v+(h?0:z*p),opacity:h?1:0},c.duration||500,c.easing,b)}})(jQuery);(function(a,g){a.effects.effect.fade=function(c,d){var b=a(this),e=a.effects.setMode(b,c.mode||"toggle");b.animate({opacity:e},{queue:!1,duration:c.duration,easing:c.easing,complete:d})}})(jQuery);
(function(a,g){a.effects.effect.fold=function(c,d){var b=a(this),e="position top bottom left right height width".split(" "),f=a.effects.setMode(b,c.mode||"hide"),g="show"===f,h="hide"===f,f=c.size||15,l=/([0-9]+)%/.exec(f),m=!!c.horizFirst,p=g!==m,s=p?["width","height"]:["height","width"],r=c.duration/2,q,u={},v={};a.effects.save(b,e);b.show();q=a.effects.createWrapper(b).css({overflow:"hidden"});p=p?[q.width(),q.height()]:[q.height(),q.width()];l&&(f=parseInt(l[1],10)/100*p[h?0:1]);g&&q.css(m?{height:0,
width:f}:{height:f,width:0});u[s[0]]=g?p[0]:f;v[s[1]]=g?p[1]:0;q.animate(u,r,c.easing).animate(v,r,c.easing,function(){h&&b.hide();a.effects.restore(b,e);a.effects.removeWrapper(b);d()})}})(jQuery);
(function(a,g){a.effects.effect.highlight=function(c,d){var b=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(b,c.mode||"show"),g={backgroundColor:b.css("backgroundColor")};"hide"===f&&(g.opacity=0);a.effects.save(b,e);b.show().css({backgroundImage:"none",backgroundColor:c.color||"#ffff99"}).animate(g,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===f&&b.hide();a.effects.restore(b,e);d()}})}})(jQuery);
(function(a,g){a.effects.effect.pulsate=function(c,d){var b=a(this),e=a.effects.setMode(b,c.mode||"show"),f="show"===e,g="hide"===e,e=2*(c.times||5)+(f||"hide"===e?1:0),h=c.duration/e,l=0,m=b.queue(),p=m.length;if(f||!b.is(":visible"))b.css("opacity",0).show(),l=1;for(f=1;f<e;f++)b.animate({opacity:l},h,c.easing),l=1-l;b.animate({opacity:l},h,c.easing);b.queue(function(){g&&b.hide();d()});1<p&&m.splice.apply(m,[1,0].concat(m.splice(p,e+1)));b.dequeue()}})(jQuery);
(function(a,g){a.effects.effect.puff=function(c,d){var b=a(this),e=a.effects.setMode(b,c.mode||"hide"),f="hide"===e,g=parseInt(c.percent,10)||150,h=g/100,l={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};a.extend(c,{effect:"scale",queue:!1,fade:!0,mode:e,complete:d,percent:f?g:100,from:f?l:{height:l.height*h,width:l.width*h,outerHeight:l.outerHeight*h,outerWidth:l.outerWidth*h}});b.effect(c)};a.effects.effect.scale=function(c,d){var b=a(this),e=a.extend(!0,
{},c),f=a.effects.setMode(b,c.mode||"effect"),g=parseInt(c.percent,10)||(0===parseInt(c.percent,10)?0:"hide"===f?0:100),h=c.direction||"both",l=c.origin,m={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()},p="horizontal"!==h?g/100:1,g="vertical"!==h?g/100:1;e.effect="size";e.queue=!1;e.complete=d;"effect"!==f&&(e.origin=l||["middle","center"],e.restore=!0);e.from=c.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:m);e.to={height:m.height*p,width:m.width*
g,outerHeight:m.outerHeight*p,outerWidth:m.outerWidth*g};e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0));b.effect(e)};a.effects.effect.size=function(c,d){var b,e,f,g,h,l,m=a(this),p="position top bottom left right width height overflow opacity".split(" ");h="position top bottom left right overflow opacity".split(" ");var s=["width","height","overflow"],r=["fontSize"],q=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],v=a.effects.setMode(m,c.mode||"effect"),x=c.restore||"effect"!==v,z=c.scale||"both";l=c.origin||["middle","center"];var y=m.css("position"),w=x?p:h,A={height:0,width:0,outerHeight:0,outerWidth:0};"show"===v&&m.show();h={height:m.height(),width:m.width(),outerHeight:m.outerHeight(),outerWidth:m.outerWidth()};"toggle"===c.mode&&"show"===v?(m.from=c.to||A,m.to=c.from||h):(m.from=c.from||("show"===v?A:h),m.to=c.to||("hide"===v?A:h));f=m.from.height/h.height;
g=m.from.width/h.width;b=m.to.height/h.height;e=m.to.width/h.width;if("box"===z||"both"===z)f!==b&&(w=w.concat(q),m.from=a.effects.setTransition(m,q,f,m.from),m.to=a.effects.setTransition(m,q,b,m.to)),g!==e&&(w=w.concat(u),m.from=a.effects.setTransition(m,u,g,m.from),m.to=a.effects.setTransition(m,u,e,m.to));"content"!==z&&"both"!==z||f===b||(w=w.concat(r).concat(s),m.from=a.effects.setTransition(m,r,f,m.from),m.to=a.effects.setTransition(m,r,b,m.to));a.effects.save(m,w);m.show();a.effects.createWrapper(m);
m.css("overflow","hidden").css(m.from);l&&(l=a.effects.getBaseline(l,h),m.from.top=(h.outerHeight-m.outerHeight())*l.y,m.from.left=(h.outerWidth-m.outerWidth())*l.x,m.to.top=(h.outerHeight-m.to.outerHeight)*l.y,m.to.left=(h.outerWidth-m.to.outerWidth)*l.x);m.css(m.from);if("content"===z||"both"===z)q=q.concat(["marginTop","marginBottom"]).concat(r),u=u.concat(["marginLeft","marginRight"]),s=p.concat(q).concat(u),m.find("*[width]").each(function(){var d=a(this),h=d.height(),m=d.width(),l=d.outerHeight(),
p=d.outerWidth();x&&a.effects.save(d,s);d.from={height:h*f,width:m*g,outerHeight:l*f,outerWidth:p*g};d.to={height:h*b,width:m*e,outerHeight:h*b,outerWidth:m*e};f!==b&&(d.from=a.effects.setTransition(d,q,f,d.from),d.to=a.effects.setTransition(d,q,b,d.to));g!==e&&(d.from=a.effects.setTransition(d,u,g,d.from),d.to=a.effects.setTransition(d,u,e,d.to));d.css(d.from);d.animate(d.to,c.duration,c.easing,function(){x&&a.effects.restore(d,s)})});m.animate(m.to,{queue:!1,duration:c.duration,easing:c.easing,
complete:function(){0===m.to.opacity&&m.css("opacity",m.from.opacity);"hide"===v&&m.hide();a.effects.restore(m,w);x||("static"===y?m.css({position:"relative",top:m.to.top,left:m.to.left}):a.each(["top","left"],function(a,b){m.css(b,function(b,c){var e=parseInt(c,10),d=a?m.to.left:m.to.top;return"auto"===c?d+"px":e+d+"px"})}));a.effects.removeWrapper(m);d()}})}})(jQuery);
(function(a,g){a.effects.effect.shake=function(c,d){var b=a(this),e="position top bottom left right height width".split(" "),f=a.effects.setMode(b,c.mode||"effect"),g=c.direction||"left",h=c.distance||20,l=c.times||3,m=2*l+1,p=Math.round(c.duration/m),s="up"===g||"down"===g?"top":"left",r="up"===g||"left"===g,g={},q={},u={},v=b.queue(),x=v.length;a.effects.save(b,e);b.show();a.effects.createWrapper(b);g[s]=(r?"-=":"+=")+h;q[s]=(r?"+=":"-=")+2*h;u[s]=(r?"-=":"+=")+2*h;b.animate(g,p,c.easing);for(h=
1;h<l;h++)b.animate(q,p,c.easing).animate(u,p,c.easing);b.animate(q,p,c.easing).animate(g,p/2,c.easing).queue(function(){"hide"===f&&b.hide();a.effects.restore(b,e);a.effects.removeWrapper(b);d()});1<x&&v.splice.apply(v,[1,0].concat(v.splice(x,m+1)));b.dequeue()}})(jQuery);
(function(a,g){a.effects.effect.slide=function(c,d){var b=a(this),e="position top bottom left right width height".split(" "),f=a.effects.setMode(b,c.mode||"show"),g="show"===f,h=c.direction||"left",l="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h,m,p={};a.effects.save(b,e);b.show();m=c.distance||b["top"===l?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(b).css({overflow:"hidden"});g&&b.css(l,h?isNaN(m)?"-"+m:-m:m);p[l]=(g?h?"+=":"-=":h?"-=":"+=")+m;b.animate(p,{queue:!1,duration:c.duration,
easing:c.easing,complete:function(){"hide"===f&&b.hide();a.effects.restore(b,e);a.effects.removeWrapper(b);d()}})}})(jQuery);
(function(a,g){a.effects.effect.transfer=function(c,d){var b=a(this),e=a(c.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,g=f?g.scrollLeft():0,l=e.offset(),e={top:l.top-h,left:l.left-g,height:e.innerHeight(),width:e.innerWidth()},l=b.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(c.className).css({top:l.top-h,left:l.left-g,height:b.innerHeight(),width:b.innerWidth(),position:f?"fixed":"absolute"}).animate(e,c.duration,c.easing,function(){m.remove();
d()})}})(jQuery);(function(a,g,c){a.fn.jScrollPane=function(d){function b(b,d){function k(d){var f,g,l,n,p,q=!1,r=!1;C=d;if(K===c)n=b.scrollTop(),p=b.scrollLeft(),b.css({overflow:"hidden",padding:0}),U=b.innerWidth()+ka,N=b.innerHeight(),b.width(U),K=a('<div class="jspPane" />').css("padding",Aa).append(b.children()),Q=a('<div class="jspContainer" />').css({width:U+"px",height:N+"px"}).append(K).appendTo(b);else{b.css("width","");q=C.stickToBottom&&D();r=C.stickToRight&&T();if(l=b.innerWidth()+ka!=U||b.outerHeight()!=
N)U=b.innerWidth()+ka,N=b.innerHeight(),Q.css({width:U+"px",height:N+"px"});if(!l&&ya==ha&&K.outerHeight()==ca){b.width(U);return}ya=ha;K.css("width","");b.width(U);Q.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}K.css("overflow","auto");ha=d.contentWidth?d.contentWidth:K[0].scrollWidth;ca=K[0].scrollHeight;K.css("overflow","");qa=ha/U;va=ca/N;W=1<va;if((V=1<qa)||W){b.addClass("jspScrollable");if(d=C.maintainPosition&&(fa||ea))f=H(),g=G();h();m();s();d&&(F(r?ha-U:f,!1),B(q?ca-N:g,!1));
R();Z();I();C.enableKeyboardNavigation&&P();C.clickOnTrack&&v();Y();C.hijackInternalLinks&&J()}else b.removeClass("jspScrollable"),K.css({top:0,left:0,width:Q.width()-ka}),Q.unbind(Qa),K.find(":input,a").unbind("focus.jsp"),b.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),x();C.autoReinitialise&&!wa?wa=setInterval(function(){k(C)},C.autoReinitialiseDelay):!C.autoReinitialise&&wa&&clearInterval(wa);n&&b.scrollTop(0)&&B(n,!1);p&&b.scrollLeft(0)&&F(p,!1);b.trigger("jsp-initialised",
[V||W])}function h(){W&&(Q.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),Fa=Q.find(">.jspVerticalBar"),ga=Fa.find(">.jspTrack"),n=ga.find(">.jspDrag"),C.showArrows&&(Ga=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",q(0,-1)).bind("click.jsp",X),ja=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",
q(0,1)).bind("click.jsp",X),C.arrowScrollOnHover&&(Ga.bind("mouseover.jsp",q(0,-1,Ga)),ja.bind("mouseover.jsp",q(0,1,ja))),r(ga,C.verticalArrowPositions,Ga,ja)),ra=N,Q.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ra-=a(this).outerHeight()}),n.hover(function(){n.addClass("jspHover")},function(){n.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",X);n.addClass("jspActive");var c=b.pageY-n.position().top;a("html").bind("mousemove.jsp",
function(a){y(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",z);return!1}),l())}function l(){ga.height(ra+"px");fa=0;za=C.verticalGutter+ga.outerWidth();K.width(U-za-ka);try{0===Fa.position().left&&K.css("margin-left",za+"px")}catch(a){}}function m(){V&&(Q.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),
Da=Q.find(">.jspHorizontalBar"),na=Da.find(">.jspTrack"),la=na.find(">.jspDrag"),C.showArrows&&(ba=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",q(-1,0)).bind("click.jsp",X),Ea=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",q(1,0)).bind("click.jsp",X),C.arrowScrollOnHover&&(ba.bind("mouseover.jsp",q(-1,0,ba)),Ea.bind("mouseover.jsp",q(1,0,Ea))),r(na,C.horizontalArrowPositions,ba,Ea)),la.hover(function(){la.addClass("jspHover")},function(){la.removeClass("jspHover")}).bind("mousedown.jsp",
function(b){a("html").bind("dragstart.jsp selectstart.jsp",X);la.addClass("jspActive");var c=b.pageX-la.position().left;a("html").bind("mousemove.jsp",function(a){A(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",z);return!1}),da=Q.innerWidth(),p())}function p(){Q.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){da-=a(this).outerWidth()});na.width(da+"px");ea=0}function s(){if(V&&W){var b=na.outerHeight(),c=ga.outerWidth();ra-=b;a(Da).find(">.jspCap:visible,>.jspArrow").each(function(){da+=
a(this).outerWidth()});da-=c;N-=c;U-=b;na.parent().append(a('<div class="jspCorner" />').css("width",b+"px"));l();p()}V&&K.width(Q.outerWidth()-ka+"px");ca=K.outerHeight();va=ca/N;V&&(M=Math.ceil(1/qa*da),M>C.horizontalDragMaxWidth?M=C.horizontalDragMaxWidth:M<C.horizontalDragMinWidth&&(M=C.horizontalDragMinWidth),la.width(M+"px"),ma=da-M,E(ea));W&&(ua=Math.ceil(1/va*ra),ua>C.verticalDragMaxHeight?ua=C.verticalDragMaxHeight:ua<C.verticalDragMinHeight&&(ua=C.verticalDragMinHeight),n.height(ua+"px"),
ia=ra-ua,w(fa))}function r(a,b,c,e){var d="before",f="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split");b==d?f=b:b==f&&(d=b,b=c,c=e,e=b);a[d](c)[f](e)}function q(a,b,c){return function(){u(a,b,this,c);this.blur();return!1}}function u(b,c,e,d){e=a(e).addClass("jspActive");var f,g,k=!0,h=function(){0!==b&&S.scrollByX(b*C.arrowButtonSpeed);0!==c&&S.scrollByY(c*C.arrowButtonSpeed);g=setTimeout(h,k?C.initialDelay:C.arrowRepeatFreq);k=!1};h();f=d?"mouseout.jsp":"mouseup.jsp";d=d||a("html");
d.bind(f,function(){e.removeClass("jspActive");g&&clearTimeout(g);g=null;d.unbind(f)})}function v(){x();W&&ga.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var e=a(this),d=e.offset(),f=b.pageY-d.top-fa,g,k=!0,h=function(){var a=e.offset(),a=b.pageY-a.top-ua/2,c=N*C.scrollPagePercent,d=ia*c/(ca-N);if(0>f)fa-d>a?S.scrollByY(-c):y(a);else if(0<f)fa+d<a?S.scrollByY(c):y(a);else{l();return}g=setTimeout(h,k?C.initialDelay:C.trackClickRepeatFreq);k=!1},l=function(){g&&
clearTimeout(g);g=null;a(document).unbind("mouseup.jsp",l)};h();a(document).bind("mouseup.jsp",l);return!1}});V&&na.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var e=a(this),d=e.offset(),f=b.pageX-d.left-ea,g,k=!0,h=function(){var a=e.offset(),a=b.pageX-a.left-M/2,c=U*C.scrollPagePercent,d=ma*c/(ha-U);if(0>f)ea-d>a?S.scrollByX(-c):A(a);else if(0<f)ea+d<a?S.scrollByX(c):A(a);else{l();return}g=setTimeout(h,k?C.initialDelay:C.trackClickRepeatFreq);k=!1},
l=function(){g&&clearTimeout(g);g=null;a(document).unbind("mouseup.jsp",l)};h();a(document).bind("mouseup.jsp",l);return!1}})}function x(){na&&na.unbind("mousedown.jsp");ga&&ga.unbind("mousedown.jsp")}function z(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");n&&n.removeClass("jspActive");la&&la.removeClass("jspActive")}function y(a,b){W&&(0>a?a=0:a>ia&&(a=ia),b===c&&(b=C.animateScroll),b?S.animate(n,"top",a,w):(n.css("top",a),w(a)))}function w(a){a===
c&&(a=n.position().top);Q.scrollTop(0);fa=a;var d=0===fa,f=fa==ia;a=-(a/ia)*(ca-N);if(Ha!=d||Oa!=f)Ha=d,Oa=f,b.trigger("jsp-arrow-change",[Ha,Oa,Na,Ia]);C.showArrows&&(Ga[d?"addClass":"removeClass"]("jspDisabled"),ja[f?"addClass":"removeClass"]("jspDisabled"));K.css("top",a);b.trigger("jsp-scroll-y",[-a,d,f]).trigger("scroll")}function A(a,b){V&&(0>a?a=0:a>ma&&(a=ma),b===c&&(b=C.animateScroll),b?S.animate(la,"left",a,E):(la.css("left",a),E(a)))}function E(a){a===c&&(a=la.position().left);Q.scrollTop(0);
ea=a;var d=0===ea,f=ea==ma;a=-(a/ma)*(ha-U);if(Na!=d||Ia!=f)Na=d,Ia=f,b.trigger("jsp-arrow-change",[Ha,Oa,Na,Ia]);C.showArrows&&(ba[d?"addClass":"removeClass"]("jspDisabled"),Ea[f?"addClass":"removeClass"]("jspDisabled"));K.css("left",a);b.trigger("jsp-scroll-x",[-a,d,f]).trigger("scroll")}function B(a,b){y(a/(ca-N)*ia,b)}function F(a,b){A(a/(ha-U)*ma,b)}function L(b,c,e){var d,f,g=0,k=0,h,l,m;try{d=a(b)}catch(n){return}f=d.outerHeight();b=d.outerWidth();Q.scrollTop(0);for(Q.scrollLeft(0);!d.is(".jspPane");)if(g+=
d.position().top,k+=d.position().left,d=d.offsetParent(),/^body|html$/i.test(d[0].nodeName))return;d=G();h=d+N;g<d||c?l=g-C.horizontalGutter:g+f>h&&(l=g-N+f+C.horizontalGutter);isNaN(l)||B(l,e);g=H();l=g+U;k<g||c?m=k-C.horizontalGutter:k+b>l&&(m=k-U+b+C.horizontalGutter);isNaN(m)||F(m,e)}function H(){return-K.position().left}function G(){return-K.position().top}function D(){var a=ca-N;return 20<a&&10>a-G()}function T(){var a=ha-U;return 20<a&&10>a-H()}function Z(){Q.unbind(Qa).bind(Qa,function(a,
b,c,e){b=ea;var d=fa;a=a.deltaFactor||C.mouseWheelSpeed;S.scrollBy(c*a,-e*a,!1);return b==ea&&d==fa})}function X(){return!1}function R(){K.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){L(a.target,!1)})}function P(){function c(){var a=ea,b=fa;switch(d){case 40:S.scrollByY(C.keyboardSpeed,!1);break;case 38:S.scrollByY(-C.keyboardSpeed,!1);break;case 34:case 32:S.scrollByY(N*C.scrollPagePercent,!1);break;case 33:S.scrollByY(-N*C.scrollPagePercent,!1);break;case 39:S.scrollByX(C.keyboardSpeed,
!1);break;case 37:S.scrollByX(-C.keyboardSpeed,!1)}return f=a!=ea||b!=fa}var d,f,g=[];V&&g.push(Da[0]);W&&g.push(Fa[0]);K.focus(function(){b.focus()});b.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(b){if(b.target===this||g.length&&a(b.target).closest(g).length){var e=ea,k=fa;switch(b.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:d=b.keyCode;c();break;case 35:B(ca-N);d=null;break;case 36:B(0),d=null}f=b.keyCode==d&&e!=ea||k!=fa;return!f}}).bind("keypress.jsp",
function(a){a.keyCode==d&&c();return!f});C.hideFocus?(b.css("outline","none"),"hideFocus"in Q[0]&&b.attr("hideFocus",!0)):(b.css("outline",""),"hideFocus"in Q[0]&&b.attr("hideFocus",!1))}function Y(){if(location.hash&&1<location.hash.length){var b,c,e=escape(location.hash.substr(1));try{b=a("#"+e+', a[name="'+e+'"]')}catch(d){return}b.length&&K.find(e)&&(0===Q.scrollTop()?c=setInterval(function(){0<Q.scrollTop()&&(L(b,!0),a(document).scrollTop(Q.position().top),clearInterval(c))},50):(L(b,!0),a(document).scrollTop(Q.position().top)))}}
function J(){a(document.body).data("jspHijack")||(a(document.body).data("jspHijack",!0),a(document.body).delegate("a[href*=#]","click",function(b){var c=this.href.substr(0,this.href.indexOf("#")),e=location.href,d;-1!==location.href.indexOf("#")&&(e=location.href.substr(0,location.href.indexOf("#")));if(c===e){c=escape(this.href.substr(this.href.indexOf("#")+1));d;try{d=a("#"+c+', a[name="'+c+'"]')}catch(f){return}d.length&&(c=d.closest(".jspScrollable"),e=c.data("jsp"),e.scrollToElement(d,!0),c[0].scrollIntoView&&
(e=a(g).scrollTop(),d=d.offset().top,(d<e||d>e+a(g).height())&&c[0].scrollIntoView()),b.preventDefault())}}))}function I(){var a,b,c,e,d,f=!1;Q.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(g){g=g.originalEvent.touches[0];a=H();b=G();c=g.pageX;e=g.pageY;d=!1;f=!0}).bind("touchmove.jsp",function(g){if(f){g=g.originalEvent.touches[0];var k=ea,h=fa;S.scrollTo(a+c-g.pageX,b+e-g.pageY);d=d||5<Math.abs(c-g.pageX)||5<Math.abs(e-g.pageY);return k==
ea&&h==fa}}).bind("touchend.jsp",function(a){f=!1}).bind("click.jsp-touchclick",function(a){if(d)return d=!1})}var C,S=this,K,U,N,Q,ha,ca,qa,va,W,V,n,ia,fa,la,ma,ea,Fa,ga,za,ra,ua,Ga,ja,Da,na,da,M,ba,Ea,wa,Aa,ka,ya,Ha=!0,Na=!0,Oa=!1,Ia=!1,Pa=b.clone(!1,!1).empty(),Qa=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===b.css("box-sizing")?ka=Aa=0:(Aa=b.css("paddingTop")+" "+b.css("paddingRight")+" "+b.css("paddingBottom")+" "+b.css("paddingLeft"),ka=(parseInt(b.css("paddingLeft"),
10)||0)+(parseInt(b.css("paddingRight"),10)||0));a.extend(S,{reinitialise:function(b){b=a.extend({},C,b);k(b)},scrollToElement:function(a,b,c){L(a,b,c)},scrollTo:function(a,b,c){F(a,c);B(b,c)},scrollToX:function(a,b){F(a,b)},scrollToY:function(a,b){B(a,b)},scrollToPercentX:function(a,b){F(a*(ha-U),b)},scrollToPercentY:function(a,b){B(a*(ca-N),b)},scrollBy:function(a,b,c){S.scrollByX(a,c);S.scrollByY(b,c)},scrollByX:function(a,b){var c=(H()+Math[0>a?"floor":"ceil"](a))/(ha-U);A(c*ma,b)},scrollByY:function(a,
b){var c=(G()+Math[0>a?"floor":"ceil"](a))/(ca-N);y(c*ia,b)},positionDragX:function(a,b){A(a,b)},positionDragY:function(a,b){y(a,b)},animate:function(a,b,c,e){var d={};d[b]=c;a.animate(d,{duration:C.animateDuration,easing:C.animateEase,queue:!1,step:e})},getContentPositionX:function(){return H()},getContentPositionY:function(){return G()},getContentWidth:function(){return ha},getContentHeight:function(){return ca},getPercentScrolledX:function(){return H()/(ha-U)},getPercentScrolledY:function(){return G()/
(ca-N)},getIsScrollableH:function(){return V},getIsScrollableV:function(){return W},getContentPane:function(){return K},scrollToBottom:function(a){y(ia,a)},hijackInternalLinks:a.noop,destroy:function(){var a=G(),c=H();b.removeClass("jspScrollable").unbind(".jsp");b.replaceWith(Pa.append(K.children()));Pa.scrollTop(a);Pa.scrollLeft(c);wa&&clearInterval(wa)}});k(d)}d=a.extend({},a.fn.jScrollPane.defaults,d);a.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){d[this]=d[this]||d.speed});
return this.each(function(){var c=a(this),f=c.data("jsp");f?f.reinitialise(d):(a("script",c).filter('[type="text/javascript"],:not([type])').remove(),f=new b(c,d),c.data("jsp",f))})};a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:!1,animateDuration:300,animateEase:"linear",
hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);(function(a){"function"===typeof define&&define.amd?define(["../../../../../../opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2"],a):"object"===typeof exports?module.exports=a:a(jQuery)})(function(a){function g(b){var d=b||window.event,g=e.call(arguments,1),h=0,q=0,u=0,v=0;b=a.event.fix(d);b.type="mousewheel";"detail"in d&&(u=-1*d.detail);"wheelDelta"in d&&(u=d.wheelDelta);"wheelDeltaY"in d&&(u=d.wheelDeltaY);"wheelDeltaX"in d&&(q=-1*d.wheelDeltaX);"axis"in d&&d.axis===d.HORIZONTAL_AXIS&&
(q=-1*u,u=0);h=0===u?q:u;"deltaY"in d&&(h=u=-1*d.deltaY);"deltaX"in d&&(q=d.deltaX,0===u&&(h=-1*q));if(0!==u||0!==q){1===d.deltaMode?(v=a.data(this,"mousewheel-line-height"),h*=v,u*=v,q*=v):2===d.deltaMode&&(v=a.data(this,"mousewheel-page-height"),h*=v,u*=v,q*=v);v=Math.max(Math.abs(u),Math.abs(q));if(!k||v<k)k=v,l.settings.adjustOldDeltas&&"mousewheel"===d.type&&0===v%120&&(k/=40);l.settings.adjustOldDeltas&&"mousewheel"===d.type&&0===v%120&&(h/=40,q/=40,u/=40);h=Math[1<=h?"floor":"ceil"](h/k);q=
Math[1<=q?"floor":"ceil"](q/k);u=Math[1<=u?"floor":"ceil"](u/k);b.deltaX=q;b.deltaY=u;b.deltaFactor=k;b.deltaMode=0;g.unshift(b,h,q,u);f&&clearTimeout(f);f=setTimeout(c,200);return(a.event.dispatch||a.event.handle).apply(this,g)}}function c(){k=null}var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],b="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],e=Array.prototype.slice,f,k;if(a.event.fixHooks)for(var h=d.length;h;)a.event.fixHooks[d[--h]]=
a.event.mouseHooks;var l=a.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var c=b.length;c;)this.addEventListener(b[--c],g,!1);else this.onmousewheel=g;a.data(this,"mousewheel-line-height",l.getLineHeight(this));a.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],g,!1);else this.onmousewheel=null},getLineHeight:function(b){return parseInt(a(b)["offsetParent"in
a.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});(function(a){if(a.zepto&&!a.fn.removeData)throw new ReferenceError("Zepto is loaded without the data module.");a.fn.noUiSlider=function(g,c){function d(a,b){return 100*b/(a[1]-a[0])}function b(a,b){return b*(a[1]-a[0])/100+a[0]}function e(b){return b instanceof a||a.zepto&&a.zepto.isZ(b)}function f(a){return!isNaN(parseFloat(a))&&isFinite(a)}function k(b,c){a.isArray(b)||(b=[b]);a.each(b,function(){"function"===typeof this&&this.call(c)})}function h(b,c){return function(){var e=[null,null];e[c]=a(this).val();
b.val(e,!0)}}function l(a,b){a=a.toFixed(b.decimals);0===parseFloat(a)&&(a=a.replace("-0","0"));return a.replace(".",b.serialization.mark)}function m(b,c,e,d){var f=d.target;b=b.replace(/\s/g,X+" ")+X;return c.on(b,function(b){var c=f.attr("disabled"),c=!(void 0===c||null===c);if(f.hasClass("noUi-state-tap")||c)return!1;var g;b.preventDefault();var c=0===b.type.indexOf("touch"),k=0===b.type.indexOf("mouse"),h=0===b.type.indexOf("pointer"),l,m=b;0===b.type.indexOf("MSPointer")&&(h=!0);b.originalEvent&&
(b=b.originalEvent);c&&(g=b.changedTouches[0].pageX,l=b.changedTouches[0].pageY);if(k||h)h||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),g=b.clientX+window.pageXOffset,l=b.clientY+window.pageYOffset;g=a.extend(m,{pointX:g,pointY:l,cursor:k});e(g,d,f.data("base").data("options"))})}function p(b){var c=this.target;if(void 0===b)return this.element.data("value");!0===b?b=this.element.data("value"):this.element.data("value",
b);void 0!==b&&a.each(this.elements,function(){if("function"===typeof this)this.call(c,b);else this[0][this[1]](b)})}function s(b,c,d){if(e(c)){var f=[],g=b.data("target");b.data("options").direction&&(d=d?0:1);c.each(function(){a(this).on("change"+X,h(g,d));f.push([a(this),"val"])});return f}"string"===typeof c&&(c=[a('<input type="hidden" name="'+c+'">').appendTo(b).addClass(P[3]).change(function(a){a.stopPropagation()}),"val"]);return[c]}function r(b,c,e){var d=[];a.each(e.to[c],function(a){d=
d.concat(s(b,e.to[c][a],c))});return{element:b,elements:d,target:b.data("target"),val:p}}function q(a,b){var c=a.data("target");c.hasClass(P[14])||(b||(c.addClass(P[15]),setTimeout(function(){c.removeClass(P[15])},450)),c.addClass(P[14]),k(a.data("options").block,c))}function u(a,c){var e=a.data("options");c=parseFloat(c.toFixed(7));a.data("target").removeClass(P[14]);a.css(e.style,c+"%").data("pct",c);a.is(":first-child")&&a.toggleClass(P[13],50<c);e.direction&&(c=100-c);a.data("store").val(l(b(e.range,
c),e))}function v(a,b){var c=a.data("base"),e=c.data("options"),d=c.data("handles"),c=0,g=100;if(!f(b))return!1;if(e.step){var k=e.step;b=Math.round(b/k)*k}1<d.length&&(a[0]!==d[0][0]?(e=d[0].data("pct")+e.margin,c=parseFloat(e.toFixed(7))):(e=d[1].data("pct")-e.margin,g=parseFloat(e.toFixed(7))));b=Math.min(Math.max(b,c),0>g?100:g);if(b===a.data("pct"))return[c?c:!1,100===g?!1:g];u(a,b);return!0}function x(a,b,c,e){a.addClass(P[5]);setTimeout(function(){a.removeClass(P[5])},300);v(b,c);k(e,a.data("target"));
a.data("target").change()}function z(b,c,e){var d=c.handles,f=b[c.point]-c.start[c.point],f=100*f/c.size;if(1===d.length){if(b=v(d[0],c.positions[0]+f),!0!==b){0<=a.inArray(d[0].data("pct"),b)&&q(c.base,!e.margin);return}}else{var g,h;e.step&&(b=e.step,f=Math.round(f/b)*b);b=g=c.positions[0]+f;f=h=c.positions[1]+f;0>b?(f+=-1*b,b=0):100<f&&(b-=f-100,f=100);if(0>g&&!b&&!d[0].data("pct")||100===f&&100<h&&100===d[1].data("pct"))return;u(d[0],b);u(d[1],f)}k(e.slide,c.target)}function y(a,b,c){1===b.handles.length&&
b.handles[0].data("grab").removeClass(P[4]);a.cursor&&Z.css("cursor","").off(X);T.off(X);b.target.removeClass(P[14]+" "+P[20]).change();k(c.set,b.target)}function w(b,c,e){1===c.handles.length&&c.handles[0].data("grab").addClass(P[4]);b.stopPropagation();m(Y.move,T,z,{start:b,base:c.base,target:c.target,handles:c.handles,positions:[c.handles[0].data("pct"),c.handles[c.handles.length-1].data("pct")],point:e.orientation?"pointY":"pointX",size:e.orientation?c.base.height():c.base.width()});m(Y.end,T,
y,{target:c.target,handles:c.handles});b.cursor&&(Z.css("cursor",a(b.target).css("cursor")),1<c.handles.length&&c.target.addClass(P[20]),Z.on("selectstart"+X,function(){return!1}))}function A(a,b,c){b=b.base;var e,d;a.stopPropagation();c.orientation?(a=a.pointY,d=b.height()):(a=a.pointX,d=b.width());e=b.data("handles");var f=a,g=c.style;1===e.length?e=e[0]:(g=e[0].offset()[g]+e[1].offset()[g],e=e[f<g/2?0:1]);a=100*(a-b.offset()[c.style])/d;x(b,e,a,[c.slide,c.set])}function E(a,b,c){var e=b.base.data("handles"),
d;d=c.orientation?a.pointY:a.pointX;a=(d=d<b.base.offset()[c.style])?0:100;d=d?0:e.length-1;x(b.base,e[d],a,[c.slide,c.set])}function B(b,c){function g(a){if(2!==a.length)return!1;a=[parseFloat(a[0]),parseFloat(a[1])];return!f(a[0])||!f(a[1])||a[1]<a[0]?!1:a}var k={resolution:function(a,b){switch(a){case 1:case 0.1:case 0.01:case 0.001:case 1E-4:case 1E-5:a=a.toString().split(".");b.decimals="1"===a[0]?0:a[1].length;break;case void 0:b.decimals=2;break;default:return!1}return!0},mark:function(a,b,
c){if(!a)return b[c].mark=".",!0;switch(a){case ".":case ",":return!0;default:return!1}},to:function(b,c,d){function f(a){return e(a)||"string"===typeof a||"function"===typeof a||!1===a||e(a[0])&&"function"===typeof a[0][a[1]]}function g(b){var c=[[],[]];f(b)?c[0].push(b):a.each(b,function(a,b){1<a||(f(b)?c[a].push(b):c[a]=c[a].concat(b))});return c}if(b){var k,h;b=g(b);c.direction&&b[1].length&&b.reverse();for(k=0;k<c.handles;k++)for(h=0;h<b[k].length;h++){if(!f(b[k][h]))return!1;b[k][h]||b[k].splice(h,
1)}c[d].to=b}else c[d].to=[[],[]];return!0}};a.each({handles:{r:!0,t:function(a){a=parseInt(a,10);return 1===a||2===a}},range:{r:!0,t:function(a,b,c){b[c]=g(a);return b[c]&&b[c][0]!==b[c][1]}},start:{r:!0,t:function(b,c,e){if(1===c.handles)return a.isArray(b)&&(b=b[0]),b=parseFloat(b),c.start=[b],f(b);c[e]=g(b);return!!c[e]}},connect:{r:!0,t:function(a,b,c){if("lower"===a)b[c]=1;else if("upper"===a)b[c]=2;else if(!0===a)b[c]=3;else if(!1===a)b[c]=0;else return!1;return!0}},orientation:{t:function(a,
b,c){switch(a){case "horizontal":b[c]=0;break;case "vertical":b[c]=1;break;default:return!1}return!0}},margin:{r:!0,t:function(a,b,c){a=parseFloat(a);b[c]=d(b.range,a);return f(a)}},direction:{r:!0,t:function(a,b,c){switch(a){case "ltr":b[c]=0;break;case "rtl":b[c]=1;b.connect=[0,2,1,3][b.connect];break;default:return!1}return!0}},behaviour:{r:!0,t:function(a,b,c){b[c]={tap:a!==(a=a.replace("tap","")),extend:a!==(a=a.replace("extend","")),drag:a!==(a=a.replace("drag","")),fixed:a!==(a=a.replace("fixed",
""))};return!a.replace("none","").replace(/\-/g,"")}},serialization:{r:!0,t:function(a,b,c){return k.to(a.to,b,c)&&k.resolution(a.resolution,b)&&k.mark(a.mark,b,c)}},slide:{t:function(b){return a.isFunction(b)}},set:{t:function(b){return a.isFunction(b)}},block:{t:function(b){return a.isFunction(b)}},step:{t:function(a,b,c){a=parseFloat(a);b[c]=d(b.range,a);return f(a)}}},function(a,e){var d=b[a],f=void 0!==d;if(e.r&&!f||f&&!e.t(d,b,a))throw console&&console.log&&console.group&&(console.group("Invalid noUiSlider initialisation:"),
console.log("Option:\t",a),console.log("Value:\t",d),console.log("Slider(s):\t",c),console.groupEnd()),new RangeError("noUiSlider");})}function F(b){this.data("options",a.extend(!0,{},b));b=a.extend({handles:2,margin:0,connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},b);b.serialization=b.serialization||{};B(b,this);b.style=b.orientation?"top":"left";return this.each(function(){var c=a(this),e,d=[],f,g=a("<div/>").appendTo(c);if(c.data("base"))throw Error("Slider was already initialized.");
c.data("base",g).addClass([P[6],P[16+b.direction],P[10+b.orientation]].join(" "));for(e=0;e<b.handles;e++)f=a("<div><div/></div>").appendTo(g),f.addClass(P[1]),f.children().addClass([P[2],P[2]+P[7+b.direction+(b.direction?-1*e:e)]].join(" ")),f.data({base:g,target:c,options:b,grab:f.children(),pct:-1}).attr("data-style",b.style),f.data({store:r(f,e,b.serialization)}),d.push(f);switch(b.connect){case 1:c.addClass(P[9]);d[0].addClass(P[12]);break;case 3:d[1].addClass(P[12]);case 2:d[0].addClass(P[9]);
case 0:c.addClass(P[12])}g.addClass(P[0]).data({target:c,options:b,handles:d});c.val(b.start);if(!b.behaviour.fixed)for(e=0;e<d.length;e++)m(Y.start,d[e].children(),w,{base:g,target:c,handles:[d[e]]});b.behaviour.tap&&m(Y.start,g,A,{base:g,target:c});b.behaviour.extend&&(c.addClass(P[19]),b.behaviour.tap&&m(Y.start,c,E,{base:g,target:c}));b.behaviour.drag&&(e=g.find("."+P[9]).addClass(P[18]),b.behaviour.fixed&&(e=e.add(g.children().not(e).data("grab"))),m(Y.start,e,w,{base:g,target:c,handles:d}))})}
function L(){var b=a(this).data("base"),c=[];a.each(b.data("handles"),function(){c.push(a(this).data("store").val())});return 1===c.length?c[0]:b.data("options").direction?c.reverse():c}function H(b,c){a.isArray(b)||(b=[b]);return this.each(function(){var e=a(this).data("base"),f,g=Array.prototype.slice.call(e.data("handles"),0),h=e.data("options");1<g.length&&(g[2]=g[0]);h.direction&&b.reverse();for(e=0;e<g.length;e++)if(f=b[e%2],null!==f&&void 0!==f){"string"===a.type(f)&&(f=f.replace(",","."));
var l=h.range;f=parseFloat(f);f=d(l,0>l[0]?f+Math.abs(l[0]):f-l[0]);h.direction&&(f=100-f);!0!==v(g[e],f)&&g[e].data("store").val(!0);!0===c&&k(h.set,a(this))}})}function G(b){var c=[[b,""]];a.each(b.data("base").data("handles"),function(){c=c.concat(a(this).data("store").elements)});a.each(c,function(){1<this.length&&this[0].off(X)});b.removeClass(P.join(" "));b.empty().removeData("base options")}function D(b){return this.each(function(){var c=a(this).val()||!1,e=a(this).data("options"),d=a.extend({},
e,b);!1!==c&&G(a(this));b&&(a(this).noUiSlider(d),!1!==c&&d.start===e.start&&a(this).val(c))})}var T=a(document),Z=a("body"),X=".nui",R=a.fn.val,P="noUi-base noUi-origin noUi-handle noUi-input noUi-active noUi-state-tap noUi-target -lower -upper noUi-connect noUi-horizontal noUi-vertical noUi-background noUi-stacking noUi-block noUi-state-blocked noUi-ltr noUi-rtl noUi-dragable noUi-extended noUi-state-drag".split(" "),Y=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:
window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"};a.fn.val=function(){return this.hasClass(P[6])?arguments.length?H.apply(this,arguments):L.apply(this):R.apply(this,arguments)};return(c?D:F).call(this,g)}})(window.jQuery||window.Zepto);(function(a){"function"===typeof define&&define.amd?define(["../../../../../../opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){function g(c,d){function b(b){a("body").addClass("noSelect");A=E?b.pageX:b.pageY;w=parseInt(s.css(L),10)||0;B?(document.ontouchmove=function(a){a.preventDefault();f(a.touches[0])},document.ontouchend=g):(a(document).bind("mousemove",f),a(document).bind("mouseup",g),s.bind("mouseup",
g))}function e(b){1>v&&(b=b||window.event,u-=(b.wheelDelta?b.wheelDelta/120:-b.detail/3)*d.wheelSpeed,u=Math.min(q-r,Math.max(0,u)),s.css(L,u/z),l.css(L,-u),d.wheelLock||u!==q-r&&0!==u)&&(b=a.event.fix(b),b.preventDefault())}function f(a){1>v&&(mousePositionNew=E?a.pageX:a.pageY,thumbPositionDelta=mousePositionNew-A,d.scrollInvert&&(thumbPositionDelta=A-mousePositionNew),thumbPositionNew=Math.min(x-y,Math.max(0,w+thumbPositionDelta)),u=thumbPositionNew*z,s.css(L,thumbPositionNew),l.css(L,-u))}function g(){a("body").removeClass("noSelect");
a(document).unbind("mousemove",f);a(document).unbind("mouseup",g);s.unbind("mouseup",g);document.ontouchmove=document.ontouchend=null}var h=c.find(".viewport"),l=c.find(".overview"),m=c.find(".scrollbar"),p=m.find(".track"),s=m.find(".thumb"),r=0,q=0,u=0,v=0,x=0,z=0,y=0,w=0,A=0,E="x"===d.axis,B="ontouchstart"in document.documentElement,F=E?"width":"height",L=E?"left":"top";this.update=function(a){sizeLabelCap=F.charAt(0).toUpperCase()+F.slice(1).toLowerCase();r=h[0]["offset"+sizeLabelCap];q=l[0]["scroll"+
sizeLabelCap];v=r/q;x=d.trackSize||r;y=Math.min(x,Math.max(0,d.thumbSize||x*v));z=d.thumbSize?(q-r)/(x-y):q/x;m.toggleClass("disable",1<=v);switch(a){case "bottom":u=q-r;break;case "relative":u=Math.min(q-r,Math.max(0,u));break;default:u=parseInt(a,10)||0}s.css(L,u/z);l.css(L,-u);A=s.offset()[L];m.css(F,x);p.css(F,x);s.css(F,y)};this.update();(function(){B?h[0].ontouchstart=function(a){1===a.touches.length&&(b(a.touches[0]),a.stopPropagation())}:(s.bind("mousedown",b),p.bind("mouseup",f));d.wheel&&
window.addEventListener?(c[0].addEventListener("DOMMouseScroll",e,!1),c[0].addEventListener("mousewheel",e,!1)):d.wheel&&(c[0].onmousewheel=e)})();return this}a.tiny=a.tiny||{};a.tiny.scrollbar={options:{axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1}};a.fn.tinyscrollbar=function(c){var d=a.extend({},a.tiny.scrollbar.options,c);this.each(function(){a(this).data("tsb",new g(a(this),d))});return this};a.fn.tinyscrollbar_update=function(c){return a(this).data("tsb").update(c)}});/*
 MPL v1.1 [http://www.pixastic.com/lib/license.txt]
*/
var Kinetic={};
(function(){Kinetic={version:"5.0.1",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,UA:function(){var a=navigator.userAgent.toLowerCase(),a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}}(),
Filters:{},Node:function(a){this._init(a)},Shape:function(a){this.__init(a)},Container:function(a){this.__init(a)},Stage:function(a){this.___init(a)},Layer:function(a){this.___init(a)},Group:function(a){this.___init(a)},isDragging:function(){var a=Kinetic.DD;return a?a.isDragging:!1},isDragReady:function(){var a=Kinetic.DD;return a?!!a.node:!1},_addId:function(a,g){void 0!==g&&(this.ids[g]=a)},_removeId:function(a){void 0!==a&&delete this.ids[a]},_addName:function(a,g){void 0!==g&&(void 0===this.names[g]&&
(this.names[g]=[]),this.names[g].push(a))},_removeName:function(a,g){if(void 0!==a){var c=this.names[a];if(void 0!==c){for(var d=0;d<c.length;d++)c[d]._id===g&&c.splice(d,1);0===c.length&&delete this.names[a]}}}}})();(function(a,g){"object"===typeof exports?module.exports=g():"function"===typeof define&&define.amd?define(g):a.returnExports=g()})(this,function(){return Kinetic});
(function(){Kinetic.Collection=function(){var a=[].slice.call(arguments),c=a.length,d=0;for(this.length=c;d<c;d++)this[d]=a[d];return this};Kinetic.Collection.prototype=[];Kinetic.Collection.prototype.each=function(a){for(var c=0;c<this.length;c++)a(this[c],c)};Kinetic.Collection.prototype.toArray=function(){var a=[],c=this.length,d;for(d=0;d<c;d++)a.push(this[d]);return a};Kinetic.Collection.toCollection=function(a){var c=new Kinetic.Collection,d=a.length,g;for(g=0;g<d;g++)c.push(a[g]);return c};
Kinetic.Collection.mapMethods=function(a){a=a.prototype;for(var c in a)(function(a){Kinetic.Collection.prototype[a]=function(){var b=this.length,c;args=[].slice.call(arguments);for(c=0;c<b;c++)this[c][a].apply(this[c],args);return this}})(c)};Kinetic.Transform=function(){this.m=[1,0,0,1,0,0]};Kinetic.Transform.prototype={translate:function(a,c){this.m[4]+=this.m[0]*a+this.m[2]*c;this.m[5]+=this.m[1]*a+this.m[3]*c},scale:function(a,c){this.m[0]*=a;this.m[1]*=a;this.m[2]*=c;this.m[3]*=c},rotate:function(a){var c=
Math.cos(a);a=Math.sin(a);var d=this.m[1]*c+this.m[3]*a,g=this.m[0]*-a+this.m[2]*c,h=this.m[1]*-a+this.m[3]*c;this.m[0]=this.m[0]*c+this.m[2]*a;this.m[1]=d;this.m[2]=g;this.m[3]=h},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(a,c){var d=this.m[1]+this.m[3]*c,g=this.m[2]+this.m[0]*a,h=this.m[3]+this.m[1]*a;this.m[0]+=this.m[2]*c;this.m[1]=d;this.m[2]=g;this.m[3]=h},multiply:function(a){var c=this.m[1]*a.m[0]+this.m[3]*a.m[1],d=this.m[0]*a.m[2]+this.m[2]*a.m[3],g=this.m[1]*
a.m[2]+this.m[3]*a.m[3],h=this.m[0]*a.m[4]+this.m[2]*a.m[5]+this.m[4],l=this.m[1]*a.m[4]+this.m[3]*a.m[5]+this.m[5];this.m[0]=this.m[0]*a.m[0]+this.m[2]*a.m[1];this.m[1]=c;this.m[2]=d;this.m[3]=g;this.m[4]=h;this.m[5]=l},invert:function(){var a=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),c=-this.m[1]*a,d=-this.m[2]*a,g=this.m[0]*a,h=a*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),l=a*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=this.m[3]*a;this.m[1]=c;this.m[2]=d;this.m[3]=g;this.m[4]=h;this.m[5]=
l},getMatrix:function(){return this.m},setAbsolutePosition:function(a,c){var d=this.m[0],g=this.m[1],h=this.m[2],l=this.m[4],g=(d*(c-this.m[5])-g*(a-l))/(d*this.m[3]-g*h);this.translate((a-l-h*g)/d,g)}};var a=Math.PI/180,g=180/Math.PI,c={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],
green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},d=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Kinetic.Util={_isElement:function(a){return!(!a||1!=a.nodeType)},_isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},_isObject:function(a){return!!a&&a.constructor==Object},_isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},_isNumber:function(a){return"[object Number]"==Object.prototype.toString.call(a)},_isString:function(a){return"[object String]"==
Object.prototype.toString.call(a)},_hasMethods:function(a){var c=[],d;for(d in a)this._isFunction(a[d])&&c.push(d);return 0<c.length},_isInDocument:function(a){for(;a=a.parentNode;)if(a==document)return!0;return!1},_simplifyArray:function(a){var c=[],d=a.length,g=Kinetic.Util,h,l;for(h=0;h<d;h++)l=a[h],g._isNumber(l)?l=Math.round(1E3*l)/1E3:g._isString(l)||(l=l.toString()),c.push(l);return c},_getImage:function(a,c){var d,g;a?this._isElement(a)?c(a):this._isString(a)?(d=new Image,d.onload=function(){c(d)},
d.src=a):a.data?(g=document.createElement("canvas"),g.width=a.width,g.height=a.height,_context=g.getContext("2d"),_context.putImageData(a,0,0),this._getImage(g.toDataURL(),c)):c(null):c(null)},_getRGBAString:function(a){return["rgba(",a.red||0,",",a.green||0,",",a.blue||0,",",a.alpha||1,")"].join("")},_rgbToHex:function(a,c,d){return(16777216+(a<<16)+(c<<8)+d).toString(16).slice(1)},_hexToRgb:function(a){a=a.replace("#","");a=parseInt(a,16);return{r:a>>16&255,g:a>>8&255,b:a&255}},getRandomColor:function(){for(var a=
(16777215*Math.random()<<0).toString(16);6>a.length;)a="0"+a;return"#"+a},get:function(a,c){return void 0===a?c:a},getRGB:function(a){return a in c?(a=c[a],{r:a[0],g:a[1],b:a[2]}):"#"===a[0]?this._hexToRgb(a.substring(1)):"rgb("===a.substr(0,4)?(a=d.exec(a.replace(/ /g,"")),{r:parseInt(a[1],10),g:parseInt(a[2],10),b:parseInt(a[3],10)}):{r:0,g:0,b:0}},_merge:function(a,c){var d=this._clone(c),g;for(g in a)this._isObject(a[g])?d[g]=this._merge(a[g],d[g]):d[g]=a[g];return d},cloneObject:function(a){var c=
{},d;for(d in a)this._isObject(a[d])?c[d]=this._clone(a[d]):c[d]=a[d];return c},cloneArray:function(a){return a.slice(0)},_degToRad:function(b){return b*a},_radToDeg:function(a){return a*g},_capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},error:function(a){throw Error("Kinetic error: "+a);},warn:function(a){window.console&&console.warn&&console.warn("Kinetic warning: "+a)},extend:function(a,c){for(var d in c.prototype)d in a.prototype||(a.prototype[d]=c.prototype[d])},addMethods:function(a,
c){for(var d in c)a.prototype[d]=c[d]},_getControlPoints:function(a,c,d,g,h,l,m){var p=Math.sqrt(Math.pow(d-a,2)+Math.pow(g-c,2)),s=Math.sqrt(Math.pow(h-d,2)+Math.pow(l-g,2)),r=m*p/(p+s);m=m*s/(p+s);return[d-r*(h-a),g-r*(l-c),d+m*(h-a),g+m*(l-c)]},_expandPoints:function(a,c){var d=a.length,g=[],h,l;for(h=2;h<d-2;h+=2)l=Kinetic.Util._getControlPoints(a[h-2],a[h-1],a[h],a[h+1],a[h+2],a[h+3],c),g.push(l[0]),g.push(l[1]),g.push(a[h]),g.push(a[h+1]),g.push(l[2]),g.push(l[3]);return g},_removeLastLetter:function(a){return a.substring(0,
a.length-1)}}})();
(function(){var a=document.createElement("canvas").getContext("2d"),g=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);Kinetic.Canvas=function(a){this.init(a)};Kinetic.Canvas.prototype={init:function(a){a=a||{};this.pixelRatio=a.pixelRatio||Kinetic.pixelRatio||g;this._canvas=document.createElement("canvas");this._canvas.style.padding=0;this._canvas.style.margin=0;this._canvas.style.border=
0;this._canvas.style.background="transparent";this._canvas.style.position="absolute";this._canvas.style.top=0;this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(a){this.pixelRatio=a;this.setSize(this.getWidth(),this.getHeight())},setWidth:function(a){this.width=this._canvas.width=a*this.pixelRatio;this._canvas.style.width=a+"px"},setHeight:function(a){this.height=this._canvas.height=a*this.pixelRatio;this._canvas.style.height=
a+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(a,d){this.setWidth(a);this.setHeight(d)},toDataURL:function(a,d){try{return this._canvas.toDataURL(a,d)}catch(b){try{return this._canvas.toDataURL()}catch(e){return Kinetic.Util.warn("Unable to get data URL. "+e.message),""}}}};Kinetic.SceneCanvas=function(a){a=a||{};var d=a.width||0,b=a.height||0;Kinetic.Canvas.call(this,a);this.context=new Kinetic.SceneContext(this);this.setSize(d,b)};Kinetic.SceneCanvas.prototype=
{setWidth:function(a){var d=this.pixelRatio,b=this.getContext()._context;Kinetic.Canvas.prototype.setWidth.call(this,a);b.scale(d,d)},setHeight:function(a){var d=this.pixelRatio,b=this.getContext()._context;Kinetic.Canvas.prototype.setHeight.call(this,a);b.scale(d,d)}};Kinetic.Util.extend(Kinetic.SceneCanvas,Kinetic.Canvas);Kinetic.HitCanvas=function(a){a=a||{};var d=a.width||0,b=a.height||0;Kinetic.Canvas.call(this,a);this.context=new Kinetic.HitContext(this);this.setSize(d,b)};Kinetic.Util.extend(Kinetic.HitCanvas,
Kinetic.Canvas)})();
(function(){var a="arc arcTo beginPath bezierCurveTo clearRect clip closePath createLinearGradient createPattern createRadialGradient drawImage fill fillText getImageData createImageData lineTo moveTo putImageData quadraticCurveTo rect restore rotate save scale setLineDash setTransform stroke strokeText transform translate".split(" ");Kinetic.Context=function(a){this.init(a)};Kinetic.Context.prototype={init:function(a){this.canvas=a;this._context=a._canvas.getContext("2d");Kinetic.enableTrace&&(this.traceArr=
[],this._enableTrace())},fillShape:function(a){a.getFillEnabled()&&this._fill(a)},strokeShape:function(a){a.getStrokeEnabled()&&this._stroke(a)},fillStrokeShape:function(a){a.getFillEnabled()&&this._fill(a);a.getStrokeEnabled()&&this._stroke(a)},getTrace:function(a){var c=this.traceArr,d=c.length,b="",e,f,k;for(e=0;e<d;e++)f=c[e],(k=f.method)?(f=f.args,b+=k,b=a?b+"()":Kinetic.Util._isArray(f[0])?b+("(["+f.join(",")+"])"):b+("("+f.join(",")+")")):(b+=f.property,a||(b+="="+f.val)),b+=";";return b},
clearTrace:function(){this.traceArr=[]},_trace:function(a){var c=this.traceArr;c.push(a);c.length>=Kinetic.traceArrMax&&c.shift()},reset:function(){var a=this.getCanvas().getPixelRatio();this.setTransform(1*a,0,0,1*a,0,0)},getCanvas:function(){return this.canvas},clear:function(a){var c=this.getCanvas();a?this.clearRect(a.x||0,a.y||0,a.width||0,a.height||0):this.clearRect(0,0,c.getWidth(),c.getHeight())},_applyLineCap:function(a){(a=a.getLineCap())&&this.setAttr("lineCap",a)},_applyOpacity:function(a){a=
a.getAbsoluteOpacity();1!==a&&this.setAttr("globalAlpha",a)},_applyLineJoin:function(a){(a=a.getLineJoin())&&this.setAttr("lineJoin",a)},_applyTransform:function(a){var c=a.getTransformsEnabled();"all"===c?(a=a.getAbsoluteTransform().getMatrix(),this.transform(a[0],a[1],a[2],a[3],a[4],a[5])):"position"===c&&this.translate(a.getX(),a.getY())},setAttr:function(a,c){this._context[a]=c},arc:function(){var a=arguments;this._context.arc(a[0],a[1],a[2],a[3],a[4],a[5])},beginPath:function(){this._context.beginPath()},
bezierCurveTo:function(){var a=arguments;this._context.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])},clearRect:function(){var a=arguments;this._context.clearRect(a[0],a[1],a[2],a[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var a=arguments;if(2===a.length)return this._context.createImageData(a[0],a[1]);if(1===a.length)return this._context.createImageData(a[0])},createLinearGradient:function(){var a=arguments;return this._context.createLinearGradient(a[0],
a[1],a[2],a[3])},createPattern:function(){var a=arguments;return this._context.createPattern(a[0],a[1])},createRadialGradient:function(){var a=arguments;return this._context.createRadialGradient(a[0],a[1],a[2],a[3],a[4],a[5])},drawImage:function(){var a=arguments,c=this._context;3===a.length?c.drawImage(a[0],a[1],a[2]):5===a.length?c.drawImage(a[0],a[1],a[2],a[3],a[4]):9===a.length&&c.drawImage(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])},fill:function(){this._context.fill()},fillText:function(){var a=
arguments;this._context.fillText(a[0],a[1],a[2])},getImageData:function(){var a=arguments;return this._context.getImageData(a[0],a[1],a[2],a[3])},lineTo:function(){var a=arguments;this._context.lineTo(a[0],a[1])},moveTo:function(){var a=arguments;this._context.moveTo(a[0],a[1])},rect:function(){var a=arguments;this._context.rect(a[0],a[1],a[2],a[3])},putImageData:function(){var a=arguments;this._context.putImageData(a[0],a[1],a[2])},quadraticCurveTo:function(){var a=arguments;this._context.quadraticCurveTo(a[0],
a[1],a[2],a[3])},restore:function(){this._context.restore()},rotate:function(){this._context.rotate(arguments[0])},save:function(){this._context.save()},scale:function(){var a=arguments;this._context.scale(a[0],a[1])},setLineDash:function(){var a=arguments,c=this._context;this._context.setLineDash?c.setLineDash(a[0]):"mozDash"in c?c.mozDash=a[0]:"webkitLineDash"in c&&(c.webkitLineDash=a[0])},setTransform:function(){var a=arguments;this._context.setTransform(a[0],a[1],a[2],a[3],a[4],a[5])},stroke:function(){this._context.stroke()},
strokeText:function(){var a=arguments;this._context.strokeText(a[0],a[1],a[2])},transform:function(){var a=arguments;this._context.transform(a[0],a[1],a[2],a[3],a[4],a[5])},translate:function(){var a=arguments;this._context.translate(a[0],a[1])},_enableTrace:function(){var g=this,c=a.length,d=Kinetic.Util._simplifyArray,b=this.setAttr,e,f;for(e=0;e<c;e++)(function(a){var b=g[a],c;g[a]=function(){f=d(Array.prototype.slice.call(arguments,0));c=b.apply(g,arguments);g._trace({method:a,args:f});return c}})(a[e]);
g.setAttr=function(){b.apply(g,arguments);g._trace({property:arguments[0],val:arguments[1]})}}};Kinetic.SceneContext=function(a){Kinetic.Context.call(this,a)};Kinetic.SceneContext.prototype={_fillColor:function(a){var c=a.fill()||Kinetic.Util._getRGBAString({red:a.fillRed(),green:a.fillGreen(),blue:a.fillBlue(),alpha:a.fillAlpha()});this.setAttr("fillStyle",c);a._fillFunc(this)},_fillPattern:function(a){var c=a.getFillPatternImage(),d=a.getFillPatternX(),b=a.getFillPatternY(),e=a.getFillPatternScale(),
f=a.getFillPatternRotation(),k=a.getFillPatternOffset();a=a.getFillPatternRepeat();(d||b)&&this.translate(d||0,b||0);f&&this.rotate(f);e&&this.scale(e.x,e.y);k&&this.translate(-1*k.x,-1*k.y);this.setAttr("fillStyle",this.createPattern(c,a||"repeat"));this.fill()},_fillLinearGradient:function(a){var c=a.getFillLinearGradientStartPoint(),d=a.getFillLinearGradientEndPoint();a=a.getFillLinearGradientColorStops();c=this.createLinearGradient(c.x,c.y,d.x,d.y);if(a){for(d=0;d<a.length;d+=2)c.addColorStop(a[d],
a[d+1]);this.setAttr("fillStyle",c);this.fill()}},_fillRadialGradient:function(a){var c=a.getFillRadialGradientStartPoint(),d=a.getFillRadialGradientEndPoint(),b=a.getFillRadialGradientStartRadius(),e=a.getFillRadialGradientEndRadius();a=a.getFillRadialGradientColorStops();c=this.createRadialGradient(c.x,c.y,b,d.x,d.y,e);for(d=0;d<a.length;d+=2)c.addColorStop(a[d],a[d+1]);this.setAttr("fillStyle",c);this.fill()},_fill:function(a){var c=a.fill()||a.fillRed()||a.fillGreen()||a.fillBlue(),d=a.getFillPatternImage(),
b=a.getFillLinearGradientColorStops(),e=a.getFillRadialGradientColorStops(),f=a.getFillPriority();c&&"color"===f?this._fillColor(a):d&&"pattern"===f?this._fillPattern(a):b&&"linear-gradient"===f?this._fillLinearGradient(a):e&&"radial-gradient"===f?this._fillRadialGradient(a):c?this._fillColor(a):d?this._fillPattern(a):b?this._fillLinearGradient(a):e&&this._fillRadialGradient(a)},_stroke:function(a){var c=a.dash(),d=a.getStrokeScaleEnabled();a.hasStroke()&&(d||(this.save(),this.setTransform(1,0,0,
1,0,0)),this._applyLineCap(a),c&&a.dashEnabled()&&this.setLineDash(c),this.setAttr("lineWidth",a.strokeWidth()),this.setAttr("strokeStyle",a.stroke()||Kinetic.Util._getRGBAString({red:a.strokeRed(),green:a.strokeGreen(),blue:a.strokeBlue(),alpha:a.strokeAlpha()})),a._strokeFunc(this),d||this.restore())},_applyShadow:function(a){var c=Kinetic.Util,d=a.getAbsoluteOpacity(),b=c.get(a.getShadowColor(),"black"),e=c.get(a.getShadowBlur(),5),f=c.get(a.getShadowOpacity(),0);a=c.get(a.getShadowOffset(),{x:0,
y:0});f&&this.setAttr("globalAlpha",f*d);this.setAttr("shadowColor",b);this.setAttr("shadowBlur",e);this.setAttr("shadowOffsetX",a.x);this.setAttr("shadowOffsetY",a.y)}};Kinetic.Util.extend(Kinetic.SceneContext,Kinetic.Context);Kinetic.HitContext=function(a){Kinetic.Context.call(this,a)};Kinetic.HitContext.prototype={_fill:function(a){this.save();this.setAttr("fillStyle",a.colorKey);a._fillFuncHit(this);this.restore()},_stroke:function(a){a.hasStroke()&&(this._applyLineCap(a),this.setAttr("lineWidth",
a.strokeWidth()),this.setAttr("strokeStyle",a.colorKey),a._strokeFuncHit(this))}};Kinetic.Util.extend(Kinetic.HitContext,Kinetic.Context)})();
(function(){Kinetic.Factory={addGetterSetter:function(a,g,c,d,b){this.addGetter(a,g,c);this.addSetter(a,g,d,b);this.addOverloadedGetterSetter(a,g)},addGetter:function(a,g,c){var d="get"+Kinetic.Util._capitalize(g);a.prototype[d]=function(){var a=this.attrs[g];return void 0===a?c:a}},addSetter:function(a,g,c,d){var b="set"+Kinetic.Util._capitalize(g);a.prototype[b]=function(a){c&&(a=c.call(this,a));this._setAttr(g,a);d&&d.call(this);return this}},addComponentsGetterSetter:function(a,g,c,d,b){var e=
c.length,f=Kinetic.Util._capitalize,k="get"+f(g),h="set"+f(g),l,m;a.prototype[k]=function(){var a={};for(l=0;l<e;l++)m=c[l],a[m]=this.getAttr(g+f(m));return a};a.prototype[h]=function(a){var c=this.attrs[g],e;d&&(a=d.call(this,a));for(e in a)this._setAttr(g+f(e),a[e]);this._fireChangeEvent(g,c,a);b&&b.call(this);return this};this.addOverloadedGetterSetter(a,g)},addOverloadedGetterSetter:function(a,g){var c=Kinetic.Util._capitalize(g),d="set"+c,b="get"+c;a.prototype[g]=function(){return arguments.length?
(this[d](arguments[0]),this):this[b]()}},backCompat:function(a,g){for(var c in g)a.prototype[c]=a.prototype[g[c]]},afterSetFilter:function(){this._filterUpToDate=!1}};Kinetic.Validators={RGBComponent:function(a){return 255<a?255:0>a?0:Math.round(a)},alphaComponent:function(a){return 1<a?1:1E-4>a?1E-4:a}}})();
(function(){var a="Shape";Kinetic.Util.addMethods(Kinetic.Node,{_init:function(a){var c=this;this._id=Kinetic.idCounter++;this.eventListeners={};this.attrs={};this._cache={};this._filterUpToDate=!1;this.setAttrs(a);this.on("xChange.kinetic yChange.kinetic scaleXChange.kinetic scaleYChange.kinetic skewXChange.kinetic skewYChange.kinetic rotationChange.kinetic offsetXChange.kinetic offsetYChange.kinetic transformsEnabledChange.kinetic",function(){this._clearCache("transform");c._clearSelfAndDescendantCache("absoluteTransform")});
this.on("visibleChange.kinetic",function(){c._clearSelfAndDescendantCache("visible")});this.on("listeningChange.kinetic",function(){c._clearSelfAndDescendantCache("listening")});this.on("opacityChange.kinetic",function(){c._clearSelfAndDescendantCache("absoluteOpacity")})},_clearCache:function(a){a?delete this._cache[a]:this._cache={}},_getCache:function(a,c){void 0===this._cache[a]&&(this._cache[a]=c.call(this));return this._cache[a]},_clearSelfAndDescendantCache:function(a){this._clearCache(a);
this.children&&this.getChildren().each(function(c){c._clearSelfAndDescendantCache(a)})},clearCache:function(){delete this._cache.canvas;this._filterUpToDate=!1;return this},cache:function(a){var c=a||{},d=c.x||0,b=c.y||0;a=c.width||this.width();var e=c.height||this.height(),f=c.drawBorder||!1,c=new Kinetic.SceneCanvas({pixelRatio:1,width:a,height:e}),k=new Kinetic.SceneCanvas({pixelRatio:1,width:a,height:e}),h=new Kinetic.HitCanvas({width:a,height:e}),l=this.transformsEnabled(),m=this.x(),p=this.y();
this.clearCache();this.transformsEnabled("position");this.x(-1*d);this.y(-1*b);this.drawScene(c);this.drawHit(h);f&&(d=c.getContext(),d.save(),d.beginPath(),d.rect(0,0,a,e),d.closePath(),d.setAttr("strokeStyle","red"),d.setAttr("lineWidth",5),d.stroke(),d.restore());this.x(m);this.y(p);this.transformsEnabled(l);this._cache.canvas={scene:c,filter:k,hit:h};return this},_drawCachedSceneCanvas:function(a){a.save();a._applyTransform(this);a.drawImage(this._getCachedSceneCanvas()._canvas,0,0);a.restore()},
_getCachedSceneCanvas:function(){var a=this.filters(),c=this._cache.canvas,d=c.scene,c=c.filter,b=c.getContext(),e,f,k,h;if(a){if(!this._filterUpToDate){try{for(e=a.length,b.clear(),b.drawImage(d._canvas,0,0),f=b.getImageData(0,0,c.getWidth(),c.getHeight()),k=0;k<e;k++)h=a[k],h.call(this,f),b.putImageData(f,0,0)}catch(l){Kinetic.Util.warn("Unable to apply filter. "+l.message)}this._filterUpToDate=!0}return c}return d},_drawCachedHitCanvas:function(a){var c=this._cache.canvas.hit;a.save();a._applyTransform(this);
a.drawImage(c._canvas,0,0);a.restore()},on:function(a,c){var d=a.split(" "),b=d.length,e,f,k;for(e=0;e<b;e++)f=d[e],k=f.split("."),f=k[0],k=k[1]||"",this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:k,handler:c});return this},off:function(a){a=a.split(" ");var c=a.length,d,b,e,f;for(d=0;d<c;d++)if(e=a[d],f=e.split("."),e=f[0],f=f[1],e)this.eventListeners[e]&&this._off(e,f);else for(b in this.eventListeners)this._off(b,f);return this},remove:function(){var a=this.getParent();
a&&a.children&&(a.children.splice(this.index,1),a._setChildrenIndices(),delete this.parent);this._clearSelfAndDescendantCache("stage");this._clearSelfAndDescendantCache("absoluteTransform");this._clearSelfAndDescendantCache("visible");this._clearSelfAndDescendantCache("listening");this._clearSelfAndDescendantCache("absoluteOpacity");return this},destroy:function(){Kinetic._removeId(this.getId());Kinetic._removeName(this.getName(),this._id);this.remove()},getAttr:function(a){var c="get"+Kinetic.Util._capitalize(a);
return Kinetic.Util._isFunction(this[c])?this[c]():this.attrs[a]},getAncestors:function(){for(var a=this.getParent(),c=new Kinetic.Collection;a;)c.push(a),a=a.getParent();return c},getAttrs:function(){return this.attrs||{}},setAttrs:function(a){var c,d;if(a)for(c in a)if("children"!==c)if(d="set"+Kinetic.Util._capitalize(c),Kinetic.Util._isFunction(this[d]))this[d](a[c]);else this._setAttr(c,a[c]);return this},isListening:function(){return this._getCache("listening",this._isListening)},_isListening:function(){var a=
this.getListening(),c=this.getParent();return"inherit"===a?c?c.isListening():!0:a},isVisible:function(){return this._getCache("visible",this._isVisible)},_isVisible:function(){var a=this.getVisible(),c=this.getParent();return"inherit"===a?c?c.isVisible():!0:a},shouldDrawHit:function(){var a=this.getLayer();return a&&a.hitGraphEnabled()&&this.isListening()&&this.isVisible()&&!Kinetic.isDragging()},show:function(){this.setVisible(!0);return this},hide:function(){this.setVisible(!1);return this},getZIndex:function(){return this.index||
0},getAbsoluteZIndex:function(){function g(l){e=[];f=l.length;for(k=0;k<f;k++)h=l[k],b++,h.nodeType!==a&&(e=e.concat(h.getChildren().toArray())),h._id===d._id&&(k=f);0<e.length&&e[0].getDepth()<=c&&g(e)}var c=this.getDepth(),d=this,b=0,e,f,k,h;"Stage"!==d.nodeType&&g(d.getStage().getChildren());return b},getDepth:function(){for(var a=0,c=this.parent;c;)a++,c=c.parent;return a},setPosition:function(a){this.setX(a.x);this.setY(a.y);return this},getPosition:function(){return{x:this.getX(),y:this.getY()}},
getAbsolutePosition:function(){var a=this.getAbsoluteTransform().getMatrix(),c=new Kinetic.Transform,d=this.offset();c.m=a.slice();c.translate(d.x,d.y);return c.getTranslation()},setAbsolutePosition:function(a){var c=this._clearTransform(),d;this.attrs.x=c.x;this.attrs.y=c.y;delete c.x;delete c.y;d=this.getAbsoluteTransform();d.invert();d.translate(a.x,a.y);a={x:this.attrs.x+d.getTranslation().x,y:this.attrs.y+d.getTranslation().y};this.setPosition({x:a.x,y:a.y});this._setTransform(c);return this},
_setTransform:function(a){for(var c in a)this.attrs[c]=a[c];this._clearCache("transform");this._clearSelfAndDescendantCache("absoluteTransform")},_clearTransform:function(){var a={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};this.attrs.x=0;this.attrs.y=0;this.attrs.rotation=0;this.attrs.scaleX=1;this.attrs.scaleY=1;this.attrs.offsetX=0;this.attrs.offsetY=
0;this.attrs.skewX=0;this.attrs.skewY=0;this._clearCache("transform");this._clearSelfAndDescendantCache("absoluteTransform");return a},move:function(a){var c=a.x;a=a.y;var d=this.getX(),b=this.getY();void 0!==c&&(d+=c);void 0!==a&&(b+=a);this.setPosition({x:d,y:b});return this},_eachAncestorReverse:function(a,c){var d=[],b=this.getParent(),e;for(c&&d.unshift(this);b;)d.unshift(b),b=b.parent;b=d.length;for(e=0;e<b;e++)a(d[e])},rotate:function(a){this.setRotation(this.getRotation()+a);return this},
moveToTop:function(){this.parent.children.splice(this.index,1);this.parent.children.push(this);this.parent._setChildrenIndices();return!0},moveUp:function(){var a=this.index,c=this.parent.getChildren().length;return a<c-1?(this.parent.children.splice(a,1),this.parent.children.splice(a+1,0,this),this.parent._setChildrenIndices(),!0):!1},moveDown:function(){var a=this.index;return 0<a?(this.parent.children.splice(a,1),this.parent.children.splice(a-1,0,this),this.parent._setChildrenIndices(),!0):!1},
moveToBottom:function(){var a=this.index;return 0<a?(this.parent.children.splice(a,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1},setZIndex:function(a){this.parent.children.splice(this.index,1);this.parent.children.splice(a,0,this);this.parent._setChildrenIndices();return this},getAbsoluteOpacity:function(){return this._getCache("absoluteOpacity",this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var a=this.getOpacity();this.getParent()&&(a*=this.getParent().getAbsoluteOpacity());
return a},moveTo:function(a){Kinetic.Node.prototype.remove.call(this);a.add(this);return this},toObject:function(){var a=Kinetic.Util,c={},d=this.getAttrs(),b,e,f;c.attrs={};for(b in d)e=d[b],a._isFunction(e)||a._isElement(e)||a._isObject(e)&&a._hasMethods(e)||(f=this[b],delete d[b],f=f?f.call(this):null,d[b]=e,f!==e&&(c.attrs[b]=e));c.className=this.getClassName();return c},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){var a=
this.getParent();return a?a.getLayer():null},getStage:function(){return this._getCache("stage",this._getStage)},_getStage:function(){var a=this.getParent();if(a)return a.getStage()},fire:function(a,c,d){d?this._fireAndBubble(a,c||{}):this._fire(a,c||{});return this},getAbsoluteTransform:function(){return this._getCache("absoluteTransform",this._getAbsoluteTransform)},_getAbsoluteTransform:function(){var a=new Kinetic.Transform,c,d;this._eachAncestorReverse(function(b){c=b.transformsEnabled();d=b.getTransform();
"all"===c?a.multiply(d):"position"===c&&a.translate(b.x(),b.y())},!0);return a},getTransform:function(){return this._getCache("transform",this._getTransform)},_getTransform:function(){var a=new Kinetic.Transform,c=this.getX(),d=this.getY(),b=this.getRotation()*Math.PI/180,e=this.getScaleX(),f=this.getScaleY(),k=this.getSkewX(),h=this.getSkewY(),l=this.getOffsetX(),m=this.getOffsetY();0===c&&0===d||a.translate(c,d);0!==b&&a.rotate(b);0===k&&0===h||a.skew(k,h);1===e&&1===f||a.scale(e,f);0===l&&0===
m||a.translate(-1*l,-1*m);return a},clone:function(a){var c=this.getClassName(),c=new Kinetic[c](this.attrs),d,b,e,f,k;for(d in this.eventListeners)for(b=this.eventListeners[d],e=b.length,f=0;f<e;f++)k=b[f],0>k.name.indexOf("kinetic")&&(c.eventListeners[d]||(c.eventListeners[d]=[]),c.eventListeners[d].push(k));c.setAttrs(a);return c},toDataURL:function(a){a=a||{};var c=a.mimeType||null,d=a.quality||null,b=this.getStage(),e=a.x||0,f=a.y||0;a=new Kinetic.SceneCanvas({width:a.width||this.getWidth()||
(b?b.getWidth():0),height:a.height||this.getHeight()||(b?b.getHeight():0),pixelRatio:1});b=a.getContext();b.save();(e||f)&&b.translate(-1*e,-1*f);this.drawScene(a);b.restore();return a.toDataURL(c,d)},toImage:function(a){Kinetic.Util._getImage(this.toDataURL(a),function(c){a.callback(c)})},setSize:function(a){this.setWidth(a.width);this.setHeight(a.height);return this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||
0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},_get:function(a){return this.nodeType===a?[this]:[]},_off:function(a,c){var d=this.eventListeners[a],b,e;for(b=0;b<d.length;b++)if(e=d[b].name,!("kinetic"===e&&"kinetic"!==c||c&&e!==c)){d.splice(b,1);if(0===d.length){delete this.eventListeners[a];break}b--}},_fireBeforeChangeEvent:function(a,c,d){this._fire(["before",Kinetic.Util._capitalize(a),"Change"].join(""),{oldVal:c,newVal:d})},_fireChangeEvent:function(a,
c,d){this._fire(a+"Change",{oldVal:c,newVal:d})},setId:function(a){var c=this.getId();Kinetic._removeId(c);Kinetic._addId(this,a);this._setAttr("id",a);return this},setName:function(a){var c=this.getName();Kinetic._removeName(c,this._id);Kinetic._addName(this,a);this._setAttr("name",a);return this},setAttr:function(){var a=Array.prototype.slice.call(arguments),c=a[0],a=a[1],d=this["set"+Kinetic.Util._capitalize(c)];Kinetic.Util._isFunction(d)?d.call(this,a):this._setAttr(c,a);return this},_setAttr:function(a,
c){var d;void 0!==c&&(d=this.attrs[a],this.attrs[a]=c,this._fireChangeEvent(a,d,c))},_setComponentAttr:function(a,c,d){var b;void 0!==d&&((b=this.attrs[a])||(this.attrs[a]=this.getAttr(a)),this.attrs[a][c]=d,this._fireChangeEvent(a,b,d))},_fireAndBubble:function(g,c,d){var b=!0;c&&this.nodeType===a&&(c.targetNode=this);"mouseenter"===g&&d&&this._id===d._id?b=!1:"mouseleave"===g&&d&&this._id===d._id&&(b=!1);b&&(this._fire(g,c),c&&!c.cancelBubble&&this.parent&&(d&&d.parent?this._fireAndBubble.call(this.parent,
g,c,d.parent):this._fireAndBubble.call(this.parent,g,c)))},_fire:function(a,c){var d=this.eventListeners[a],b;if(d)for(b=0;b<d.length;b++)d[b].handler.call(this,c)},draw:function(){this.drawScene();this.drawHit();return this}});Kinetic.Node.create=function(a,c){return this._createNode(JSON.parse(a),c)};Kinetic.Node._createNode=function(a,c){var d=Kinetic.Node.prototype.getClassName.call(a),b=a.children,e,f;c&&(a.attrs.container=c);d=new Kinetic[d](a.attrs);if(b)for(e=b.length,f=0;f<e;f++)d.add(this._createNode(b[f]));
return d};Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"position");Kinetic.Factory.addGetterSetter(Kinetic.Node,"x",0);Kinetic.Factory.addGetterSetter(Kinetic.Node,"y",0);Kinetic.Factory.addGetterSetter(Kinetic.Node,"opacity",1);Kinetic.Factory.addGetter(Kinetic.Node,"name");Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"name");Kinetic.Factory.addGetter(Kinetic.Node,"id");Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"id");Kinetic.Factory.addGetterSetter(Kinetic.Node,"rotation",
0);Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"scale",["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleX",1);Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleY",1);Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"skew",["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewX",0);Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewY",0);Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"offset",["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetX",
0);Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetY",0);Kinetic.Factory.addSetter(Kinetic.Node,"width",0);Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"width");Kinetic.Factory.addSetter(Kinetic.Node,"height",0);Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"height");Kinetic.Factory.addGetterSetter(Kinetic.Node,"listening","inherit");Kinetic.Factory.addGetterSetter(Kinetic.Node,"filters",void 0,function(a){this._filterUpToDate=!1;return a});Kinetic.Factory.addGetterSetter(Kinetic.Node,
"visible","inherit");Kinetic.Factory.addGetterSetter(Kinetic.Node,"transformsEnabled","all");Kinetic.Factory.backCompat(Kinetic.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});Kinetic.Collection.mapMethods(Kinetic.Node)})();(function(){Kinetic.Filters.Grayscale=function(a){a=a.data;var g=a.length,c,d;for(c=0;c<g;c+=4)d=0.34*a[c]+0.5*a[c+1]+0.16*a[c+2],a[c]=d,a[c+1]=d,a[c+2]=d}})();
(function(){Kinetic.Filters.Brighten=function(a){var g=255*this.brightness();a=a.data;var c=a.length,d;for(d=0;d<c;d+=4)a[d]+=g,a[d+1]+=g,a[d+2]+=g};Kinetic.Factory.addGetterSetter(Kinetic.Node,"brightness",0,null,Kinetic.Factory.afterSetFilter)})();(function(){Kinetic.Filters.Invert=function(a){a=a.data;var g=a.length,c;for(c=0;c<g;c+=4)a[c]=255-a[c],a[c+1]=255-a[c+1],a[c+2]=255-a[c+2]}})();
(function(){function a(){this.a=this.b=this.g=this.r=0;this.next=null}var g=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,
367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,
310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],c=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,
23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Kinetic.Filters.Blur=function(d){var b=this.blurRadius()|0;if(0<b){var e=d.data,f=d.width;d=d.height;var k,h,l,m,p,s,r,q,u,v,x,z,y,w,A,E,B,F,L,
H,G,D,T;k=b+b+1;var Z=f-1,X=d-1,R=b+1,P=R*(R+1)/2,Y=new a,J=null,I=Y;T=l=null;var C=g[b],S=c[b];for(l=1;l<k;l++)I=I.next=new a,l==R&&(J=I);I.next=Y;for(h=s=p=0;h<d;h++){A=E=B=F=r=q=u=v=0;x=R*(L=e[p]);z=R*(H=e[p+1]);y=R*(G=e[p+2]);w=R*(D=e[p+3]);r+=P*L;q+=P*H;u+=P*G;v+=P*D;I=Y;for(l=0;l<R;l++)I.r=L,I.g=H,I.b=G,I.a=D,I=I.next;for(l=1;l<R;l++)m=p+((Z<l?Z:l)<<2),r+=(I.r=L=e[m])*(T=R-l),q+=(I.g=H=e[m+1])*T,u+=(I.b=G=e[m+2])*T,v+=(I.a=D=e[m+3])*T,A+=L,E+=H,B+=G,F+=D,I=I.next;l=Y;T=J;for(k=0;k<f;k++)e[p+
3]=D=v*C>>S,0!==D?(D=255/D,e[p]=(r*C>>S)*D,e[p+1]=(q*C>>S)*D,e[p+2]=(u*C>>S)*D):e[p]=e[p+1]=e[p+2]=0,r-=x,q-=z,u-=y,v-=w,x-=l.r,z-=l.g,y-=l.b,w-=l.a,m=s+((m=k+b+1)<Z?m:Z)<<2,A+=l.r=e[m],E+=l.g=e[m+1],B+=l.b=e[m+2],F+=l.a=e[m+3],r+=A,q+=E,u+=B,v+=F,l=l.next,x+=L=T.r,z+=H=T.g,y+=G=T.b,w+=D=T.a,A-=L,E-=H,B-=G,F-=D,T=T.next,p+=4;s+=f}for(k=0;k<f;k++){E=B=F=A=q=u=v=r=0;p=k<<2;x=R*(L=e[p]);z=R*(H=e[p+1]);y=R*(G=e[p+2]);w=R*(D=e[p+3]);r+=P*L;q+=P*H;u+=P*G;v+=P*D;I=Y;for(l=0;l<R;l++)I.r=L,I.g=H,I.b=G,I.a=
D,I=I.next;m=f;for(l=1;l<=b;l++)p=m+k<<2,r+=(I.r=L=e[p])*(T=R-l),q+=(I.g=H=e[p+1])*T,u+=(I.b=G=e[p+2])*T,v+=(I.a=D=e[p+3])*T,A+=L,E+=H,B+=G,F+=D,I=I.next,l<X&&(m+=f);p=k;l=Y;T=J;for(h=0;h<d;h++)m=p<<2,e[m+3]=D=v*C>>S,0<D?(D=255/D,e[m]=(r*C>>S)*D,e[m+1]=(q*C>>S)*D,e[m+2]=(u*C>>S)*D):e[m]=e[m+1]=e[m+2]=0,r-=x,q-=z,u-=y,v-=w,x-=l.r,z-=l.g,y-=l.b,w-=l.a,m=k+((m=h+R)<X?m:X)*f<<2,r+=A+=l.r=e[m],q+=E+=l.g=e[m+1],u+=B+=l.b=e[m+2],v+=F+=l.a=e[m+3],l=l.next,x+=L=T.r,z+=H=T.g,y+=G=T.b,w+=D=T.a,A-=L,E-=H,B-=
G,F-=D,T=T.next,p+=f}}};Kinetic.Factory.addGetterSetter(Kinetic.Node,"blurRadius",0,null,Kinetic.Factory.afterSetFilter)})();
(function(){function a(a,d,b){d=4*(b*a.width+d);b=[];b.push(a.data[d++],a.data[d++],a.data[d++],a.data[d++]);return b}function g(a,d){return Math.sqrt(Math.pow(a[0]-d[0],2)+Math.pow(a[1]-d[1],2)+Math.pow(a[2]-d[2],2))}Kinetic.Filters.Mask=function(c){var d;d=this.threshold();var b=a(c,0,0),e=a(c,c.width-1,0),f=a(c,0,c.height-1),k=a(c,c.width-1,c.height-1);d=d||10;if(g(b,e)<d&&g(e,k)<d&&g(k,f)<d&&g(f,b)<d){e=[e,b,k,f];b=[0,0,0];for(f=0;f<e.length;f++)b[0]+=e[f][0],b[1]+=e[f][1],b[2]+=e[f][2];b[0]/=
e.length;b[1]/=e.length;b[2]/=e.length;e=[];for(f=0;f<c.width*c.height;f++)k=g(b,[c.data[4*f],c.data[4*f+1],c.data[4*f+2]]),e[f]=k<d?0:255;d=e}else d=void 0;if(d){for(var b=c.width,e=c.height,f=[1,1,1,1,0,1,1,1,1],k=Math.round(Math.sqrt(f.length)),h=Math.floor(k/2),l=[],m=0;m<e;m++)for(var p=0;p<b;p++){for(var s=m*b+p,r=0,q=0;q<k;q++)for(var u=0;u<k;u++){var v=m+q-h,x=p+u-h;0<=v&&v<e&&0<=x&&x<b&&(r+=d[v*b+x]*f[q*k+u])}l[s]=2040===r?255:0}d=l;b=c.width;e=c.height;f=[1,1,1,1,1,1,1,1,1];k=Math.round(Math.sqrt(f.length));
h=Math.floor(k/2);l=[];for(m=0;m<e;m++)for(p=0;p<b;p++){s=m*b+p;for(q=r=0;q<k;q++)for(u=0;u<k;u++)v=m+q-h,x=p+u-h,0<=v&&v<e&&0<=x&&x<b&&(r+=d[v*b+x]*f[q*k+u]);l[s]=1020<=r?255:0}d=l;b=c.width;e=c.height;f=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9];k=Math.round(Math.sqrt(f.length));h=Math.floor(k/2);l=[];for(m=0;m<e;m++)for(p=0;p<b;p++){s=m*b+p;for(q=r=0;q<k;q++)for(u=0;u<k;u++)v=m+q-h,x=p+u-h,0<=v&&v<e&&0<=x&&x<b&&(r+=d[v*b+x]*f[q*k+u]);l[s]=r}d=l;for(b=0;b<c.width*c.height;b++)c.data[4*b+3]=d[b]}return c};
Kinetic.Factory.addGetterSetter(Kinetic.Node,"threshold",0,null,Kinetic.Factory.afterSetFilter)})();
(function(){Kinetic.Filters.RGB=function(a){a=a.data;var g=a.length,c=this.red(),d=this.green(),b=this.blue(),e,f;for(e=0;e<g;e+=4)f=(0.34*a[e]+0.5*a[e+1]+0.16*a[e+2])/255,a[e]=f*c,a[e+1]=f*d,a[e+2]=f*b,a[e+3]=a[e+3]};Kinetic.Factory.addGetterSetter(Kinetic.Node,"red",0,function(a){this._filterUpToDate=!1;return 255<a?255:0>a?0:Math.round(a)});Kinetic.Factory.addGetterSetter(Kinetic.Node,"green",0,function(a){this._filterUpToDate=!1;return 255<a?255:0>a?0:Math.round(a)});Kinetic.Factory.addGetterSetter(Kinetic.Node,
"blue",0,Kinetic.Validators.RGBComponent,Kinetic.Factory.afterSetFilter)})();
(function(){Kinetic.Filters.HSV=function(a){a=a.data;for(var g=a.length,c=this.value(),d=this.saturation(),b=Math.abs(this.hue()+360)%360,e=c*d*Math.cos(b*Math.PI/180),f=c*d*Math.sin(b*Math.PI/180),d=0.299*c+0.701*e+0.167*f,b=0.587*c-0.587*e+0.33*f,k=0.114*c-0.114*e-0.497*f,h=0.299*c-0.299*e-0.328*f,l=0.587*c+0.413*e+0.035*f,m=0.114*c-0.114*e+0.293*f,p=0.299*c-0.3*e+1.25*f,s=0.587*c-0.586*e-1.05*f,e=0.114*c+0.886*e-0.2*f,r,q,u,c=0;c<g;c+=4)f=a[c+0],r=a[c+1],q=a[c+2],u=a[c+3],a[c+0]=d*f+b*r+k*q,a[c+
1]=h*f+l*r+m*q,a[c+2]=p*f+s*r+e*q,a[c+3]=u};Kinetic.Factory.addGetterSetter(Kinetic.Node,"hue",0,null,Kinetic.Factory.afterSetFilter);Kinetic.Factory.addGetterSetter(Kinetic.Node,"saturation",1,null,Kinetic.Factory.afterSetFilter);Kinetic.Factory.addGetterSetter(Kinetic.Node,"value",1,null,Kinetic.Factory.afterSetFilter)})();
(function(){Kinetic.Filters.Emboss=function(a){var g=10*this.embossStrength(),c=255*this.embossWhiteLevel(),d=this.embossDirection(),b=this.embossBlend(),e=0,f=0,k=a.data,h=a.width;a=a.height;var l=4*h,m=a;switch(d){case "top-left":f=e=-1;break;case "top":e=-1;f=0;break;case "top-right":e=-1;f=1;break;case "right":e=0;f=1;break;case "bottom-right":f=e=1;break;case "bottom":e=1;f=0;break;case "bottom-left":e=1;f=-1;break;case "left":e=0;f=-1;break}do{var d=(m-1)*l,p=e;1>m+p&&(p=0);m+p>a&&(p=0);var p=
(m-1+p)*h*4,s=h;do{var r=d+4*(s-1),q=f;1>s+q&&(q=0);s+q>h&&(q=0);var q=p+4*(s-1+q),u=k[r+1]-k[q+1],v=k[r+2]-k[q+2],q=k[r]-k[q],x=0<q?q:-q,z=0<v?v:-v;(0<u?u:-u)>x&&(q=u);z>x&&(q=v);q*=g;b?(u=k[r]+q,v=k[r+1]+q,q=k[r+2]+q,k[r]=255<u?255:0>u?0:u,k[r+1]=255<v?255:0>v?0:v,k[r+2]=255<q?255:0>q?0:q):(q=c-q,0>q?q=0:255<q&&(q=255),k[r]=k[r+1]=k[r+2]=q)}while(--s)}while(--m)};Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossStrength",0.5,null,Kinetic.Factory.afterSetFilter);Kinetic.Factory.addGetterSetter(Kinetic.Node,
"embossWhiteLevel",0.5,null,Kinetic.Factory.afterSetFilter);Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossDirection","top-left",null,Kinetic.Factory.afterSetFilter);Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossBlend",!1,null,Kinetic.Factory.afterSetFilter)})();
(function(){function a(a,c,d,b,e){d-=c;e-=b;return 0===d?b+e/2:0===e?b:a=(a-c)/d*e+b}Kinetic.Filters.Enhance=function(g){g=g.data;var c=g.length,d=g[0],b=d,e,f=g[1],k=f,h=g[2],l=h,m,p=this.enhance();if(0!==p){for(m=0;m<c;m+=4)e=g[m+0],e<d?d=e:e>b&&(b=e),e=g[m+1],e<f?f=e:e>k&&(k=e),e=g[m+2],e<h?h=e:e>l&&(l=e);b===d&&(b=255,d=0);k===f&&(k=255,f=0);l===h&&(l=255,h=0);var s,r,q,u;0<p?(e=b+p*(255-b),s=d-p*(d-0),r=k+p*(255-k),q=f-p*(f-0),u=l+p*(255-l),p=h-p*(h-0)):(m=0.5*(b+d),e=b+p*(b-m),s=d+p*(d-m),m=
0.5*(k+f),r=k+p*(k-m),q=f+p*(f-m),m=0.5*(l+h),u=l+p*(l-m),p=h+p*(h-m));for(m=0;m<c;m+=4)g[m+0]=a(g[m+0],d,b,s,e),g[m+1]=a(g[m+1],f,k,q,r),g[m+2]=a(g[m+2],h,l,p,u)}};Kinetic.Factory.addGetterSetter(Kinetic.Node,"enhance",0,null,Kinetic.Factory.afterSetFilter)})();(function(){Kinetic.Filters.Posterize=function(a){var g=Math.round(254*this.levels())+1;a=a.data;var c=a.length,g=255/g,d;for(d=0;d<c;d+=1)a[d]=Math.floor(a[d]/g)*g};Kinetic.Factory.addGetterSetter(Kinetic.Node,"levels",0.5,null,Kinetic.Factory.afterSetFilter)})();
(function(){Kinetic.Filters.Noise=function(a){var g=255*this.noise();a=a.data;var c=a.length,g=g/2,d;for(d=0;d<c;d+=4)a[d+0]+=g-2*g*Math.random(),a[d+1]+=g-2*g*Math.random(),a[d+2]+=g-2*g*Math.random()};Kinetic.Factory.addGetterSetter(Kinetic.Node,"noise",0.2,null,Kinetic.Factory.afterSetFilter)})();
(function(){Kinetic.Filters.Pixelate=function(a){var g=Math.ceil(this.pixelSize()),c=a.width,d=a.height;a=a.data;var b,e,f,k,h,l,m,p=Math.ceil(c/g),s=Math.ceil(d/g),r,q,u,v,x,z,y;for(x=0;x<p;x+=1)for(z=0;z<s;z+=1){m=l=h=k=0;r=x*g;q=r+g;u=z*g;v=u+g;y=0;for(b=r;b<q;b+=1)if(!(b>=c))for(e=u;e<v;e+=1)e>=d||(f=4*(c*e+b),k+=a[f+0],h+=a[f+1],l+=a[f+2],m+=a[f+3],y+=1);k/=y;h/=y;l/=y;alphas=m/y;for(b=r;b<q;b+=1)if(!(b>=c))for(e=u;e<v;e+=1)e>=d||(f=4*(c*e+b),a[f+0]=k,a[f+1]=h,a[f+2]=l,a[f+3]=m)}};Kinetic.Factory.addGetterSetter(Kinetic.Node,
"pixelSize",8,null,Kinetic.Factory.afterSetFilter)})();(function(){Kinetic.Filters.Threshold=function(a){var g=255*this.threshold();a=a.data;var c=a.length,d;for(d=0;d<c;d+=1)a[d]=a[d]<g?0:255};Kinetic.Factory.addGetterSetter(Kinetic.Node,"threshold",0.5,null,Kinetic.Factory.afterSetFilter)})();
(function(){Kinetic.Filters.Sepia=function(a){var g=a.data,c=a.width;a=a.height;var d=4*c,b,e,f,k,h,l,m,p;do{b=(a-1)*d;e=c;do f=b+4*(e-1),k=g[f],h=g[f+1],l=g[f+2],m=0.393*k+0.769*h+0.189*l,p=0.349*k+0.686*h+0.168*l,k=0.272*k+0.534*h+0.131*l,g[f]=255<m?255:m,g[f+1]=255<p?255:p,g[f+2]=255<k?255:k,g[f+3]=g[f+3];while(--e)}while(--a)}})();
(function(){Kinetic.Filters.Solarize=function(a){var g=a.data,c=a.width,d=4*c;a=a.height;do{var b=(a-1)*d,e=c;do{var f=b+4*(e-1),k=g[f],h=g[f+1],l=g[f+2];127<k&&(k=255-k);127<h&&(h=255-h);127<l&&(l=255-l);g[f]=k;g[f+1]=h;g[f+2]=l}while(--e)}while(--a)}})();
(function(){var a=document.createElement("canvas");Kinetic.Filters.Kaleidoscope=function(g){var c=g.width,d=g.height,b=Math.round(this.kaleidoscopePower()),e=Math.round(this.kaleidoscopeAngle()),f=Math.floor(e%360*c/360);if(!(1>b)){a.width=c;a.height=d;var e=a.getContext("2d").getImageData(0,0,c,d),k=g.data,h=e.data,l=g.width,m=g.height,p=c/2||l/2,s=d/2||m/2,r,q,u=0,v=0,x=0,z=0,y,w=Math.sqrt(p*p+s*s);q=l-p;r=m-s;y=Math.sqrt(q*q+r*r);var w=y>w?y:w,A,E=360/l*Math.PI/180,B,F,L,H,G,D,T,Z,X,R;for(A=0;A<
l;A+=1)for(B=Math.sin(A*E),F=Math.cos(A*E),y=0;y<m;y+=1)q=p+w*y/m*F,r=s+w*y/m*B,1>=q&&(q=1),q>=l-0.5&&(q=l-1),1>=r&&(r=1),r>=m-0.5&&(r=m-1),L=q-0.5,q+=0.5,H=Math.floor(L),G=Math.floor(q),D=r-0.5,T=r+0.5,Z=Math.floor(D),X=Math.floor(T),R=(1-(L-H))*(1-(D-Z)),r=4*(Z*l+H),u=k[r+0]*R,v=k[r+1]*R,x=k[r+2]*R,z=k[r+3]*R,R=(1-(L-H))*(T-X),r=4*(X*l+H),u+=k[r+0]*R,v+=k[r+1]*R,x+=k[r+2]*R,z+=k[r+3]*R,R=(q-G)*(T-X),r=4*(X*l+G),u+=k[r+0]*R,v+=k[r+1]*R,x+=k[r+2]*R,z+=k[r+3]*R,R=(q-G)*(1-(D-Z)),r=4*(Z*l+G),u+=k[r+
0]*R,v+=k[r+1]*R,x+=k[r+2]*R,z+=k[r+3]*R,r=4*(A+y*l),h[r+0]=u,h[r+1]=v,h[r+2]=x,h[r+3]=z;for(k=c/Math.pow(2,b);8>=k;)k*=2,b-=1;m=k=Math.ceil(k);p=0;s=m;w=1;f+k>c&&(p=m,s=0,w=-1);for(l=0;l<d;l+=1)for(h=p;h!==s;h+=w)m=Math.round(h+f)%c,B=4*(c*l+m),y=e.data[B+0],A=e.data[B+1],E=e.data[B+2],B=e.data[B+3],F=4*(c*l+h),e.data[F+0]=y,e.data[F+1]=A,e.data[F+2]=E,e.data[F+3]=B;for(l=0;l<d;l+=1)for(m=Math.floor(k),f=0;f<b;f+=1){for(h=0;h<m+1;h+=1)B=4*(c*l+h),y=e.data[B+0],A=e.data[B+1],E=e.data[B+2],B=e.data[B+
3],F=4*(c*l+2*m-h-1),e.data[F+0]=y,e.data[F+1]=A,e.data[F+2]=E,e.data[F+3]=B;m*=2}m={polarRotation:0};c=e.data;g=g.data;d=e.width;e=e.height;b=m.polarCenterX||d/2;f=m.polarCenterY||e/2;A=y=w=s=0;k=Math.sqrt(b*b+f*f);h=d-b;l=e-f;h=Math.sqrt(h*h+l*l);k=h>k?h:k;m=m.polarRotation||0;for(h=0;h<d;h+=1)for(l=0;l<e;l+=1)p=h-b,w=l-f,s=Math.sqrt(p*p+w*w)*e/k,w=(180*Math.atan2(w,p)/Math.PI+360+m)%360,w=w*d/360,p=w-0.5,E=w+0.5,B=Math.floor(p),F=Math.floor(E),L=s-0.5,H=s+0.5,G=Math.floor(L),D=Math.floor(H),r=
(1-(p-B))*(1-(L-G)),q=4*(G*d+B),s=c[q+0]*r,w=c[q+1]*r,y=c[q+2]*r,A=c[q+3]*r,r=(1-(p-B))*(H-D),q=4*(D*d+B),s+=c[q+0]*r,w+=c[q+1]*r,y+=c[q+2]*r,A+=c[q+3]*r,r=(E-F)*(H-D),q=4*(D*d+F),s+=c[q+0]*r,w+=c[q+1]*r,y+=c[q+2]*r,A+=c[q+3]*r,r=(E-F)*(1-(L-G)),q=4*(G*d+F),s+=c[q+0]*r,w+=c[q+1]*r,y+=c[q+2]*r,A+=c[q+3]*r,q=4*(l*d+h),g[q+0]=s,g[q+1]=w,g[q+2]=y,g[q+3]=A}};Kinetic.Factory.addGetterSetter(Kinetic.Node,"kaleidoscopePower",2,null,Kinetic.Factory.afterSetFilter);Kinetic.Factory.addGetterSetter(Kinetic.Node,
"kaleidoscopeAngle",0,null,Kinetic.Factory.afterSetFilter)})();
(function(){function a(a){window.setTimeout(a,1E3/60)}Kinetic.Animation=function(a,b){this.func=a;this.setLayers(b);this.id=Kinetic.Animation.animIdCounter++;this.frame={time:0,timeDiff:0,lastTime:(new Date).getTime()}};Kinetic.Animation.prototype={setLayers:function(a){var b=[];this.layers=b=a?0<a.length?a:[a]:[]},getLayers:function(){return this.layers},addLayer:function(a){var b=this.layers,c,f;if(b)for(c=b.length,f=0;f<c;f++){if(b[f]._id===a._id)return!1}else this.layers=[];this.layers.push(a);
return!0},isRunning:function(){for(var a=Kinetic.Animation.animations,b=0;b<a.length;b++)if(a[b].id===this.id)return!0;return!1},start:function(){this.stop();this.frame.timeDiff=0;this.frame.lastTime=(new Date).getTime();Kinetic.Animation._addAnimation(this)},stop:function(){Kinetic.Animation._removeAnimation(this)},_updateFrameObject:function(a){this.frame.timeDiff=a-this.frame.lastTime;this.frame.lastTime=a;this.frame.time+=this.frame.timeDiff;this.frame.frameRate=1E3/this.frame.timeDiff}};Kinetic.Animation.animations=
[];Kinetic.Animation.animIdCounter=0;Kinetic.Animation.animRunning=!1;Kinetic.Animation._addAnimation=function(a){this.animations.push(a);this._handleAnimation()};Kinetic.Animation._removeAnimation=function(a){a=a.id;for(var b=this.animations,c=b.length,f=0;f<c;f++)if(b[f].id===a){this.animations.splice(f,1);break}};Kinetic.Animation._runFrames=function(){var a={},b=this.animations,c,f,g,h,l,m,p,s;for(h=0;h<b.length;h++){c=b[h];f=c.layers;g=c.func;c._updateFrameObject((new Date).getTime());m=f.length;
for(l=0;l<m;l++)p=f[l],void 0!==p._id&&(a[p._id]=p);g&&g.call(c,c.frame)}for(s in a)a[s].draw()};Kinetic.Animation._animationLoop=function(){var a=this;0<this.animations.length?(this._runFrames(),Kinetic.Animation.requestAnimFrame(function(){a._animationLoop()})):this.animRunning=!1};Kinetic.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,this._animationLoop())};var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame||a;Kinetic.Animation.requestAnimFrame=function(c){(Kinetic.isDragging?a:g)(c)};var c=Kinetic.Node.prototype.moveTo;Kinetic.Node.prototype.moveTo=function(a){c.call(this,a)};Kinetic.Layer.prototype.batchDraw=function(){var a=this;this.batchAnim||(this.batchAnim=new Kinetic.Animation(function(){a.lastBatchDrawTime&&500<(new Date).getTime()-a.lastBatchDrawTime&&a.batchAnim.stop()},this));this.lastBatchDrawTime=(new Date).getTime();this.batchAnim.isRunning()||(this.draw(),
this.batchAnim.start())};Kinetic.Stage.prototype.batchDraw=function(){this.getChildren().each(function(a){a.batchDraw()})}})();
(function(){var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},g=0;Kinetic.Tween=function(d){var b=this,e=d.node,f=e._id,k=d.duration||1,h=d.easing||Kinetic.Easings.Linear,l=!!d.yoyo,m;this.node=e;this._id=g++;this.anim=new Kinetic.Animation(function(){b.tween.onEnterFrame()},e.getLayer()||e.getLayers());this.tween=new c(m,function(a){b._tweenFunc(a)},h,0,1,1E3*k,l);this._addListeners();Kinetic.Tween.attrs[f]||(Kinetic.Tween.attrs[f]={});Kinetic.Tween.attrs[f][this._id]||(Kinetic.Tween.attrs[f][this._id]=
{});Kinetic.Tween.tweens[f]||(Kinetic.Tween.tweens[f]={});for(m in d)void 0===a[m]&&this._addAttr(m,d[m]);this.reset();this.onFinish=d.onFinish;this.onReset=d.onReset};Kinetic.Tween.attrs={};Kinetic.Tween.tweens={};Kinetic.Tween.prototype={_addAttr:function(a,b){var c=this.node,f=c._id,g,h,l;(g=Kinetic.Tween.tweens[f][a])&&delete Kinetic.Tween.attrs[f][g][a];c=c.getAttr(a);if(Kinetic.Util._isArray(b))for(g=[],l=b.length,h=0;h<l;h++)g.push(b[h]-c[h]);else g=b-c;Kinetic.Tween.attrs[f][this._id][a]=
{start:c,diff:g};Kinetic.Tween.tweens[f][a]=this._id},_tweenFunc:function(a){var b=this.node,c=Kinetic.Tween.attrs[b._id][this._id],f,g,h,l,m,p;for(f in c){g=c[f];h=g.start;g=g.diff;if(Kinetic.Util._isArray(h))for(l=[],p=h.length,m=0;m<p;m++)l.push(h[m]+g[m]*a);else l=h+g*a;b.setAttr(f,l)}},_addListeners:function(){var a=this;this.tween.onPlay=function(){a.anim.start()};this.tween.onReverse=function(){a.anim.start()};this.tween.onPause=function(){a.anim.stop()};this.tween.onFinish=function(){if(a.onFinish)a.onFinish()};
this.tween.onReset=function(){if(a.onReset)a.onReset()}},play:function(){this.tween.play();return this},reverse:function(){this.tween.reverse();return this},reset:function(){var a=this.node;this.tween.reset();(a.getLayer()||a.getLayers()).draw();return this},seek:function(a){var b=this.node;this.tween.seek(1E3*a);(b.getLayer()||b.getLayers()).draw();return this},pause:function(){this.tween.pause();return this},finish:function(){var a=this.node;this.tween.finish();(a.getLayer()||a.getLayers()).draw();
return this},destroy:function(){var a=this.node._id,b=this._id,c=Kinetic.Tween.tweens[a],f;this.pause();for(f in c)delete Kinetic.Tween.tweens[a][f];delete Kinetic.Tween.attrs[a][b]}};var c=function(a,b,c,f,g,h,l){this.prop=a;this.propFunc=b;this._pos=this.begin=f;this.duration=h;this.prevPos=this._change=0;this.yoyo=l;this._finish=this._startTime=this._position=this._time=0;this.func=c;this._change=g-this.begin;this.pause()};c.prototype={fire:function(a){(a=this[a])&&a()},setTime:function(a){a>this.duration?
this.yoyo?(this._time=this.duration,this.reverse()):this.finish():0>a?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=a,this.update())},getTime:function(){return this._time},setPosition:function(a){this.prevPos=this._pos;this.propFunc(a);this._pos=a},getPosition:function(a){void 0===a&&(a=this._time);return this.func(a,this.begin,this._change,this.duration)},play:function(){this.state=2;this._startTime=this.getTimer()-this._time;this.onEnterFrame();this.fire("onPlay")},reverse:function(){this.state=
3;this._time=this.duration-this._time;this._startTime=this.getTimer()-this._time;this.onEnterFrame();this.fire("onReverse")},seek:function(a){this.pause();this._time=a;this.update();this.fire("onSeek")},reset:function(){this.pause();this._time=0;this.update();this.fire("onReset")},finish:function(){this.pause();this._time=this.duration;this.update();this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var a=this.getTimer()-this._startTime;
2===this.state?this.setTime(a):3===this.state&&this.setTime(this.duration-a)},pause:function(){this.state=1;this.fire("onPause")},getTimer:function(){return(new Date).getTime()}};Kinetic.Easings={BackEaseIn:function(a,b,c,f,g,h){return c*(a/=f)*a*(2.70158*a-1.70158)+b},BackEaseOut:function(a,b,c,f,g,h){return c*((a=a/f-1)*a*(2.70158*a+1.70158)+1)+b},BackEaseInOut:function(a,b,c,f,g,h){g=1.70158;return 1>(a/=f/2)?c/2*a*a*(((g*=1.525)+1)*a-g)+b:c/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b},ElasticEaseIn:function(a,
b,c,f,g,h){var l=0;if(0===a)return b;if(1==(a/=f))return b+c;h||(h=0.3*f);!g||g<Math.abs(c)?(g=c,l=h/4):l=h/(2*Math.PI)*Math.asin(c/g);return-(g*Math.pow(2,10*(a-=1))*Math.sin(2*(a*f-l)*Math.PI/h))+b},ElasticEaseOut:function(a,b,c,f,g,h){var l=0;if(0===a)return b;if(1==(a/=f))return b+c;h||(h=0.3*f);!g||g<Math.abs(c)?(g=c,l=h/4):l=h/(2*Math.PI)*Math.asin(c/g);return g*Math.pow(2,-10*a)*Math.sin(2*(a*f-l)*Math.PI/h)+c+b},ElasticEaseInOut:function(a,b,c,f,g,h){var l=0;if(0===a)return b;if(2==(a/=f/
2))return b+c;h||(h=0.3*f*1.5);!g||g<Math.abs(c)?(g=c,l=h/4):l=h/(2*Math.PI)*Math.asin(c/g);return 1>a?-0.5*g*Math.pow(2,10*(a-=1))*Math.sin(2*(a*f-l)*Math.PI/h)+b:g*Math.pow(2,-10*(a-=1))*Math.sin(2*(a*f-l)*Math.PI/h)*0.5+c+b},BounceEaseOut:function(a,b,c,f){return(a/=f)<1/2.75?7.5625*c*a*a+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+b},BounceEaseIn:function(a,b,c,f){return c-Kinetic.Easings.BounceEaseOut(f-a,
0,c,f)+b},BounceEaseInOut:function(a,b,c,f){return a<f/2?0.5*Kinetic.Easings.BounceEaseIn(2*a,0,c,f)+b:0.5*Kinetic.Easings.BounceEaseOut(2*a-f,0,c,f)+0.5*c+b},EaseIn:function(a,b,c,f){return c*(a/=f)*a+b},EaseOut:function(a,b,c,f){return-c*(a/=f)*(a-2)+b},EaseInOut:function(a,b,c,f){return 1>(a/=f/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},StrongEaseIn:function(a,b,c,f){return c*(a/=f)*a*a*a*a+b},StrongEaseOut:function(a,b,c,f){return c*((a=a/f-1)*a*a*a*a+1)+b},StrongEaseInOut:function(a,b,c,f){return 1>
(a/=f/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},Linear:function(a,b,c,f){return c*a/f+b}}})();
(function(){Kinetic.DD={anim:new Kinetic.Animation,isDragging:!1,offset:{x:0,y:0},node:null,_drag:function(a){var d=Kinetic.DD,b=d.node;b&&(b._setDragPosition(a),d.isDragging||(d.isDragging=!0,b.fire("dragstart",a,!0)),b.fire("dragmove",a,!0))},_endDragBefore:function(a){var d=Kinetic.DD,b=d.node,e;b&&(e=b.getLayer(),d.anim.stop(),d.isDragging&&(d.isDragging=!1,Kinetic.listenClickTap=!1,a&&(a.dragEndNode=b)),delete d.node,(e||b).draw())},_endDragAfter:function(a){a=a||{};var d=a.dragEndNode;a&&d&&
d.fire("dragend",a,!0)}};Kinetic.Node.prototype.startDrag=function(){var a=Kinetic.DD,d=this.getStage(),b=this.getLayer(),d=d.getPointerPosition(),e=this.getAbsolutePosition();d&&(a.node&&a.node.stopDrag(),a.node=this,a.offset.x=d.x-e.x,a.offset.y=d.y-e.y,a.anim.setLayers(b||this.getLayers()),a.anim.start(),this._setDragPosition())};Kinetic.Node.prototype._setDragPosition=function(a){var d=Kinetic.DD,b=this.getStage().getPointerPosition(),e=this.getDragBoundFunc(),d={x:b.x-d.offset.x,y:b.y-d.offset.y};
void 0!==e&&(d=e.call(this,d,a));this.setAbsolutePosition(d)};Kinetic.Node.prototype.stopDrag=function(){var a=Kinetic.DD,d={};a._endDragBefore(d);a._endDragAfter(d)};Kinetic.Node.prototype.setDraggable=function(a){this._setAttr("draggable",a);this._dragChange()};var a=Kinetic.Node.prototype.destroy;Kinetic.Node.prototype.destroy=function(){var c=Kinetic.DD;c.node&&c.node._id===this._id&&this.stopDrag();a.call(this)};Kinetic.Node.prototype.isDragging=function(){var a=Kinetic.DD;return a.node&&a.node._id===
this._id&&a.isDragging};Kinetic.Node.prototype._listenDrag=function(){var a=this;this._dragCleanup();if("Stage"===this.getClassName())this.on("contentMousedown.kinetic contentTouchstart.kinetic",function(d){Kinetic.DD.node||a.startDrag(d)});else this.on("mousedown.kinetic touchstart.kinetic",function(d){Kinetic.DD.node||a.startDrag(d)})};Kinetic.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var a=this.getStage(),d=Kinetic.DD;a&&d.node&&d.node._id===
this._id&&d.node.stopDrag()}};Kinetic.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.kinetic"),this.off("contentTouchstart.kinetic")):(this.off("mousedown.kinetic"),this.off("touchstart.kinetic"))};Kinetic.Factory.addGetterSetter(Kinetic.Node,"dragBoundFunc");Kinetic.Factory.addGetter(Kinetic.Node,"draggable",!1);Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"draggable");var g=document.documentElement;g.addEventListener("mouseup",Kinetic.DD._endDragBefore,
!0);g.addEventListener("touchend",Kinetic.DD._endDragBefore,!0);g.addEventListener("mouseup",Kinetic.DD._endDragAfter,!1);g.addEventListener("touchend",Kinetic.DD._endDragAfter,!1)})();
(function(){Kinetic.Util.addMethods(Kinetic.Container,{__init:function(a){this.children=new Kinetic.Collection;Kinetic.Node.call(this,a)},getChildren:function(){return this.children},hasChildren:function(){return 0<this.getChildren().length},removeChildren:function(){for(var a=this.children,g;0<a.length;)g=a[0],g.hasChildren()&&g.removeChildren(),g.remove();return this},destroyChildren:function(){for(var a=this.children;0<a.length;)a[0].destroy();return this},add:function(a){var g=this.children;this._validateAdd(a);
a.index=g.length;a.parent=this;g.push(a);this._fire("add",{child:a});return this},destroy:function(){this.hasChildren()&&this.destroyChildren();Kinetic.Node.prototype.destroy.call(this)},find:function(a){var g=[];a=a.replace(/ /g,"").split(",");var c=a.length,d,b,e,f,k;for(d=0;d<c;d++)if(e=a[d],"#"===e.charAt(0))(b=this._getNodeById(e.slice(1)))&&g.push(b);else if("."===e.charAt(0))b=this._getNodesByName(e.slice(1)),g=g.concat(b);else for(f=this.getChildren(),k=f.length,b=0;b<k;b++)g=g.concat(f[b]._get(e));
return Kinetic.Collection.toCollection(g)},_getNodeById:function(a){a=Kinetic.ids[a];return void 0!==a&&this.isAncestorOf(a)?a:null},_getNodesByName:function(a){return this._getDescendants(Kinetic.names[a]||[])},_get:function(a){for(var g=Kinetic.Node.prototype._get.call(this,a),c=this.getChildren(),d=c.length,b=0;b<d;b++)g=g.concat(c[b]._get(a));return g},toObject:function(){var a=Kinetic.Node.prototype.toObject.call(this);a.children=[];for(var g=this.getChildren(),c=g.length,d=0;d<c;d++)a.children.push(g[d].toObject());
return a},_getDescendants:function(a){for(var g=[],c=a.length,d=0;d<c;d++){var b=a[d];this.isAncestorOf(b)&&g.push(b)}return g},isAncestorOf:function(a){for(a=a.getParent();a;){if(a._id===this._id)return!0;a=a.getParent()}return!1},clone:function(a){var g=Kinetic.Node.prototype.clone.call(this,a);this.getChildren().each(function(a){g.add(a.clone())});return g},getAllIntersections:function(a){var g=[];this.find("Shape").each(function(c){c.isVisible()&&c.intersects(a)&&g.push(c)});return g},_setChildrenIndices:function(){this.children.each(function(a,
g){a.index=g})},drawScene:function(a){var g=this.getLayer(),g=(a=a||g&&g.getCanvas())&&a.getContext(),c=this._cache.canvas,c=c&&c.scene;this.isVisible()&&(c?this._drawCachedSceneCanvas(g):this._drawChildren(a,"drawScene"));return this},drawHit:function(a){var g=this.getLayer(),g=(a=a||g&&g.hitCanvas)&&a.getContext(),c=this._cache.canvas,c=c&&c.hit;this.shouldDrawHit()&&(c?this._drawCachedHitCanvas(g):this._drawChildren(a,"drawHit"));return this},_drawChildren:function(a,g){var c=a&&a.getContext(),
d=this.getClipWidth(),b=this.getClipHeight(),e=d&&b,f,k;e&&(f=this.getClipX(),k=this.getClipY(),c.save(),c._applyTransform(this),c.beginPath(),c.rect(f,k,d,b),c.clip(),c.reset());this.children.each(function(b){b[g](a)});e&&c.restore()}});Kinetic.Util.extend(Kinetic.Container,Kinetic.Node);Kinetic.Container.prototype.get=Kinetic.Container.prototype.find;Kinetic.Factory.addComponentsGetterSetter(Kinetic.Container,"clip",["x","y","width","height"]);Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipX");
Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipY");Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipWidth");Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipHeight");Kinetic.Collection.mapMethods(Kinetic.Container)})();
(function(){function a(a){a.fill()}function g(a){a.stroke()}function c(a){a.fill()}function d(a){a.stroke()}function b(){this._clearCache(e)}var e="hasShadow";Kinetic.Util.addMethods(Kinetic.Shape,{__init:function(e){this.nodeType="Shape";this._fillFunc=a;this._strokeFunc=g;this._fillFuncHit=c;this._strokeFuncHit=d;for(var k=Kinetic.shapes,h;!(h=Kinetic.Util.getRandomColor())||h in k;);this.colorKey=h;k[h]=this;Kinetic.Node.call(this,e);this.on("shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic shadowEnabledChanged.kinetic",
b)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(e,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||
this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return!!(this.stroke()||this.strokeRed()||this.strokeGreen()||this.strokeBlue())},_get:function(a){return this.className===a||this.nodeType===a?[this]:[]},intersects:function(a){var b=this.getStage().bufferHitCanvas;b.getContext().clear();this.drawScene(b);return 0<b.context.getImageData(a.x|0,a.y|0,1,1).data[3]},destroy:function(){Kinetic.Node.prototype.destroy.call(this);delete Kinetic.shapes[this.colorKey]},
_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasFill()&&this.hasStroke()},drawScene:function(a){a=(a||this.getLayer().getCanvas()).getContext();var b=this._cache.canvas,c=this.sceneFunc(),e=this.hasShadow(),d;this.isVisible()&&(b?this._drawCachedSceneCanvas(a):c&&(a.save(),this._useBufferCanvas()?(b=this.getStage(),b=b.bufferCanvas,d=b.getContext(),d.clear(),d.save(),d._applyLineJoin(this),d._applyTransform(this),c.call(this,d),d.restore(),e&&(a.save(),
a._applyShadow(this),a.drawImage(b._canvas,0,0),a.restore()),a._applyOpacity(this),a.drawImage(b._canvas,0,0)):(a._applyLineJoin(this),a._applyTransform(this),e&&(a.save(),a._applyShadow(this),c.call(this,a),a.restore()),a._applyOpacity(this),c.call(this,a)),a.restore()));return this},drawHit:function(a){a=(a||this.getLayer().hitCanvas).getContext();var b=this.hitFunc()||this.sceneFunc(),c=this._cache.canvas,c=c&&c.hit;this.shouldDrawHit()&&(c?this._drawCachedHitCanvas(a):b&&(a.save(),a._applyLineJoin(this),
a._applyTransform(this),b.call(this,a),a.restore()));return this},drawHitFromCache:function(a){a=a||0;var b=this._cache.canvas,c=this._getCachedSceneCanvas(),e=c.getContext(),b=b.hit.getContext(),d=c.getWidth(),c=c.getHeight(),g,s,r,q,u,v,x,z;b.clear();try{g=e.getImageData(0,0,d,c);s=g.data;r=b.getImageData(0,0,d,c);q=r.data;u=s.length;v=Kinetic.Util._hexToRgb(this.colorKey);for(x=0;x<u;x+=4)z=s[x+3],z>a&&(q[x]=v.r,q[x+1]=v.g,q[x+2]=v.b,q[x+3]=255);b.putImageData(r,0,0)}catch(y){Kinetic.Util.warn("Unable to draw hit graph from cached scene canvas. "+
y.message)}return this}});Kinetic.Util.extend(Kinetic.Shape,Kinetic.Node);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"stroke");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeRed",0,Kinetic.Validators.RGBComponent);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeGreen",0,Kinetic.Validators.RGBComponent);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeBlue",0,Kinetic.Validators.RGBComponent);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeAlpha",1,Kinetic.Validators.alphaComponent);
Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeWidth",2);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineJoin");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineCap");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"sceneFunc");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"hitFunc");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dash");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowColor");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowRed",0,Kinetic.Validators.RGBComponent);
Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowGreen",0,Kinetic.Validators.RGBComponent);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlue",0,Kinetic.Validators.RGBComponent);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowAlpha",1,Kinetic.Validators.alphaComponent);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlur");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOpacity");Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"shadowOffset",["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Shape,
"shadowOffsetX",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetY",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternImage");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fill");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRed",0,Kinetic.Validators.RGBComponent);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillGreen",0,Kinetic.Validators.RGBComponent);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillBlue",0,Kinetic.Validators.RGBComponent);Kinetic.Factory.addGetterSetter(Kinetic.Shape,
"fillAlpha",1,Kinetic.Validators.alphaComponent);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternX",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternY",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientColorStops");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartRadius",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndRadius",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientColorStops");Kinetic.Factory.addGetterSetter(Kinetic.Shape,
"fillPatternRepeat","repeat");Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillEnabled",!0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeEnabled",!0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowEnabled",!0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dashEnabled",!0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeScaleEnabled",!0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPriority","color");Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternOffset",
["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetX",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetY",0);Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternScale",["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleX",1);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleY",1);Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientStartPoint",["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Shape,
"fillLinearGradientStartPointX",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointY",0);Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientEndPoint",["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointX",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointY",0);Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientStartPoint",["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Shape,
"fillRadialGradientStartPointX",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointY",0);Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientEndPoint",["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointX",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointY",0);Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRotation",0);Kinetic.Factory.backCompat(Kinetic.Shape,{dashArray:"dash",getDashArray:"getDash",
setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});Kinetic.Collection.mapMethods(Kinetic.Shape)})();
(function(){function a(a,c){a.content.addEventListener(c,function(d){a[g+c](d)},!1)}var g="_",c="mousedown mousemove mouseup mouseout touchstart touchmove touchend mouseover".split(" "),d=c.length;Kinetic.Util.addMethods(Kinetic.Stage,{___init:function(a){this.nodeType="Stage";Kinetic.Container.call(this,a);this._id=Kinetic.idCounter++;this._buildDOM();this._bindContentEvents();this._enableNestedTransforms=!1;Kinetic.stages.push(this)},_validateAdd:function(a){"Layer"!==a.getType()&&Kinetic.Util.error("You may only add layers to the stage.")},
setContainer:function(a){"string"===typeof a&&(a=document.getElementById(a));this._setAttr("container",a);return this},shouldDrawHit:function(){return!0},draw:function(){Kinetic.Node.prototype.draw.call(this);return this},setHeight:function(a){Kinetic.Node.prototype.setHeight.call(this,a);this._resizeDOM();return this},setWidth:function(a){Kinetic.Node.prototype.setWidth.call(this,a);this._resizeDOM();return this},clear:function(){var a=this.children,c=a.length,d;for(d=0;d<c;d++)a[d].clear();return this},
destroy:function(){var a=this.content;Kinetic.Container.prototype.destroy.call(this);a&&Kinetic.Util._isInDocument(a)&&this.getContainer().removeChild(a)},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(a){function c(h){var l=s[h].toDataURL(),u=new Image;u.onload=function(){p.drawImage(u,0,0);h<s.length-1?c(h+1):a.callback(m.toDataURL(d,g))};u.src=l}a=a||{};var d=a.mimeType||null,g=a.quality||null,
h=a.x||0,l=a.y||0,m=new Kinetic.SceneCanvas({width:a.width||this.getWidth(),height:a.height||this.getHeight(),pixelRatio:1}),p=m.getContext()._context,s=this.children;(h||l)&&p.translate(-1*h,-1*l);c(0)},toImage:function(a){var c=a.callback;a.callback=function(a){Kinetic.Util._getImage(a,function(a){c(a)})};this.toDataURL(a)},getIntersection:function(a){var c=this.getChildren(),d,g;for(d=c.length-1;0<=d;d--)if(g=c[d].getIntersection(a))return g;return null},_resizeDOM:function(){if(this.content){var a=
this.getWidth(),c=this.getHeight(),d=this.getChildren(),g=d.length,h,l;this.content.style.width=a+"px";this.content.style.height=c+"px";this.bufferCanvas.setSize(a,c);this.bufferHitCanvas.setSize(a,c);for(h=0;h<g;h++)l=d[h],l.getCanvas().setSize(a,c),l.hitCanvas.setSize(a,c),l.draw()}},add:function(a){Kinetic.Container.prototype.add.call(this,a);a.canvas.setSize(this.attrs.width,this.attrs.height);a.hitCanvas.setSize(this.attrs.width,this.attrs.height);a.draw();this.content.appendChild(a.canvas._canvas);
return this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){var b;for(b=0;b<d;b++)a(this,c[b])},_mouseover:function(a){this._fire("contentMouseover",a)},_mouseout:function(a){this._setPointerPosition(a);var c=this.targetShape;c&&!Kinetic.isDragging()&&(c._fireAndBubble("mouseout",a),c._fireAndBubble("mouseleave",a),this.targetShape=null);this.pointerPos=void 0;this._fire("contentMouseout",a)},_mousemove:function(a){this._setPointerPosition(a);
var c=Kinetic.DD,d=this.getIntersection(this.getPointerPosition());d&&d.isListening()?Kinetic.isDragging()||this.targetShape&&this.targetShape._id===d._id?d._fireAndBubble("mousemove",a):(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",a,d),this.targetShape._fireAndBubble("mouseleave",a,d)),d._fireAndBubble("mouseover",a,this.targetShape),d._fireAndBubble("mouseenter",a,this.targetShape),this.targetShape=d):this.targetShape&&!Kinetic.isDragging()&&(this.targetShape._fireAndBubble("mouseout",
a),this.targetShape._fireAndBubble("mouseleave",a),this.targetShape=null);this._fire("contentMousemove",a);c&&c._drag(a);a.preventDefault&&a.preventDefault()},_mousedown:function(a){this._setPointerPosition(a);var c=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0;c&&c.isListening()&&(this.clickStartShape=c,c._fireAndBubble("mousedown",a));this._fire("contentMousedown",a);a.preventDefault&&a.preventDefault()},_mouseup:function(a){this._setPointerPosition(a);var c=this.getIntersection(this.getPointerPosition()),
d=this.clickStartShape,g=!1;Kinetic.inDblClickWindow?(g=!0,Kinetic.inDblClickWindow=!1):Kinetic.inDblClickWindow=!0;setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow);c&&c.isListening()&&(c._fireAndBubble("mouseup",a),Kinetic.listenClickTap&&d&&d._id===c._id&&(c._fireAndBubble("click",a),g&&c._fireAndBubble("dblclick",a)));this._fire("contentMouseup",a);Kinetic.listenClickTap&&(this._fire("contentClick",a),g&&this._fire("contentDblclick",a));Kinetic.listenClickTap=!1;a.preventDefault&&
a.preventDefault()},_touchstart:function(a){this._setPointerPosition(a);var c=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0;c&&c.isListening()&&(this.tapStartShape=c,c._fireAndBubble("touchstart",a),c.isListening()&&a.preventDefault&&a.preventDefault());this._fire("contentTouchstart",a)},_touchend:function(a){this._setPointerPosition(a);var c=this.getIntersection(this.getPointerPosition());fireDblClick=!1;Kinetic.inDblClickWindow?(fireDblClick=!0,Kinetic.inDblClickWindow=
!1):Kinetic.inDblClickWindow=!0;setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow);c&&c.isListening()&&(c._fireAndBubble("touchend",a),Kinetic.listenClickTap&&c._id===this.tapStartShape._id&&(c._fireAndBubble("tap",a),fireDblClick&&c._fireAndBubble("dbltap",a)),c.isListening()&&a.preventDefault&&a.preventDefault());Kinetic.listenClickTap&&(this._fire("contentTouchend",a),fireDblClick&&this._fire("contentDbltap",a));Kinetic.listenClickTap=!1},_touchmove:function(a){this._setPointerPosition(a);
var c=Kinetic.DD,d=this.getIntersection(this.getPointerPosition());d&&d.isListening()&&(d._fireAndBubble("touchmove",a),d.isListening()&&a.preventDefault&&a.preventDefault());this._fire("contentTouchmove",a);c&&c._drag(a)},_setPointerPosition:function(a){a=a?a:window.event;var c=this._getContentPosition(),d=a.offsetX,g=a.clientX,h=null,l=null;void 0!==a.touches?1===a.touches.length&&(a=a.touches[0],h=a.clientX-c.left,l=a.clientY-c.top):void 0!==d?(h=d,l=a.offsetY):"mozilla"===Kinetic.UA.browser?(h=
a.layerX,l=a.layerY):void 0!==g&&c&&(h=g-c.left,l=a.clientY-c.top);null!==h&&null!==l&&(this.pointerPos={x:h,y:l})},_getContentPosition:function(){var a=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:a.top,left:a.left}},_buildDOM:function(){var a=this.getContainer();a.innerHTML="";this.content=document.createElement("div");this.content.style.position="relative";this.content.style.display="inline-block";this.content.className="kineticjs-content";this.content.setAttribute("role",
"presentation");a.appendChild(this.content);this.bufferCanvas=new Kinetic.SceneCanvas({pixelRatio:1});this.bufferHitCanvas=new Kinetic.HitCanvas;this._resizeDOM()},_onContent:function(a,c){var d=a.split(" "),g=d.length,h,l;for(h=0;h<g;h++)l=d[h],this.content.addEventListener(l,c,!1)}});Kinetic.Util.extend(Kinetic.Stage,Kinetic.Container);Kinetic.Factory.addGetter(Kinetic.Stage,"container");Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Stage,"container")})();
(function(){var a=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],g=a.length;Kinetic.Util.addMethods(Kinetic.Layer,{___init:function(a){this.nodeType="Layer";this.canvas=new Kinetic.SceneCanvas;this.hitCanvas=new Kinetic.HitCanvas;Kinetic.Container.call(this,a)},_validateAdd:function(a){a=a.getType();"Group"!==a&&"Shape"!==a&&Kinetic.Util.error("You may only add groups and shapes to a layer.")},getIntersection:function(c){var d,b,e;if(this.isVisible())for(b=
0;b<g;b++){d=a[b];d=this._getIntersection({x:c.x+d.x,y:c.y+d.y});if(e=d.shape)return e;if(!d.antialiased)return null}else return null},_getIntersection:function(a){a=this.hitCanvas.context._context.getImageData(a.x,a.y,1,1).data;var d=a[3];return 255===d?(a=Kinetic.Util._rgbToHex(a[0],a[1],a[2]),a=Kinetic.shapes["#"+a],{shape:a}):0<d?{antialiased:!0}:{}},drawScene:function(a){var d=this.getLayer();a=a||d&&d.getCanvas();this._fire("beforeDraw",{node:this});this.getClearBeforeDraw()&&a.getContext().clear();
Kinetic.Container.prototype.drawScene.call(this,a);this._fire("draw",{node:this});return this},drawHit:function(a){var d=this.getLayer();a=a||d&&d.hitCanvas;d&&d.getClearBeforeDraw()&&d.getHitCanvas().getContext().clear();Kinetic.Container.prototype.drawHit.call(this,a);return this},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(a){var d=this.getContext(),b=this.getHitCanvas().getContext();
d.clear(a);b.clear(a);return this},setVisible:function(a){Kinetic.Node.prototype.setVisible.call(this,a);a?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none");return this},setZIndex:function(a){Kinetic.Node.prototype.setZIndex.call(this,a);var d=this.getStage();d&&(d.content.removeChild(this.getCanvas()._canvas),a<d.getChildren().length-1?d.content.insertBefore(this.getCanvas()._canvas,
d.getChildren()[a+1].getCanvas()._canvas):d.content.appendChild(this.getCanvas()._canvas));return this},moveToTop:function(){Kinetic.Node.prototype.moveToTop.call(this);var a=this.getStage();a&&(a.content.removeChild(this.getCanvas()._canvas),a.content.appendChild(this.getCanvas()._canvas))},moveUp:function(){if(Kinetic.Node.prototype.moveUp.call(this)){var a=this.getStage();a&&(a.content.removeChild(this.getCanvas()._canvas),this.index<a.getChildren().length-1?a.content.insertBefore(this.getCanvas()._canvas,
a.getChildren()[this.index+1].getCanvas()._canvas):a.content.appendChild(this.getCanvas()._canvas))}},moveDown:function(){if(Kinetic.Node.prototype.moveDown.call(this)){var a=this.getStage();if(a){var d=a.getChildren();a.content.removeChild(this.getCanvas()._canvas);a.content.insertBefore(this.getCanvas()._canvas,d[this.index+1].getCanvas()._canvas)}}},moveToBottom:function(){if(Kinetic.Node.prototype.moveToBottom.call(this)){var a=this.getStage();if(a){var d=a.getChildren();a.content.removeChild(this.getCanvas()._canvas);
a.content.insertBefore(this.getCanvas()._canvas,d[1].getCanvas()._canvas)}}},getLayer:function(){return this},remove:function(){var a=this.getStage(),d=this.getCanvas()._canvas;Kinetic.Node.prototype.remove.call(this);a&&d&&Kinetic.Util._isInDocument(d)&&a.content.removeChild(d);return this},getStage:function(){return this.parent},enableHitGraph:function(){this.setHitGraphEnabled(!0);return this},disableHitGraph:function(){this.setHitGraphEnabled(!1);return this}});Kinetic.Util.extend(Kinetic.Layer,
Kinetic.Container);Kinetic.Factory.addGetterSetter(Kinetic.Layer,"clearBeforeDraw",!0);Kinetic.Factory.addGetterSetter(Kinetic.Layer,"hitGraphEnabled",!0);Kinetic.Collection.mapMethods(Kinetic.Layer)})();
(function(){Kinetic.Util.addMethods(Kinetic.Group,{___init:function(a){this.nodeType="Group";Kinetic.Container.call(this,a)},_validateAdd:function(a){a=a.getType();"Group"!==a&&"Shape"!==a&&Kinetic.Util.error("You may only add groups and shapes to groups.")}});Kinetic.Util.extend(Kinetic.Group,Kinetic.Container);Kinetic.Collection.mapMethods(Kinetic.Group)})();
(function(){Kinetic.Rect=function(a){this.___init(a)};Kinetic.Rect.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Rect";this.sceneFunc(this._sceneFunc)},_sceneFunc:function(a){var g=this.getCornerRadius(),c=this.getWidth(),d=this.getHeight();a.beginPath();g?(a.moveTo(g,0),a.lineTo(c-g,0),a.arc(c-g,g,g,3*Math.PI/2,0,!1),a.lineTo(c,d-g),a.arc(c-g,d-g,g,0,Math.PI/2,!1),a.lineTo(g,d),a.arc(g,d-g,g,Math.PI/2,Math.PI,!1),a.lineTo(0,g),a.arc(g,g,g,Math.PI,3*Math.PI/2,!1)):a.rect(0,
0,c,d);a.closePath();a.fillStrokeShape(this)}};Kinetic.Util.extend(Kinetic.Rect,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Rect,"cornerRadius",0);Kinetic.Collection.mapMethods(Kinetic.Rect)})();
(function(){var a=2*Math.PI-1E-4;Kinetic.Circle=function(a){this.___init(a)};Kinetic.Circle.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Circle";this.sceneFunc(this._sceneFunc)},_sceneFunc:function(g){g.beginPath();g.arc(0,0,this.getRadius(),0,a,!1);g.closePath();g.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(a){Kinetic.Node.prototype.setWidth.call(this,a);this.setRadius(a/2)},setHeight:function(a){Kinetic.Node.prototype.setHeight.call(this,
a);this.setRadius(a/2)}};Kinetic.Util.extend(Kinetic.Circle,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Circle,"radius",0);Kinetic.Collection.mapMethods(Kinetic.Circle)})();
(function(){var a=2*Math.PI-1E-4;Kinetic.Ellipse=function(a){this.___init(a)};Kinetic.Ellipse.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Ellipse";this.sceneFunc(this._sceneFunc)},_sceneFunc:function(g){var c=this.getRadius(),d=c.x,c=c.y;g.beginPath();g.save();d!==c&&g.scale(1,c/d);g.arc(0,0,d,0,a,!1);g.restore();g.closePath();g.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius().x},getHeight:function(){return 2*this.getRadius().y},setWidth:function(a){Kinetic.Node.prototype.setWidth.call(this,
a);this.setRadius({x:a/2})},setHeight:function(a){Kinetic.Node.prototype.setHeight.call(this,a);this.setRadius({y:a/2})}};Kinetic.Util.extend(Kinetic.Ellipse,Kinetic.Shape);Kinetic.Factory.addComponentsGetterSetter(Kinetic.Ellipse,"radius",["x","y"]);Kinetic.Factory.addGetterSetter(Kinetic.Ellipse,"radiusX",0);Kinetic.Factory.addGetterSetter(Kinetic.Ellipse,"radiusY",0);Kinetic.Collection.mapMethods(Kinetic.Ellipse)})();
(function(){var a=2*Math.PI-1E-4;Kinetic.Ring=function(a){this.___init(a)};Kinetic.Ring.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Ring";this.sceneFunc(this._sceneFunc)},_sceneFunc:function(g){g.beginPath();g.arc(0,0,this.getInnerRadius(),0,a,!1);g.moveTo(this.getOuterRadius(),0);g.arc(0,0,this.getOuterRadius(),a,0,!0);g.closePath();g.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(a){Kinetic.Node.prototype.setWidth.call(this,
a);this.setOuterRadius(a/2)},setHeight:function(a){Kinetic.Node.prototype.setHeight.call(this,a);this.setOuterRadius(a/2)}};Kinetic.Util.extend(Kinetic.Ring,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Ring,"innerRadius",0);Kinetic.Factory.addGetterSetter(Kinetic.Ring,"outerRadius",0);Kinetic.Collection.mapMethods(Kinetic.Ring)})();
(function(){Kinetic.Wedge=function(a){this.___init(a)};Kinetic.Wedge.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Wedge";this.sceneFunc(this._sceneFunc)},_sceneFunc:function(a){a.beginPath();a.arc(0,0,this.getRadius(),0,this.getAngle()*Math.PI/180,this.getClockwise());a.lineTo(0,0);a.closePath();a.fillStrokeShape(this)}};Kinetic.Util.extend(Kinetic.Wedge,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"radius",0);Kinetic.Factory.addGetterSetter(Kinetic.Wedge,
"angle",0);Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"clockwise",!1);Kinetic.Factory.backCompat(Kinetic.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});Kinetic.Collection.mapMethods(Kinetic.Wedge)})();
(function(){Kinetic.Arc=function(a){this.___init(a)};Kinetic.Arc.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Arc";this.sceneFunc(this._sceneFunc)},_sceneFunc:function(a){var g=this.angle()*Math.PI/180,c=this.clockwise();a.beginPath();a.arc(0,0,this.getOuterRadius(),0,g,c);a.arc(0,0,this.getInnerRadius(),g,0,!c);a.closePath();a.fillStrokeShape(this)}};Kinetic.Util.extend(Kinetic.Arc,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Arc,"innerRadius",0);Kinetic.Factory.addGetterSetter(Kinetic.Arc,
"outerRadius",0);Kinetic.Factory.addGetterSetter(Kinetic.Arc,"angle",0);Kinetic.Factory.addGetterSetter(Kinetic.Arc,"clockwise",!1);Kinetic.Collection.mapMethods(Kinetic.Arc)})();
(function(){Kinetic.Image=function(a){this.___init(a)};Kinetic.Image.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Image";this.sceneFunc(this._sceneFunc);this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_sceneFunc:function(a){var g=this.getWidth(),c=this.getHeight(),d=this.getImage(),b,e,f;d&&(b=this.getCrop(),e=b.width,f=b.height,b=e&&f?[d,b.x,b.y,e,f,0,0,g,c]:[d,0,0,g,c]);a.beginPath();
a.rect(0,0,g,c);a.closePath();a.fillStrokeShape(this);d&&a.drawImage.apply(a,b)},_hitFunc:function(a){var g=this.getWidth(),c=this.getHeight();a.beginPath();a.rect(0,0,g,c);a.closePath();a.fillStrokeShape(this)},getWidth:function(){var a=this.getImage();return this.attrs.width||(a?a.width:0)},getHeight:function(){var a=this.getImage();return this.attrs.height||(a?a.height:0)}};Kinetic.Util.extend(Kinetic.Image,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Image,"image");Kinetic.Factory.addComponentsGetterSetter(Kinetic.Image,
"crop",["x","y","width","height"]);Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropX",0);Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropY",0);Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropWidth",0);Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropHeight",0);Kinetic.Collection.mapMethods(Kinetic.Image)})();
(function(){function a(a){a.fillText(this.partialText,0,0)}function g(a){a.strokeText(this.partialText,0,0)}var c="fontFamily fontSize fontStyle padding align lineHeight text width height wrap".split(" "),d=c.length,b=document.createElement("canvas").getContext("2d");Kinetic.Text=function(a){this.___init(a)};Kinetic.Text.prototype={___init:function(b){void 0===b.width&&(b.width="auto");void 0===b.height&&(b.height="auto");Kinetic.Shape.call(this,b);this._fillFunc=a;this._strokeFunc=g;this.className=
"Text";for(b=0;b<d;b++)this.on(c[b]+"Change.kinetic",this._setTextData);this._setTextData();this.sceneFunc(this._sceneFunc);this.hitFunc(this._hitFunc)},_sceneFunc:function(a){var b=this.getPadding(),c=this.getTextHeight(),d=this.getLineHeight()*c,g=this.textArr,m=g.length,p=this.getWidth();a.setAttr("font",this._getContextFont());a.setAttr("textBaseline","middle");a.setAttr("textAlign","left");a.save();a.translate(b,0);a.translate(0,b+c/2);for(c=0;c<m;c++){var s=g[c],r=s.text,s=s.width;a.save();
"right"===this.getAlign()?a.translate(p-s-2*b,0):"center"===this.getAlign()&&a.translate((p-s-2*b)/2,0);this.partialText=r;a.fillStrokeShape(this);a.restore();a.translate(0,d)}a.restore()},_hitFunc:function(a){var b=this.getWidth(),c=this.getHeight();a.beginPath();a.rect(0,0,b,c);a.closePath();a.fillStrokeShape(this)},setText:function(a){a=Kinetic.Util._isString(a)?a:a.toString();this._setAttr("text",a);return this},getWidth:function(){return"auto"===this.attrs.width?this.getTextWidth()+2*this.getPadding():
this.attrs.width},getHeight:function(){return"auto"===this.attrs.height?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(a){var c=this.getFontSize();b.save();b.font=this._getContextFont();a=b.measureText(a);b.restore();return{width:a.width,height:parseInt(c,10)}},_getContextFont:function(){return this.getFontStyle()+" "+this.getFontSize()+
"px "+this.getFontFamily()},_addTextLine:function(a,b){return this.textArr.push({text:a,width:b})},_getTextWidth:function(a){return b.measureText(a).width},_setTextData:function(){var a=this.getText().split("\n"),c=+this.getFontSize(),d=0,g=this.getLineHeight()*c,l=this.attrs.width,m=this.attrs.height,p="auto"!==l,s="auto"!==m,r=this.getPadding(),l=l-2*r,m=m-2*r,r=0,q=this.getWrap(),u="none"!==q,q="char"!==q&&u;this.textArr=[];b.save();b.font=this.getFontStyle()+" "+c+"px "+this.getFontFamily();for(var v=
0,x=a.length;v<x;++v){var z=a[v],y=this._getTextWidth(z);if(p&&y>l)for(;0<z.length;){for(var y=0,w=z.length,A="",E=0;y<w;){var B=y+w>>>1,F=z.slice(0,B+1),L=this._getTextWidth(F);L<=l?(y=B+1,A=F,E=L):w=B}if(A){q&&(w=Math.max(A.lastIndexOf(" "),A.lastIndexOf("-"))+1,0<w&&(y=w,A=A.slice(0,y),E=this._getTextWidth(A)));this._addTextLine(A,E);r+=g;if(!u||s&&r+g>m)break;z=z.slice(y);if(0<z.length&&(y=this._getTextWidth(z),y<=l)){this._addTextLine(z,y);r+=g;break}}else break}else this._addTextLine(z,y),r+=
g,d=Math.max(d,y);if(s&&r+g>m)break}b.restore();this.textHeight=c;this.textWidth=d}};Kinetic.Util.extend(Kinetic.Text,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontFamily","Arial");Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontSize",12);Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontStyle","normal");Kinetic.Factory.addGetterSetter(Kinetic.Text,"padding",0);Kinetic.Factory.addGetterSetter(Kinetic.Text,"align","left");Kinetic.Factory.addGetterSetter(Kinetic.Text,"lineHeight",
1);Kinetic.Factory.addGetterSetter(Kinetic.Text,"wrap","word");Kinetic.Factory.addGetter(Kinetic.Text,"text","");Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Text,"text");Kinetic.Collection.mapMethods(Kinetic.Text)})();
(function(){Kinetic.Line=function(a){this.___init(a)};Kinetic.Line.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Line";this.on("pointsChange.kinetic tensionChange.kinetic closedChange.kinetic",function(){this._clearCache("tensionPoints")});this.sceneFunc(this._sceneFunc)},_sceneFunc:function(a){var g=this.getPoints(),c=g.length,d=this.getTension(),b=this.getClosed(),e,f;a.beginPath();a.moveTo(g[0],g[1]);if(0!==d&&4<c){d=this.getTensionPoints();e=d.length;f=b?0:4;for(b||
a.quadraticCurveTo(d[0],d[1],d[2],d[3]);f<e-2;)a.bezierCurveTo(d[f++],d[f++],d[f++],d[f++],d[f++],d[f++]);b||a.quadraticCurveTo(d[e-2],d[e-1],g[c-2],g[c-1])}else for(f=2;f<c;f+=2)a.lineTo(g[f],g[f+1]);b?(a.closePath(),a.fillStrokeShape(this)):a.strokeShape(this)},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Kinetic.Util._expandPoints(this.getPoints(),this.getTension())},
_getTensionPointsClosed:function(){var a=this.getPoints(),g=a.length,c=this.getTension(),d=Kinetic.Util,b=d._getControlPoints(a[g-2],a[g-1],a[0],a[1],a[2],a[3],c),d=d._getControlPoints(a[g-4],a[g-3],a[g-2],a[g-1],a[0],a[1],c),c=Kinetic.Util._expandPoints(a,c);return[b[2],b[3]].concat(c).concat([d[0],d[1],a[g-2],a[g-1],d[2],d[3],b[0],b[1],a[0],a[1]])}};Kinetic.Util.extend(Kinetic.Line,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Line,"closed",!1);Kinetic.Factory.addGetterSetter(Kinetic.Line,
"tension",0);Kinetic.Factory.addGetterSetter(Kinetic.Line,"points");Kinetic.Collection.mapMethods(Kinetic.Line)})();
(function(){Kinetic.Sprite=function(a){this.___init(a)};Kinetic.Sprite.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Sprite";this.anim=new Kinetic.Animation;this.on("animationChange.kinetic",function(){this.frameIndex(0)});this.sceneFunc(this._sceneFunc);this.hitFunc(this._hitFunc)},_sceneFunc:function(a){var g=this.getAnimation(),c=4*this.frameIndex(),d=this.getAnimations()[g],g=d[c+0],b=d[c+1],e=d[c+2],c=d[c+3];(d=this.getImage())&&a.drawImage(d,g,b,e,c,0,0,e,c)},_hitFunc:function(a){var g=
this.getAnimation(),c=4*this.frameIndex(),d=this.getAnimations()[g],g=d[c+2],c=d[c+3];a.beginPath();a.rect(0,0,g,c);a.closePath();a.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},start:function(){var a=this,g=this.getLayer();this.anim.setLayers(g);this.interval=setInterval(function(){a._updateIndex()},1E3/this.getFrameRate());this.anim.start()},stop:function(){this.anim.stop();clearInterval(this.interval)},_updateIndex:function(){var a=
this.frameIndex(),g=this.getAnimation(),g=this.getAnimations()[g].length/4;a<g-1?this.frameIndex(a+1):this.frameIndex(0)}};Kinetic.Util.extend(Kinetic.Sprite,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animation");Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animations");Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"image");Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameIndex",0);Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameRate",17);Kinetic.Factory.backCompat(Kinetic.Sprite,
{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});Kinetic.Collection.mapMethods(Kinetic.Sprite)})();
(function(){Kinetic.Path=function(a){this.___init(a)};Kinetic.Path.prototype={___init:function(a){this.dataArray=[];var g=this;Kinetic.Shape.call(this,a);this.className="Path";this.dataArray=Kinetic.Path.parsePathData(this.getData());this.on("dataChange.kinetic",function(){g.dataArray=Kinetic.Path.parsePathData(this.getData())});this.sceneFunc(this._sceneFunc)},_sceneFunc:function(a){var g=this.dataArray,c=!1;a.beginPath();for(var d=0;d<g.length;d++){var b=g[d].points;switch(g[d].command){case "L":a.lineTo(b[0],
b[1]);break;case "M":a.moveTo(b[0],b[1]);break;case "C":a.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5]);break;case "Q":a.quadraticCurveTo(b[0],b[1],b[2],b[3]);break;case "A":var e=b[0],f=b[1],k=b[2],h=b[3],l=b[4],m=b[5],p=b[6],b=b[7],s=k>h?k:h,r=k>h?1:k/h,k=k>h?h/k:1;a.translate(e,f);a.rotate(p);a.scale(r,k);a.arc(0,0,s,l,l+m,1-b);a.scale(1/r,1/k);a.rotate(-p);a.translate(-e,-f);break;case "z":a.closePath(),c=!0}}c?a.fillStrokeShape(this):a.strokeShape(this)}};Kinetic.Util.extend(Kinetic.Path,Kinetic.Shape);
Kinetic.Path.getLineLength=function(a,g,c,d){return Math.sqrt((c-a)*(c-a)+(d-g)*(d-g))};Kinetic.Path.getPointOnLine=function(a,g,c,d,b,e,f){void 0===e&&(e=g);void 0===f&&(f=c);var k=(b-c)/(d-g+1E-8),h=Math.sqrt(a*a/(1+k*k));d<g&&(h*=-1);var l=k*h;if(d===g)g={x:e,y:f+l};else if((f-c)/(e-g+1E-8)===k)g={x:e+h,y:f+l};else{l=this.getLineLength(g,c,d,b);if(1E-8>l)return;h=((e-g)*(d-g)+(f-c)*(b-c))/(l*l);l=g+h*(d-g);c+=h*(b-c);e=this.getLineLength(e,f,l,c);a=Math.sqrt(a*a-e*e);h=Math.sqrt(a*a/(1+k*k));d<
g&&(h*=-1);g={x:l+h,y:c+k*h}}return g};Kinetic.Path.getPointOnCubicBezier=function(a,g,c,d,b,e,f,k,h){return{x:k*a*a*a+3*e*a*a*(1-a)+3*d*a*(1-a)*(1-a)+g*(1-a)*(1-a)*(1-a),y:h*a*a*a+3*f*a*a*(1-a)+3*b*a*(1-a)*(1-a)+c*(1-a)*(1-a)*(1-a)}};Kinetic.Path.getPointOnQuadraticBezier=function(a,g,c,d,b,e,f){return{x:e*a*a+2*d*a*(1-a)+g*(1-a)*(1-a),y:f*a*a+2*b*a*(1-a)+c*(1-a)*(1-a)}};Kinetic.Path.getPointOnEllipticalArc=function(a,g,c,d,b,e){var f=Math.cos(e);e=Math.sin(e);c*=Math.cos(b);d*=Math.sin(b);return{x:a+
(c*f-d*e),y:g+(c*e+d*f)}};Kinetic.Path.parsePathData=function(a){if(!a)return[];var g,c="mMlLvVhHzZcCqQtTsSaA".split("");g=a.replace(/ /g,",");for(a=0;a<c.length;a++)g=g.replace(RegExp(c[a],"g"),"|"+c[a]);c=g.split("|");g=[];var d=0,b=0;for(a=1;a<c.length;a++){var e=c[a],f=e.charAt(0),e=e.slice(1),e=e.replace(/,-/g,"-"),e=e.replace(/-/g,",-"),e=e.replace(/e,-/g,"e-"),e=e.split(",");0<e.length&&""===e[0]&&e.shift();for(var k=0;k<e.length;k++)e[k]=parseFloat(e[k]);for(;0<e.length&&!isNaN(e[0]);){var h=
null,l=[],k=d,m=b,p,s,r,q,u,v;switch(f){case "l":d+=e.shift();b+=e.shift();h="L";l.push(d,b);break;case "L":d=e.shift();b=e.shift();l.push(d,b);break;case "m":f=e.shift();p=e.shift();d+=f;b+=p;h="M";if(2<g.length&&"z"===g[g.length-1].command)for(s=g.length-2;0<=s;s--)if("M"===g[s].command){d=g[s].points[0]+f;b=g[s].points[1]+p;break}l.push(d,b);f="l";break;case "M":d=e.shift();b=e.shift();h="M";l.push(d,b);f="L";break;case "h":d+=e.shift();h="L";l.push(d,b);break;case "H":d=e.shift();h="L";l.push(d,
b);break;case "v":b+=e.shift();h="L";l.push(d,b);break;case "V":b=e.shift();h="L";l.push(d,b);break;case "C":l.push(e.shift(),e.shift(),e.shift(),e.shift());d=e.shift();b=e.shift();l.push(d,b);break;case "c":l.push(d+e.shift(),b+e.shift(),d+e.shift(),b+e.shift());d+=e.shift();b+=e.shift();h="C";l.push(d,b);break;case "S":p=d;s=b;h=g[g.length-1];"C"===h.command&&(p=d+(d-h.points[2]),s=b+(b-h.points[3]));l.push(p,s,e.shift(),e.shift());d=e.shift();b=e.shift();h="C";l.push(d,b);break;case "s":p=d;s=
b;h=g[g.length-1];"C"===h.command&&(p=d+(d-h.points[2]),s=b+(b-h.points[3]));l.push(p,s,d+e.shift(),b+e.shift());d+=e.shift();b+=e.shift();h="C";l.push(d,b);break;case "Q":l.push(e.shift(),e.shift());d=e.shift();b=e.shift();l.push(d,b);break;case "q":l.push(d+e.shift(),b+e.shift());d+=e.shift();b+=e.shift();h="Q";l.push(d,b);break;case "T":p=d;s=b;h=g[g.length-1];"Q"===h.command&&(p=d+(d-h.points[0]),s=b+(b-h.points[1]));d=e.shift();b=e.shift();h="Q";l.push(p,s,d,b);break;case "t":p=d;s=b;h=g[g.length-
1];"Q"===h.command&&(p=d+(d-h.points[0]),s=b+(b-h.points[1]));d+=e.shift();b+=e.shift();h="Q";l.push(p,s,d,b);break;case "A":l=e.shift();p=e.shift();s=e.shift();r=e.shift();q=e.shift();u=d;v=b;d=e.shift();b=e.shift();h="A";l=this.convertEndpointToCenterParameterization(u,v,d,b,r,q,l,p,s);break;case "a":l=e.shift(),p=e.shift(),s=e.shift(),r=e.shift(),q=e.shift(),u=d,v=b,d+=e.shift(),b+=e.shift(),h="A",l=this.convertEndpointToCenterParameterization(u,v,d,b,r,q,l,p,s)}g.push({command:h||f,points:l,start:{x:k,
y:m},pathLength:this.calcLength(k,m,h||f,l)})}"z"!==f&&"Z"!==f||g.push({command:"z",points:[],start:void 0,pathLength:0})}return g};Kinetic.Path.calcLength=function(a,g,c,d){var b,e,f=Kinetic.Path;switch(c){case "L":return f.getLineLength(a,g,d[0],d[1]);case "C":c=0;b=f.getPointOnCubicBezier(0,a,g,d[0],d[1],d[2],d[3],d[4],d[5]);for(t=0.01;1>=t;t+=0.01)e=f.getPointOnCubicBezier(t,a,g,d[0],d[1],d[2],d[3],d[4],d[5]),c+=f.getLineLength(b.x,b.y,e.x,e.y),b=e;return c;case "Q":c=0;b=f.getPointOnQuadraticBezier(0,
a,g,d[0],d[1],d[2],d[3]);for(t=0.01;1>=t;t+=0.01)e=f.getPointOnQuadraticBezier(t,a,g,d[0],d[1],d[2],d[3]),c+=f.getLineLength(b.x,b.y,e.x,e.y),b=e;return c;case "A":c=0;e=d[4];var k=d[5];a=d[4]+k;g=Math.PI/180;Math.abs(e-a)<g&&(g=Math.abs(e-a));b=f.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],e,0);if(0>k)for(t=e-g;t>a;t-=g)e=f.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],t,0),c+=f.getLineLength(b.x,b.y,e.x,e.y),b=e;else for(t=e+g;t<a;t+=g)e=f.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],t,0),c+=f.getLineLength(b.x,
b.y,e.x,e.y),b=e;e=f.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],a,0);return c+=f.getLineLength(b.x,b.y,e.x,e.y)}return 0};Kinetic.Path.convertEndpointToCenterParameterization=function(a,g,c,d,b,e,f,k,h){h*=Math.PI/180;var l=Math.cos(h)*(a-c)/2+Math.sin(h)*(g-d)/2,m=-1*Math.sin(h)*(a-c)/2+Math.cos(h)*(g-d)/2,p=l*l/(f*f)+m*m/(k*k);1<p&&(f*=Math.sqrt(p),k*=Math.sqrt(p));p=Math.sqrt((f*f*k*k-f*f*m*m-k*k*l*l)/(f*f*m*m+k*k*l*l));b==e&&(p*=-1);isNaN(p)&&(p=0);b=p*f*m/k;p=p*-k*l/f;a=(a+c)/2+Math.cos(h)*
b-Math.sin(h)*p;g=(g+d)/2+Math.sin(h)*b+Math.cos(h)*p;var s=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(a[0]*a[0]+a[1]*a[1])*Math.sqrt(b[0]*b[0]+b[1]*b[1]))},r=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(s(a,b))};d=r([1,0],[(l-b)/f,(m-p)/k]);c=[(l-b)/f,(m-p)/k];l=[(-1*l-b)/f,(-1*m-p)/k];m=r(c,l);-1>=s(c,l)&&(m=Math.PI);1<=s(c,l)&&(m=0);0===e&&0<m&&(m-=2*Math.PI);1==e&&0>m&&(m+=2*Math.PI);return[a,g,f,k,d,m,h,e]};Kinetic.Factory.addGetterSetter(Kinetic.Path,"data");Kinetic.Collection.mapMethods(Kinetic.Path)})();
(function(){function a(a){a.fillText(this.partialText,0,0)}function g(a){a.strokeText(this.partialText,0,0)}Kinetic.TextPath=function(a){this.___init(a)};Kinetic.TextPath.prototype={___init:function(c){var d=this;this.dummyCanvas=document.createElement("canvas");this.dataArray=[];Kinetic.Shape.call(this,c);this._fillFunc=a;this._strokeFunc=g;this._fillFuncHit=a;this._strokeFuncHit=g;this.className="TextPath";this.dataArray=Kinetic.Path.parsePathData(this.attrs.data);this.on("dataChange.kinetic",function(){d.dataArray=
Kinetic.Path.parsePathData(this.attrs.data)});this.on("textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic",d._setTextData);d._setTextData();this.sceneFunc(this._sceneFunc)},_sceneFunc:function(a){a.setAttr("font",this._getContextFont());a.setAttr("textBaseline","middle");a.setAttr("textAlign","left");a.save();for(var d=this.glyphInfo,b=0;b<d.length;b++){a.save();var e=d[b].p0;a.translate(e.x,e.y);a.rotate(d[b].rotation);this.partialText=d[b].text;a.fillStrokeShape(this);a.restore()}a.restore()},
getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(a){Kinetic.Text.prototype.setText.call(this,a)},_getTextSize:function(a){var d=this.dummyCanvas.getContext("2d");d.save();d.font=this._getContextFont();a=d.measureText(a);d.restore();return{width:a.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var a=this._getTextSize(this.attrs.text);this.textWidth=a.width;this.textHeight=a.height;this.glyphInfo=[];for(var a=this.attrs.text.split(""),
d,b,e,f=-1,g=0,h=0;h<a.length;h++){var l=this._getTextSize(a[h]).width,m=0,p=0;for(b=void 0;0.01<Math.abs(l-m)/l&&25>p;){p++;for(var s=m;void 0===e;){a:{g=0;e=this.dataArray;for(var r=f+1;r<e.length;r++)if(0<e[r].pathLength){f=r;e=e[r];break a}else"M"==e[r].command&&(d={x:e[r].points[0],y:e[r].points[1]});e={}}e&&s+e.pathLength<l&&(s+=e.pathLength,e=void 0)}if(e==={}||void 0===d)break;s=!1;switch(e.command){case "L":Kinetic.Path.getLineLength(d.x,d.y,e.points[0],e.points[1])>l?b=Kinetic.Path.getPointOnLine(l,
d.x,d.y,e.points[0],e.points[1],d.x,d.y):e=void 0;break;case "A":b=e.points[4];var r=e.points[5],q=e.points[4]+r,g=0===g?b+1E-8:l>m?g+Math.PI/180*r/Math.abs(r):g-Math.PI/360*r/Math.abs(r);if(0>r&&g<q||0<=r&&g>q)g=q,s=!0;b=Kinetic.Path.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],g,e.points[6]);break;case "C":g=0===g?l>e.pathLength?1E-8:l/e.pathLength:l>m?g+(l-m)/e.pathLength:g-(m-l)/e.pathLength;1<g&&(g=1,s=!0);b=Kinetic.Path.getPointOnCubicBezier(g,e.start.x,e.start.y,
e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);break;case "Q":g=0===g?l/e.pathLength:l>m?g+(l-m)/e.pathLength:g-(m-l)/e.pathLength,1<g&&(g=1,s=!0),b=Kinetic.Path.getPointOnQuadraticBezier(g,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3])}void 0!==b&&(m=Kinetic.Path.getLineLength(d.x,d.y,b.x,b.y));s&&(e=void 0)}if(void 0===d||void 0===b)break;l=Kinetic.Path.getLineLength(d.x,d.y,b.x,b.y);l=Kinetic.Path.getPointOnLine(0+l/2,d.x,d.y,b.x,b.y);m=Math.atan2(b.y-
d.y,b.x-d.x);this.glyphInfo.push({transposeX:l.x,transposeY:l.y,text:a[h],rotation:m,p0:d,p1:b});d=b}}};Kinetic.TextPath.prototype._getContextFont=Kinetic.Text.prototype._getContextFont;Kinetic.Util.extend(Kinetic.TextPath,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontFamily","Arial");Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontSize",12);Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontStyle","normal");Kinetic.Factory.addGetter(Kinetic.TextPath,"text","");Kinetic.Collection.mapMethods(Kinetic.TextPath)})();
(function(){Kinetic.RegularPolygon=function(a){this.___init(a)};Kinetic.RegularPolygon.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="RegularPolygon";this.sceneFunc(this._sceneFunc)},_sceneFunc:function(a){var g=this.attrs.sides,c=this.attrs.radius,d,b,e;a.beginPath();a.moveTo(0,0-c);for(d=1;d<g;d++)b=c*Math.sin(2*d*Math.PI/g),e=-1*c*Math.cos(2*d*Math.PI/g),a.lineTo(b,e);a.closePath();a.fillStrokeShape(this)}};Kinetic.Util.extend(Kinetic.RegularPolygon,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,
"radius",0);Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"sides",0);Kinetic.Collection.mapMethods(Kinetic.RegularPolygon)})();
(function(){Kinetic.Star=function(a){this.___init(a)};Kinetic.Star.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Star";this.sceneFunc(this._sceneFunc)},_sceneFunc:function(a){var g=this.innerRadius(),c=this.outerRadius(),d=this.numPoints();a.beginPath();a.moveTo(0,0-c);for(var b=1;b<2*d;b++){var e=0===b%2?c:g,f=e*Math.sin(b*Math.PI/d),e=-1*e*Math.cos(b*Math.PI/d);a.lineTo(f,e)}a.closePath();a.fillStrokeShape(this)}};Kinetic.Util.extend(Kinetic.Star,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Star,
"numPoints",5);Kinetic.Factory.addGetterSetter(Kinetic.Star,"innerRadius",0);Kinetic.Factory.addGetterSetter(Kinetic.Star,"outerRadius",0);Kinetic.Collection.mapMethods(Kinetic.Star)})();
(function(){var a="fontFamily fontSize fontStyle padding lineHeight text".split(" "),g=a.length;Kinetic.Label=function(a){this.____init(a)};Kinetic.Label.prototype={____init:function(a){var d=this;this.className="Label";Kinetic.Group.call(this,a);this.on("add.kinetic",function(a){d._addListeners(a.child);d._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(c){var d=this,b,e=function(){d._sync()};for(b=0;b<g;b++)c.on(a[b]+
"Change.kinetic",e)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var a=this.getText(),d=this.getTag(),b,e,f,g,h,l;if(a&&d){b=a.getWidth();e=a.getHeight();f=d.getPointerDirection();g=d.getPointerWidth();pointerHeight=d.getPointerHeight();l=h=0;switch(f){case "up":h=b/2;l=-1*pointerHeight;break;case "right":h=b+g;l=e/2;break;case "down":h=b/2;l=e+pointerHeight;break;case "left":h=-1*g,l=e/2}d.setAttrs({x:-1*h,y:-1*l,
width:b,height:e});a.setAttrs({x:-1*h,y:-1*l})}}};Kinetic.Util.extend(Kinetic.Label,Kinetic.Group);Kinetic.Collection.mapMethods(Kinetic.Label);Kinetic.Tag=function(a){this.___init(a)};Kinetic.Tag.prototype={___init:function(a){Kinetic.Shape.call(this,a);this.className="Tag";this.sceneFunc(this._sceneFunc)},_sceneFunc:function(a){var d=this.getWidth(),b=this.getHeight(),e=this.getPointerDirection(),f=this.getPointerWidth(),g=this.getPointerHeight();this.getCornerRadius();a.beginPath();a.moveTo(0,
0);"up"===e&&(a.lineTo((d-f)/2,0),a.lineTo(d/2,-1*g),a.lineTo((d+f)/2,0));a.lineTo(d,0);"right"===e&&(a.lineTo(d,(b-g)/2),a.lineTo(d+f,b/2),a.lineTo(d,(b+g)/2));a.lineTo(d,b);"down"===e&&(a.lineTo((d+f)/2,b),a.lineTo(d/2,b+g),a.lineTo((d-f)/2,b));a.lineTo(0,b);"left"===e&&(a.lineTo(0,(b+g)/2),a.lineTo(-1*f,b/2),a.lineTo(0,(b-g)/2));a.closePath();a.fillStrokeShape(this)}};Kinetic.Util.extend(Kinetic.Tag,Kinetic.Shape);Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerDirection","none");Kinetic.Factory.addGetterSetter(Kinetic.Tag,
"pointerWidth",0);Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerHeight",0);Kinetic.Factory.addGetterSetter(Kinetic.Tag,"cornerRadius",0);Kinetic.Collection.mapMethods(Kinetic.Tag)})();(function(a){"function"===typeof define&&define.amd?define(["../../../../../../opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2"],a):a(jQuery)})(function(a){var g={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0},c=function(){var a=0;return function(){var b=a;a+=1;return".perfect-scrollbar-"+b}}();a.fn.perfectScrollbar=function(d,b){return this.each(function(){var e=
a.extend(!0,{},g),f=a(this);"object"===typeof d?a.extend(!0,e,d):b=d;if("update"===b)return f.data("perfect-scrollbar-update")&&f.data("perfect-scrollbar-update")(),f;if("destroy"===b)return f.data("perfect-scrollbar-destroy")&&f.data("perfect-scrollbar-destroy")(),f;if(f.data("perfect-scrollbar"))return f.data("perfect-scrollbar");f.addClass("ps-container");var k=a("<div class='ps-scrollbar-x-rail'></div>").appendTo(f),h=a("<div class='ps-scrollbar-y-rail'></div>").appendTo(f),l=a("<div class='ps-scrollbar-x'></div>").appendTo(k),
m=a("<div class='ps-scrollbar-y'></div>").appendTo(h),p,s,r,q,u,v,x,z,y=parseInt(k.css("bottom"),10),w,A,E=parseInt(h.css("right"),10),B=c(),F=function(a){e.minScrollbarLength&&(a=Math.max(a,e.minScrollbarLength));return a},L=function(){k.css({left:f.scrollLeft(),bottom:y-f.scrollTop(),width:r,display:p?"inherit":"none"});h.css({top:f.scrollTop(),right:E-f.scrollLeft(),height:q,display:s?"inherit":"none"});l.css({left:z,width:x});m.css({top:A,height:w})},H=function(){r=f.width();q=f.height();u=f.prop("scrollWidth");
v=f.prop("scrollHeight");!e.suppressScrollX&&r+e.scrollXMarginOffset<u?(p=!0,x=F(parseInt(r*r/u,10)),z=parseInt(f.scrollLeft()*(r-x)/(u-r),10)):(p=!1,z=x=0,f.scrollLeft(0));!e.suppressScrollY&&q+e.scrollYMarginOffset<v?(s=!0,w=F(parseInt(q*q/v,10)),A=parseInt(f.scrollTop()*(q-w)/(v-q),10)):(s=!1,A=w=0,f.scrollTop(0));A>=q-w&&(A=q-w);z>=r-x&&(z=r-x);L()},G=function(){var b,c;l.bind("mousedown"+B,function(a){c=a.pageX;b=l.position().left;k.addClass("in-scrolling");a.stopPropagation();a.preventDefault()});
a(document).bind("mousemove"+B,function(a){if(k.hasClass("in-scrolling")){var d=b+(a.pageX-c),e=r-x;z=0>d?0:d>e?e:d;d=parseInt(z*(u-r)/(r-x),10);f.scrollLeft(d);h.css({right:E-d});a.stopPropagation();a.preventDefault()}});a(document).bind("mouseup"+B,function(a){k.hasClass("in-scrolling")&&k.removeClass("in-scrolling")});b=c=null},D=function(){var b,c;m.bind("mousedown"+B,function(a){c=a.pageY;b=m.position().top;h.addClass("in-scrolling");a.stopPropagation();a.preventDefault()});a(document).bind("mousemove"+
B,function(a){if(h.hasClass("in-scrolling")){var d=b+(a.pageY-c),e=q-w;A=0>d?0:d>e?e:d;d=parseInt(A*(v-q)/(q-w),10);f.scrollTop(d);k.css({bottom:y-d});a.stopPropagation();a.preventDefault()}});a(document).bind("mouseup"+B,function(a){h.hasClass("in-scrolling")&&h.removeClass("in-scrolling")});b=c=null},T=function(a,b){var c=f.scrollTop();if(0===a){if(!s)return!1;if(0===c&&0<b||c>=v-q&&0>b)return!e.wheelPropagation}c=f.scrollLeft();if(0===b){if(!p)return!1;if(0===c&&0>a||c>=u-r&&0<a)return!e.wheelPropagation}return!0},
Z=function(){var a=!1;f.bind("mousewheel"+B,function(b,c,d,g){c=b.deltaX?b.deltaX/10:d;g=b.deltaY?b.deltaY/10:g;e.useBothWheelAxes?s&&!p?g?f.scrollTop(f.scrollTop()-g*e.wheelSpeed):f.scrollTop(f.scrollTop()+c*e.wheelSpeed):p&&!s&&(c?f.scrollLeft(f.scrollLeft()+c*e.wheelSpeed):f.scrollLeft(f.scrollLeft()-g*e.wheelSpeed)):(f.scrollTop(f.scrollTop()-g*e.wheelSpeed),f.scrollLeft(f.scrollLeft()+c*e.wheelSpeed));H();(a=T(c,g))&&b.preventDefault()});f.bind("MozMousePixelScroll"+B,function(b){a&&b.preventDefault()})},
X=function(){var b=!1;f.bind("mouseenter"+B,function(a){b=!0});f.bind("mouseleave"+B,function(a){b=!1});var c=!1;a(document).bind("keydown"+B,function(a){if(b){var d=0,g=0;switch(a.which){case 37:d=-3;break;case 38:g=3;break;case 39:d=3;break;case 40:g=-3;break;case 33:g=9;break;case 32:case 34:g=-9;break;case 35:g=-q;break;case 36:g=q;break;default:return}f.scrollTop(f.scrollTop()-g*e.wheelSpeed);f.scrollLeft(f.scrollLeft()+d*e.wheelSpeed);(c=T(d,g))&&a.preventDefault()}})},R=function(){var a=function(a){a.stopPropagation()};
m.bind("click"+B,a);h.bind("click"+B,function(a){var b=parseInt(w/2,10);a=(a.pageY-h.offset().top-b)/(q-w);0>a?a=0:1<a&&(a=1);f.scrollTop((v-q)*a)});l.bind("click"+B,a);k.bind("click"+B,function(a){var b=parseInt(x/2,10);a=(a.pageX-k.offset().left-b)/(r-x);0>a?a=0:1<a&&(a=1);f.scrollLeft((u-r)*a)})},P=function(){var b=function(a,b){f.scrollTop(f.scrollTop()-b);f.scrollLeft(f.scrollLeft()-a);H()},c={},d=0,e,g,h=null,k=!1;a(window).bind("touchstart"+B,function(a){k=!0});a(window).bind("touchend"+B,
function(a){k=!1});f.bind("touchstart"+B,function(a){var b=a.originalEvent.targetTouches[0];c.pageX=b.pageX;c.pageY=b.pageY;d=(new Date).getTime();null!==h&&clearInterval(h);a.stopPropagation()});f.bind("touchmove"+B,function(a){if(!k&&1===a.originalEvent.targetTouches.length){var f=a.originalEvent.targetTouches[0],h={};h.pageX=f.pageX;h.pageY=f.pageY;var f=h.pageX-c.pageX,l=h.pageY-c.pageY;b(f,l);c=h;h=(new Date).getTime();e=f/(h-d);g=l/(h-d);d=h;a.preventDefault()}});f.bind("touchend"+B,function(a){clearInterval(h);
h=setInterval(function(){0.01>Math.abs(e)&&0.01>Math.abs(g)?clearInterval(h):(b(30*e,30*g),e*=0.8,g*=0.8)},10)})},Y=function(){f.bind("scroll"+B,function(a){H()})},J=function(){f.unbind(B);a(window).unbind(B);a(document).unbind(B);f.data("perfect-scrollbar",null);f.data("perfect-scrollbar-update",null);f.data("perfect-scrollbar-destroy",null);l.remove();m.remove();k.remove();h.remove();l=m=r=q=u=v=x=z=y=w=A=E=null},I=function(b){f.addClass("ie").addClass("ie"+b);var c=function(){L=function(){l.css({left:z+
f.scrollLeft(),bottom:y,width:x});m.css({top:A+f.scrollTop(),right:E,height:w});l.hide().show();m.hide().show()}};6===b&&(function(){var b=function(){a(this).addClass("hover")},c=function(){a(this).removeClass("hover")};f.bind("mouseenter"+B,b).bind("mouseleave"+B,c);k.bind("mouseenter"+B,b).bind("mouseleave"+B,c);h.bind("mouseenter"+B,b).bind("mouseleave"+B,c);l.bind("mouseenter"+B,b).bind("mouseleave"+B,c);m.bind("mouseenter"+B,b).bind("mouseleave"+B,c)}(),c())},C="ontouchstart"in window||window.DocumentTouch&&
document instanceof window.DocumentTouch;(function(){var a=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);a&&"msie"===a[1]&&I(parseInt(a[2],10));H();Y();G();D();R();C&&P();f.mousewheel&&Z();e.useKeyboard&&X();f.data("perfect-scrollbar",f);f.data("perfect-scrollbar-update",H);f.data("perfect-scrollbar-destroy",J)})();return f})}});
